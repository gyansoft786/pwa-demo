var mt=(()=>{var pe=import.meta.url;return function(se){var ue=se||{},t=typeof ue<"u"?ue:{},be,xe;t.ready=new Promise(function(n,e){be=n,xe=e});let Me=globalThis.sqlite3InitModuleState||Object.assign(Object.create(null),{debugModule:()=>{}});delete globalThis.sqlite3InitModuleState,Me.debugModule("globalThis.location =",globalThis.location);let Je="emscripten-bug-17951";t[Je]=function n(e,i){e.env.foo=function(){};let o=t.locateFile(n.uri,typeof ke>"u"?"":ke);Me.debugModule("instantiateWasm() uri =",o);let r=()=>fetch(o,{credentials:"same-origin"});return(WebAssembly.instantiateStreaming?async()=>WebAssembly.instantiateStreaming(r(),e).then(p=>i(p.instance,p.module)):async()=>r().then(p=>p.arrayBuffer()).then(p=>WebAssembly.instantiate(p,e)).then(p=>i(p.instance,p.module)))(),{}},t[Je].uri="sqlite3.wasm";var We=Object.assign({},t),Oe=[],Qe="./this.program",ee=(n,e)=>{throw e},ve=typeof window=="object",Ie=typeof importScripts=="function",He=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",gt=!ve&&!He&&!Ie,ke="";function Ht(n){return t.locateFile?t.locateFile(n,ke):ke+n}var st,qt,it,Vt;(ve||Ie)&&(Ie?ke=self.location.href:typeof document<"u"&&document.currentScript&&(ke=document.currentScript.src),pe&&(ke=pe),ke.indexOf("blob:")!==0?ke=ke.substr(0,ke.replace(/[?#].*/,"").lastIndexOf("/")+1):ke="",st=n=>{var e=new XMLHttpRequest;return e.open("GET",n,!1),e.send(null),e.responseText},Ie&&(it=n=>{var e=new XMLHttpRequest;return e.open("GET",n,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),qt=(n,e,i)=>{var o=new XMLHttpRequest;o.open("GET",n,!0),o.responseType="arraybuffer",o.onload=()=>{if(o.status==200||o.status==0&&o.response){e(o.response);return}i()},o.onerror=i,o.send(null)},Vt=n=>document.title=n);var Xe=t.print||console.log.bind(console),De=t.printErr||console.warn.bind(console);Object.assign(t,We),We=null,t.arguments&&(Oe=t.arguments),t.thisProgram&&(Qe=t.thisProgram),t.quit&&(ee=t.quit);var ja=16,Gt=4;function Ba(n){switch(n){case"i1":case"i8":case"u8":return 1;case"i16":case"u16":return 2;case"i32":case"u32":return 4;case"i64":case"u64":return 8;case"float":return 4;case"double":return 8;default:{if(n[n.length-1]==="*")return Gt;if(n[0]==="i"){let e=Number(n.substr(1));return bt(e%8===0,"getNativeTypeSize invalid bits "+e+", type "+n),e/8}return 0}}}var Ve;t.wasmBinary&&(Ve=t.wasmBinary);var $t=t.noExitRuntime||!0;typeof WebAssembly!="object"&&Re("no native wasm support detected");var Ce,yt=!1,Kt;function bt(n,e){n||Re(e)}var vt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Be(n,e,i){for(var o=e+i,r=e;n[r]&&!(r>=o);)++r;if(r-e>16&&n.buffer&&vt)return vt.decode(n.subarray(e,r));for(var s="";e<r;){var p=n[e++];if(!(p&128)){s+=String.fromCharCode(p);continue}var m=n[e++]&63;if((p&224)==192){s+=String.fromCharCode((p&31)<<6|m);continue}var P=n[e++]&63;if((p&240)==224?p=(p&15)<<12|m<<6|P:p=(p&7)<<18|m<<12|P<<6|n[e++]&63,p<65536)s+=String.fromCharCode(p);else{var C=p-65536;s+=String.fromCharCode(55296|C>>10,56320|C&1023)}}return s}function Jt(n,e){return n?Be(ze,n,e):""}function Ye(n,e,i,o){if(!(o>0))return 0;for(var r=i,s=i+o-1,p=0;p<n.length;++p){var m=n.charCodeAt(p);if(m>=55296&&m<=57343){var P=n.charCodeAt(++p);m=65536+((m&1023)<<10)|P&1023}if(m<=127){if(i>=s)break;e[i++]=m}else if(m<=2047){if(i+1>=s)break;e[i++]=192|m>>6,e[i++]=128|m&63}else if(m<=65535){if(i+2>=s)break;e[i++]=224|m>>12,e[i++]=128|m>>6&63,e[i++]=128|m&63}else{if(i+3>=s)break;e[i++]=240|m>>18,e[i++]=128|m>>12&63,e[i++]=128|m>>6&63,e[i++]=128|m&63}}return e[i]=0,i-r}function wt(n,e,i){return Ye(n,ze,e,i)}function Ge(n){for(var e=0,i=0;i<n.length;++i){var o=n.charCodeAt(i);o<=127?e++:o<=2047?e+=2:o>=55296&&o<=57343?(e+=4,++i):e+=3}return e}var za,Se,ze,Ze,Xt,ie,ge,ot,Et,Yt,at;function St(){var n=Ce.buffer;t.HEAP8=Se=new Int8Array(n),t.HEAP16=Ze=new Int16Array(n),t.HEAP32=ie=new Int32Array(n),t.HEAPU8=ze=new Uint8Array(n),t.HEAPU16=Xt=new Uint16Array(n),t.HEAPU32=ge=new Uint32Array(n),t.HEAPF32=ot=new Float32Array(n),t.HEAPF64=at=new Float64Array(n),t.HEAP64=Et=new BigInt64Array(n),t.HEAPU64=Yt=new BigUint64Array(n)}var Ua=524288,xt=t.INITIAL_MEMORY||16777216;t.wasmMemory?Ce=t.wasmMemory:Ce=new WebAssembly.Memory({initial:xt/65536,maximum:32768}),St(),xt=Ce.buffer.byteLength;var Zt,At=[],It=[],Wa=[],kt=[],en=!1;function Qa(){return $t}function tn(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)sn(t.preRun.shift());_t(At)}function nn(){en=!0,!t.noFSInit&&!a.init.initialized&&a.init(),a.ignorePermissions=!1,Ne.init(),_t(It)}function rn(){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)an(t.postRun.shift());_t(kt)}function sn(n){At.unshift(n)}function on(n){It.unshift(n)}function Ha(n){}function an(n){kt.unshift(n)}var je=0,lt=null,$e=null;function Va(n){return n}function ct(n){je++,t.monitorRunDependencies&&t.monitorRunDependencies(je)}function et(n){if(je--,t.monitorRunDependencies&&t.monitorRunDependencies(je),je==0&&(lt!==null&&(clearInterval(lt),lt=null),$e)){var e=$e;$e=null,e()}}function Re(n){t.onAbort&&t.onAbort(n),n="Aborted("+n+")",De(n),yt=!0,Kt=1,n+=". Build with -sASSERTIONS for more info.";var e=new WebAssembly.RuntimeError(n);throw xe(e),e}var ln="data:application/octet-stream;base64,";function Tt(n){return n.startsWith(ln)}function Ga(n){return n.startsWith("file://")}var Te;t.locateFile?(Te="sqlite3.wasm",Tt(Te)||(Te=Ht(Te))):Te=new URL("sqlite3.wasm",import.meta.url).href;function Ft(n){try{if(n==Te&&Ve)return new Uint8Array(Ve);if(it)return it(n);throw"both async and sync fetching of the wasm failed"}catch(e){Re(e)}}function cn(){return!Ve&&(ve||Ie)&&typeof fetch=="function"?fetch(Te,{credentials:"same-origin"}).then(function(n){if(!n.ok)throw"failed to load wasm binary file at '"+Te+"'";return n.arrayBuffer()}).catch(function(){return Ft(Te)}):Promise.resolve().then(function(){return Ft(Te)})}function _n(){var n={env:Rt,wasi_snapshot_preview1:Rt};function e(p,m){var P=p.exports;t.asm=P,Zt=t.asm.__indirect_function_table,on(t.asm.__wasm_call_ctors),et("wasm-instantiate")}ct("wasm-instantiate");function i(p){e(p.instance)}function o(p){return cn().then(function(m){return WebAssembly.instantiate(m,n)}).then(function(m){return m}).then(p,function(m){De("failed to asynchronously prepare wasm: "+m),Re(m)})}function r(){return!Ve&&typeof WebAssembly.instantiateStreaming=="function"&&!Tt(Te)&&typeof fetch=="function"?fetch(Te,{credentials:"same-origin"}).then(function(p){var m=WebAssembly.instantiateStreaming(p,n);return m.then(i,function(P){return De("wasm streaming compile failed: "+P),De("falling back to ArrayBuffer instantiation"),o(i)})}):o(i)}if(t.instantiateWasm)try{var s=t.instantiateWasm(n,e);return s}catch(p){De("Module.instantiateWasm callback failed with error: "+p),xe(p)}return r().catch(xe),{}}var ae,ye,$a={};function Ka(n){this.name="ExitStatus",this.message="Program terminated with exit("+n+")",this.status=n}function _t(n){for(;n.length>0;)n.shift()(t)}function Ja(n,e="i8"){switch(e.endsWith("*")&&(e="*"),e){case"i1":return Se[n>>0];case"i8":return Se[n>>0];case"i16":return Ze[n>>1];case"i32":return ie[n>>2];case"i64":return Et[n>>3];case"float":return ot[n>>2];case"double":return at[n>>3];case"*":return ge[n>>2];default:Re("invalid type for getValue: "+e)}return null}function Xa(n,e,i="i8"){switch(i.endsWith("*")&&(i="*"),i){case"i1":Se[n>>0]=e;break;case"i8":Se[n>>0]=e;break;case"i16":Ze[n>>1]=e;break;case"i32":ie[n>>2]=e;break;case"i64":ye=[e>>>0,(ae=e,+Math.abs(ae)>=1?ae>0?(Math.min(+Math.floor(ae/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ae-+(~~ae>>>0))/4294967296)>>>0:0)],ie[n>>2]=ye[0],ie[n+4>>2]=ye[1];break;case"float":ot[n>>2]=e;break;case"double":at[n>>3]=e;break;case"*":ge[n>>2]=e;break;default:Re("invalid type for setValue: "+i)}}var fe={isAbs:n=>n.charAt(0)==="/",splitPath:n=>{var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return e.exec(n).slice(1)},normalizeArray:(n,e)=>{for(var i=0,o=n.length-1;o>=0;o--){var r=n[o];r==="."?n.splice(o,1):r===".."?(n.splice(o,1),i++):i&&(n.splice(o,1),i--)}if(e)for(;i;i--)n.unshift("..");return n},normalize:n=>{var e=fe.isAbs(n),i=n.substr(-1)==="/";return n=fe.normalizeArray(n.split("/").filter(o=>!!o),!e).join("/"),!n&&!e&&(n="."),n&&i&&(n+="/"),(e?"/":"")+n},dirname:n=>{var e=fe.splitPath(n),i=e[0],o=e[1];return!i&&!o?".":(o&&(o=o.substr(0,o.length-1)),i+o)},basename:n=>{if(n==="/")return"/";n=fe.normalize(n),n=n.replace(/\/$/,"");var e=n.lastIndexOf("/");return e===-1?n:n.substr(e+1)},join:function(){var n=Array.prototype.slice.call(arguments);return fe.normalize(n.join("/"))},join2:(n,e)=>fe.normalize(n+"/"+e)};function un(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var n=new Uint8Array(1);return()=>(crypto.getRandomValues(n),n[0])}else return()=>Re("randomDevice")}var Pe={resolve:function(){for(var n="",e=!1,i=arguments.length-1;i>=-1&&!e;i--){var o=i>=0?arguments[i]:a.cwd();if(typeof o!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!o)return"";n=o+"/"+n,e=fe.isAbs(o)}return n=fe.normalizeArray(n.split("/").filter(r=>!!r),!e).join("/"),(e?"/":"")+n||"."},relative:(n,e)=>{n=Pe.resolve(n).substr(1),e=Pe.resolve(e).substr(1);function i(C){for(var B=0;B<C.length&&C[B]==="";B++);for(var j=C.length-1;j>=0&&C[j]==="";j--);return B>j?[]:C.slice(B,j-B+1)}for(var o=i(n.split("/")),r=i(e.split("/")),s=Math.min(o.length,r.length),p=s,m=0;m<s;m++)if(o[m]!==r[m]){p=m;break}for(var P=[],m=p;m<o.length;m++)P.push("..");return P=P.concat(r.slice(p)),P.join("/")}};function ut(n,e,i){var o=i>0?i:Ge(n)+1,r=new Array(o),s=Ye(n,r,0,r.length);return e&&(r.length=s),r}var Ne={ttys:[],init:function(){},shutdown:function(){},register:function(n,e){Ne.ttys[n]={input:[],output:[],ops:e},a.registerDevice(n,Ne.stream_ops)},stream_ops:{open:function(n){var e=Ne.ttys[n.node.rdev];if(!e)throw new a.ErrnoError(43);n.tty=e,n.seekable=!1},close:function(n){n.tty.ops.fsync(n.tty)},fsync:function(n){n.tty.ops.fsync(n.tty)},read:function(n,e,i,o,r){if(!n.tty||!n.tty.ops.get_char)throw new a.ErrnoError(60);for(var s=0,p=0;p<o;p++){var m;try{m=n.tty.ops.get_char(n.tty)}catch{throw new a.ErrnoError(29)}if(m===void 0&&s===0)throw new a.ErrnoError(6);if(m==null)break;s++,e[i+p]=m}return s&&(n.node.timestamp=Date.now()),s},write:function(n,e,i,o,r){if(!n.tty||!n.tty.ops.put_char)throw new a.ErrnoError(60);try{for(var s=0;s<o;s++)n.tty.ops.put_char(n.tty,e[i+s])}catch{throw new a.ErrnoError(29)}return o&&(n.node.timestamp=Date.now()),s}},default_tty_ops:{get_char:function(n){if(!n.input.length){var e=null;if(typeof window<"u"&&typeof window.prompt=="function"?(e=window.prompt("Input: "),e!==null&&(e+=`
`)):typeof readline=="function"&&(e=readline(),e!==null&&(e+=`
`)),!e)return null;n.input=ut(e,!0)}return n.input.shift()},put_char:function(n,e){e===null||e===10?(Xe(Be(n.output,0)),n.output=[]):e!=0&&n.output.push(e)},fsync:function(n){n.output&&n.output.length>0&&(Xe(Be(n.output,0)),n.output=[])}},default_tty1_ops:{put_char:function(n,e){e===null||e===10?(De(Be(n.output,0)),n.output=[]):e!=0&&n.output.push(e)},fsync:function(n){n.output&&n.output.length>0&&(De(Be(n.output,0)),n.output=[])}}};function fn(n,e){return ze.fill(0,n,n+e),n}function dn(n,e){return Math.ceil(n/e)*e}function Ot(n){n=dn(n,65536);var e=jt(65536,n);return e?fn(e,n):0}var le={ops_table:null,mount:function(n){return le.createNode(null,"/",16895,0)},createNode:function(n,e,i,o){if(a.isBlkdev(i)||a.isFIFO(i))throw new a.ErrnoError(63);le.ops_table||(le.ops_table={dir:{node:{getattr:le.node_ops.getattr,setattr:le.node_ops.setattr,lookup:le.node_ops.lookup,mknod:le.node_ops.mknod,rename:le.node_ops.rename,unlink:le.node_ops.unlink,rmdir:le.node_ops.rmdir,readdir:le.node_ops.readdir,symlink:le.node_ops.symlink},stream:{llseek:le.stream_ops.llseek}},file:{node:{getattr:le.node_ops.getattr,setattr:le.node_ops.setattr},stream:{llseek:le.stream_ops.llseek,read:le.stream_ops.read,write:le.stream_ops.write,allocate:le.stream_ops.allocate,mmap:le.stream_ops.mmap,msync:le.stream_ops.msync}},link:{node:{getattr:le.node_ops.getattr,setattr:le.node_ops.setattr,readlink:le.node_ops.readlink},stream:{}},chrdev:{node:{getattr:le.node_ops.getattr,setattr:le.node_ops.setattr},stream:a.chrdev_stream_ops}});var r=a.createNode(n,e,i,o);return a.isDir(r.mode)?(r.node_ops=le.ops_table.dir.node,r.stream_ops=le.ops_table.dir.stream,r.contents={}):a.isFile(r.mode)?(r.node_ops=le.ops_table.file.node,r.stream_ops=le.ops_table.file.stream,r.usedBytes=0,r.contents=null):a.isLink(r.mode)?(r.node_ops=le.ops_table.link.node,r.stream_ops=le.ops_table.link.stream):a.isChrdev(r.mode)&&(r.node_ops=le.ops_table.chrdev.node,r.stream_ops=le.ops_table.chrdev.stream),r.timestamp=Date.now(),n&&(n.contents[e]=r,n.timestamp=r.timestamp),r},getFileDataAsTypedArray:function(n){return n.contents?n.contents.subarray?n.contents.subarray(0,n.usedBytes):new Uint8Array(n.contents):new Uint8Array(0)},expandFileStorage:function(n,e){var i=n.contents?n.contents.length:0;if(!(i>=e)){var o=1024*1024;e=Math.max(e,i*(i<o?2:1.125)>>>0),i!=0&&(e=Math.max(e,256));var r=n.contents;n.contents=new Uint8Array(e),n.usedBytes>0&&n.contents.set(r.subarray(0,n.usedBytes),0)}},resizeFileStorage:function(n,e){if(n.usedBytes!=e)if(e==0)n.contents=null,n.usedBytes=0;else{var i=n.contents;n.contents=new Uint8Array(e),i&&n.contents.set(i.subarray(0,Math.min(e,n.usedBytes))),n.usedBytes=e}},node_ops:{getattr:function(n){var e={};return e.dev=a.isChrdev(n.mode)?n.id:1,e.ino=n.id,e.mode=n.mode,e.nlink=1,e.uid=0,e.gid=0,e.rdev=n.rdev,a.isDir(n.mode)?e.size=4096:a.isFile(n.mode)?e.size=n.usedBytes:a.isLink(n.mode)?e.size=n.link.length:e.size=0,e.atime=new Date(n.timestamp),e.mtime=new Date(n.timestamp),e.ctime=new Date(n.timestamp),e.blksize=4096,e.blocks=Math.ceil(e.size/e.blksize),e},setattr:function(n,e){e.mode!==void 0&&(n.mode=e.mode),e.timestamp!==void 0&&(n.timestamp=e.timestamp),e.size!==void 0&&le.resizeFileStorage(n,e.size)},lookup:function(n,e){throw a.genericErrors[44]},mknod:function(n,e,i,o){return le.createNode(n,e,i,o)},rename:function(n,e,i){if(a.isDir(n.mode)){var o;try{o=a.lookupNode(e,i)}catch{}if(o)for(var r in o.contents)throw new a.ErrnoError(55)}delete n.parent.contents[n.name],n.parent.timestamp=Date.now(),n.name=i,e.contents[i]=n,e.timestamp=n.parent.timestamp,n.parent=e},unlink:function(n,e){delete n.contents[e],n.timestamp=Date.now()},rmdir:function(n,e){var i=a.lookupNode(n,e);for(var o in i.contents)throw new a.ErrnoError(55);delete n.contents[e],n.timestamp=Date.now()},readdir:function(n){var e=[".",".."];for(var i in n.contents)n.contents.hasOwnProperty(i)&&e.push(i);return e},symlink:function(n,e,i){var o=le.createNode(n,e,41471,0);return o.link=i,o},readlink:function(n){if(!a.isLink(n.mode))throw new a.ErrnoError(28);return n.link}},stream_ops:{read:function(n,e,i,o,r){var s=n.node.contents;if(r>=n.node.usedBytes)return 0;var p=Math.min(n.node.usedBytes-r,o);if(p>8&&s.subarray)e.set(s.subarray(r,r+p),i);else for(var m=0;m<p;m++)e[i+m]=s[r+m];return p},write:function(n,e,i,o,r,s){if(e.buffer===Se.buffer&&(s=!1),!o)return 0;var p=n.node;if(p.timestamp=Date.now(),e.subarray&&(!p.contents||p.contents.subarray)){if(s)return p.contents=e.subarray(i,i+o),p.usedBytes=o,o;if(p.usedBytes===0&&r===0)return p.contents=e.slice(i,i+o),p.usedBytes=o,o;if(r+o<=p.usedBytes)return p.contents.set(e.subarray(i,i+o),r),o}if(le.expandFileStorage(p,r+o),p.contents.subarray&&e.subarray)p.contents.set(e.subarray(i,i+o),r);else for(var m=0;m<o;m++)p.contents[r+m]=e[i+m];return p.usedBytes=Math.max(p.usedBytes,r+o),o},llseek:function(n,e,i){var o=e;if(i===1?o+=n.position:i===2&&a.isFile(n.node.mode)&&(o+=n.node.usedBytes),o<0)throw new a.ErrnoError(28);return o},allocate:function(n,e,i){le.expandFileStorage(n.node,e+i),n.node.usedBytes=Math.max(n.node.usedBytes,e+i)},mmap:function(n,e,i,o,r){if(!a.isFile(n.node.mode))throw new a.ErrnoError(43);var s,p,m=n.node.contents;if(!(r&2)&&m.buffer===Se.buffer)p=!1,s=m.byteOffset;else{if((i>0||i+e<m.length)&&(m.subarray?m=m.subarray(i,i+e):m=Array.prototype.slice.call(m,i,i+e)),p=!0,s=Ot(e),!s)throw new a.ErrnoError(48);Se.set(m,s)}return{ptr:s,allocated:p}},msync:function(n,e,i,o,r){return le.stream_ops.write(n,e,0,o,i,!1),0}}};function pn(n,e,i,o){var r=o?"":"al "+n;qt(n,s=>{bt(s,'Loading data file "'+n+'" failed (no arrayBuffer).'),e(new Uint8Array(s)),r&&et(r)},s=>{if(i)i();else throw'Loading data file "'+n+'" failed.'}),r&&ct(r)}var a={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(n,e={})=>{if(n=Pe.resolve(n),!n)return{path:"",node:null};var i={follow_mount:!0,recurse_count:0};if(e=Object.assign(i,e),e.recurse_count>8)throw new a.ErrnoError(32);for(var o=n.split("/").filter(j=>!!j),r=a.root,s="/",p=0;p<o.length;p++){var m=p===o.length-1;if(m&&e.parent)break;if(r=a.lookupNode(r,o[p]),s=fe.join2(s,o[p]),a.isMountpoint(r)&&(!m||m&&e.follow_mount)&&(r=r.mounted.root),!m||e.follow)for(var P=0;a.isLink(r.mode);){var C=a.readlink(s);s=Pe.resolve(fe.dirname(s),C);var B=a.lookupPath(s,{recurse_count:e.recurse_count+1});if(r=B.node,P++>40)throw new a.ErrnoError(32)}}return{path:s,node:r}},getPath:n=>{for(var e;;){if(a.isRoot(n)){var i=n.mount.mountpoint;return e?i[i.length-1]!=="/"?i+"/"+e:i+e:i}e=e?n.name+"/"+e:n.name,n=n.parent}},hashName:(n,e)=>{for(var i=0,o=0;o<e.length;o++)i=(i<<5)-i+e.charCodeAt(o)|0;return(n+i>>>0)%a.nameTable.length},hashAddNode:n=>{var e=a.hashName(n.parent.id,n.name);n.name_next=a.nameTable[e],a.nameTable[e]=n},hashRemoveNode:n=>{var e=a.hashName(n.parent.id,n.name);if(a.nameTable[e]===n)a.nameTable[e]=n.name_next;else for(var i=a.nameTable[e];i;){if(i.name_next===n){i.name_next=n.name_next;break}i=i.name_next}},lookupNode:(n,e)=>{var i=a.mayLookup(n);if(i)throw new a.ErrnoError(i,n);for(var o=a.hashName(n.id,e),r=a.nameTable[o];r;r=r.name_next){var s=r.name;if(r.parent.id===n.id&&s===e)return r}return a.lookup(n,e)},createNode:(n,e,i,o)=>{var r=new a.FSNode(n,e,i,o);return a.hashAddNode(r),r},destroyNode:n=>{a.hashRemoveNode(n)},isRoot:n=>n===n.parent,isMountpoint:n=>!!n.mounted,isFile:n=>(n&61440)===32768,isDir:n=>(n&61440)===16384,isLink:n=>(n&61440)===40960,isChrdev:n=>(n&61440)===8192,isBlkdev:n=>(n&61440)===24576,isFIFO:n=>(n&61440)===4096,isSocket:n=>(n&49152)===49152,flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:n=>{var e=a.flagModes[n];if(typeof e>"u")throw new Error("Unknown file open mode: "+n);return e},flagsToPermissionString:n=>{var e=["r","w","rw"][n&3];return n&512&&(e+="w"),e},nodePermissions:(n,e)=>a.ignorePermissions?0:e.includes("r")&&!(n.mode&292)||e.includes("w")&&!(n.mode&146)||e.includes("x")&&!(n.mode&73)?2:0,mayLookup:n=>{var e=a.nodePermissions(n,"x");return e||(n.node_ops.lookup?0:2)},mayCreate:(n,e)=>{try{var i=a.lookupNode(n,e);return 20}catch{}return a.nodePermissions(n,"wx")},mayDelete:(n,e,i)=>{var o;try{o=a.lookupNode(n,e)}catch(s){return s.errno}var r=a.nodePermissions(n,"wx");if(r)return r;if(i){if(!a.isDir(o.mode))return 54;if(a.isRoot(o)||a.getPath(o)===a.cwd())return 10}else if(a.isDir(o.mode))return 31;return 0},mayOpen:(n,e)=>n?a.isLink(n.mode)?32:a.isDir(n.mode)&&(a.flagsToPermissionString(e)!=="r"||e&512)?31:a.nodePermissions(n,a.flagsToPermissionString(e)):44,MAX_OPEN_FDS:4096,nextfd:(n=0,e=a.MAX_OPEN_FDS)=>{for(var i=n;i<=e;i++)if(!a.streams[i])return i;throw new a.ErrnoError(33)},getStream:n=>a.streams[n],createStream:(n,e,i)=>{a.FSStream||(a.FSStream=function(){this.shared={}},a.FSStream.prototype={},Object.defineProperties(a.FSStream.prototype,{object:{get:function(){return this.node},set:function(r){this.node=r}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}},flags:{get:function(){return this.shared.flags},set:function(r){this.shared.flags=r}},position:{get:function(){return this.shared.position},set:function(r){this.shared.position=r}}})),n=Object.assign(new a.FSStream,n);var o=a.nextfd(e,i);return n.fd=o,a.streams[o]=n,n},closeStream:n=>{a.streams[n]=null},chrdev_stream_ops:{open:n=>{var e=a.getDevice(n.node.rdev);n.stream_ops=e.stream_ops,n.stream_ops.open&&n.stream_ops.open(n)},llseek:()=>{throw new a.ErrnoError(70)}},major:n=>n>>8,minor:n=>n&255,makedev:(n,e)=>n<<8|e,registerDevice:(n,e)=>{a.devices[n]={stream_ops:e}},getDevice:n=>a.devices[n],getMounts:n=>{for(var e=[],i=[n];i.length;){var o=i.pop();e.push(o),i.push.apply(i,o.mounts)}return e},syncfs:(n,e)=>{typeof n=="function"&&(e=n,n=!1),a.syncFSRequests++,a.syncFSRequests>1&&De("warning: "+a.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var i=a.getMounts(a.root.mount),o=0;function r(p){return a.syncFSRequests--,e(p)}function s(p){if(p)return s.errored?void 0:(s.errored=!0,r(p));++o>=i.length&&r(null)}i.forEach(p=>{if(!p.type.syncfs)return s(null);p.type.syncfs(p,n,s)})},mount:(n,e,i)=>{var o=i==="/",r=!i,s;if(o&&a.root)throw new a.ErrnoError(10);if(!o&&!r){var p=a.lookupPath(i,{follow_mount:!1});if(i=p.path,s=p.node,a.isMountpoint(s))throw new a.ErrnoError(10);if(!a.isDir(s.mode))throw new a.ErrnoError(54)}var m={type:n,opts:e,mountpoint:i,mounts:[]},P=n.mount(m);return P.mount=m,m.root=P,o?a.root=P:s&&(s.mounted=m,s.mount&&s.mount.mounts.push(m)),P},unmount:n=>{var e=a.lookupPath(n,{follow_mount:!1});if(!a.isMountpoint(e.node))throw new a.ErrnoError(28);var i=e.node,o=i.mounted,r=a.getMounts(o);Object.keys(a.nameTable).forEach(p=>{for(var m=a.nameTable[p];m;){var P=m.name_next;r.includes(m.mount)&&a.destroyNode(m),m=P}}),i.mounted=null;var s=i.mount.mounts.indexOf(o);i.mount.mounts.splice(s,1)},lookup:(n,e)=>n.node_ops.lookup(n,e),mknod:(n,e,i)=>{var o=a.lookupPath(n,{parent:!0}),r=o.node,s=fe.basename(n);if(!s||s==="."||s==="..")throw new a.ErrnoError(28);var p=a.mayCreate(r,s);if(p)throw new a.ErrnoError(p);if(!r.node_ops.mknod)throw new a.ErrnoError(63);return r.node_ops.mknod(r,s,e,i)},create:(n,e)=>(e=e!==void 0?e:438,e&=4095,e|=32768,a.mknod(n,e,0)),mkdir:(n,e)=>(e=e!==void 0?e:511,e&=1023,e|=16384,a.mknod(n,e,0)),mkdirTree:(n,e)=>{for(var i=n.split("/"),o="",r=0;r<i.length;++r)if(i[r]){o+="/"+i[r];try{a.mkdir(o,e)}catch(s){if(s.errno!=20)throw s}}},mkdev:(n,e,i)=>(typeof i>"u"&&(i=e,e=438),e|=8192,a.mknod(n,e,i)),symlink:(n,e)=>{if(!Pe.resolve(n))throw new a.ErrnoError(44);var i=a.lookupPath(e,{parent:!0}),o=i.node;if(!o)throw new a.ErrnoError(44);var r=fe.basename(e),s=a.mayCreate(o,r);if(s)throw new a.ErrnoError(s);if(!o.node_ops.symlink)throw new a.ErrnoError(63);return o.node_ops.symlink(o,r,n)},rename:(n,e)=>{var i=fe.dirname(n),o=fe.dirname(e),r=fe.basename(n),s=fe.basename(e),p,m,P;if(p=a.lookupPath(n,{parent:!0}),m=p.node,p=a.lookupPath(e,{parent:!0}),P=p.node,!m||!P)throw new a.ErrnoError(44);if(m.mount!==P.mount)throw new a.ErrnoError(75);var C=a.lookupNode(m,r),B=Pe.relative(n,o);if(B.charAt(0)!==".")throw new a.ErrnoError(28);if(B=Pe.relative(e,i),B.charAt(0)!==".")throw new a.ErrnoError(55);var j;try{j=a.lookupNode(P,s)}catch{}if(C!==j){var W=a.isDir(C.mode),S=a.mayDelete(m,r,W);if(S)throw new a.ErrnoError(S);if(S=j?a.mayDelete(P,s,W):a.mayCreate(P,s),S)throw new a.ErrnoError(S);if(!m.node_ops.rename)throw new a.ErrnoError(63);if(a.isMountpoint(C)||j&&a.isMountpoint(j))throw new a.ErrnoError(10);if(P!==m&&(S=a.nodePermissions(m,"w"),S))throw new a.ErrnoError(S);a.hashRemoveNode(C);try{m.node_ops.rename(C,P,s)}catch(A){throw A}finally{a.hashAddNode(C)}}},rmdir:n=>{var e=a.lookupPath(n,{parent:!0}),i=e.node,o=fe.basename(n),r=a.lookupNode(i,o),s=a.mayDelete(i,o,!0);if(s)throw new a.ErrnoError(s);if(!i.node_ops.rmdir)throw new a.ErrnoError(63);if(a.isMountpoint(r))throw new a.ErrnoError(10);i.node_ops.rmdir(i,o),a.destroyNode(r)},readdir:n=>{var e=a.lookupPath(n,{follow:!0}),i=e.node;if(!i.node_ops.readdir)throw new a.ErrnoError(54);return i.node_ops.readdir(i)},unlink:n=>{var e=a.lookupPath(n,{parent:!0}),i=e.node;if(!i)throw new a.ErrnoError(44);var o=fe.basename(n),r=a.lookupNode(i,o),s=a.mayDelete(i,o,!1);if(s)throw new a.ErrnoError(s);if(!i.node_ops.unlink)throw new a.ErrnoError(63);if(a.isMountpoint(r))throw new a.ErrnoError(10);i.node_ops.unlink(i,o),a.destroyNode(r)},readlink:n=>{var e=a.lookupPath(n),i=e.node;if(!i)throw new a.ErrnoError(44);if(!i.node_ops.readlink)throw new a.ErrnoError(28);return Pe.resolve(a.getPath(i.parent),i.node_ops.readlink(i))},stat:(n,e)=>{var i=a.lookupPath(n,{follow:!e}),o=i.node;if(!o)throw new a.ErrnoError(44);if(!o.node_ops.getattr)throw new a.ErrnoError(63);return o.node_ops.getattr(o)},lstat:n=>a.stat(n,!0),chmod:(n,e,i)=>{var o;if(typeof n=="string"){var r=a.lookupPath(n,{follow:!i});o=r.node}else o=n;if(!o.node_ops.setattr)throw new a.ErrnoError(63);o.node_ops.setattr(o,{mode:e&4095|o.mode&-4096,timestamp:Date.now()})},lchmod:(n,e)=>{a.chmod(n,e,!0)},fchmod:(n,e)=>{var i=a.getStream(n);if(!i)throw new a.ErrnoError(8);a.chmod(i.node,e)},chown:(n,e,i,o)=>{var r;if(typeof n=="string"){var s=a.lookupPath(n,{follow:!o});r=s.node}else r=n;if(!r.node_ops.setattr)throw new a.ErrnoError(63);r.node_ops.setattr(r,{timestamp:Date.now()})},lchown:(n,e,i)=>{a.chown(n,e,i,!0)},fchown:(n,e,i)=>{var o=a.getStream(n);if(!o)throw new a.ErrnoError(8);a.chown(o.node,e,i)},truncate:(n,e)=>{if(e<0)throw new a.ErrnoError(28);var i;if(typeof n=="string"){var o=a.lookupPath(n,{follow:!0});i=o.node}else i=n;if(!i.node_ops.setattr)throw new a.ErrnoError(63);if(a.isDir(i.mode))throw new a.ErrnoError(31);if(!a.isFile(i.mode))throw new a.ErrnoError(28);var r=a.nodePermissions(i,"w");if(r)throw new a.ErrnoError(r);i.node_ops.setattr(i,{size:e,timestamp:Date.now()})},ftruncate:(n,e)=>{var i=a.getStream(n);if(!i)throw new a.ErrnoError(8);if(!(i.flags&2097155))throw new a.ErrnoError(28);a.truncate(i.node,e)},utime:(n,e,i)=>{var o=a.lookupPath(n,{follow:!0}),r=o.node;r.node_ops.setattr(r,{timestamp:Math.max(e,i)})},open:(n,e,i)=>{if(n==="")throw new a.ErrnoError(44);e=typeof e=="string"?a.modeStringToFlags(e):e,i=typeof i>"u"?438:i,e&64?i=i&4095|32768:i=0;var o;if(typeof n=="object")o=n;else{n=fe.normalize(n);try{var r=a.lookupPath(n,{follow:!(e&131072)});o=r.node}catch{}}var s=!1;if(e&64)if(o){if(e&128)throw new a.ErrnoError(20)}else o=a.mknod(n,i,0),s=!0;if(!o)throw new a.ErrnoError(44);if(a.isChrdev(o.mode)&&(e&=-513),e&65536&&!a.isDir(o.mode))throw new a.ErrnoError(54);if(!s){var p=a.mayOpen(o,e);if(p)throw new a.ErrnoError(p)}e&512&&!s&&a.truncate(o,0),e&=-131713;var m=a.createStream({node:o,path:a.getPath(o),flags:e,seekable:!0,position:0,stream_ops:o.stream_ops,ungotten:[],error:!1});return m.stream_ops.open&&m.stream_ops.open(m),t.logReadFiles&&!(e&1)&&(a.readFiles||(a.readFiles={}),n in a.readFiles||(a.readFiles[n]=1)),m},close:n=>{if(a.isClosed(n))throw new a.ErrnoError(8);n.getdents&&(n.getdents=null);try{n.stream_ops.close&&n.stream_ops.close(n)}catch(e){throw e}finally{a.closeStream(n.fd)}n.fd=null},isClosed:n=>n.fd===null,llseek:(n,e,i)=>{if(a.isClosed(n))throw new a.ErrnoError(8);if(!n.seekable||!n.stream_ops.llseek)throw new a.ErrnoError(70);if(i!=0&&i!=1&&i!=2)throw new a.ErrnoError(28);return n.position=n.stream_ops.llseek(n,e,i),n.ungotten=[],n.position},read:(n,e,i,o,r)=>{if(o<0||r<0)throw new a.ErrnoError(28);if(a.isClosed(n))throw new a.ErrnoError(8);if((n.flags&2097155)===1)throw new a.ErrnoError(8);if(a.isDir(n.node.mode))throw new a.ErrnoError(31);if(!n.stream_ops.read)throw new a.ErrnoError(28);var s=typeof r<"u";if(!s)r=n.position;else if(!n.seekable)throw new a.ErrnoError(70);var p=n.stream_ops.read(n,e,i,o,r);return s||(n.position+=p),p},write:(n,e,i,o,r,s)=>{if(o<0||r<0)throw new a.ErrnoError(28);if(a.isClosed(n))throw new a.ErrnoError(8);if(!(n.flags&2097155))throw new a.ErrnoError(8);if(a.isDir(n.node.mode))throw new a.ErrnoError(31);if(!n.stream_ops.write)throw new a.ErrnoError(28);n.seekable&&n.flags&1024&&a.llseek(n,0,2);var p=typeof r<"u";if(!p)r=n.position;else if(!n.seekable)throw new a.ErrnoError(70);var m=n.stream_ops.write(n,e,i,o,r,s);return p||(n.position+=m),m},allocate:(n,e,i)=>{if(a.isClosed(n))throw new a.ErrnoError(8);if(e<0||i<=0)throw new a.ErrnoError(28);if(!(n.flags&2097155))throw new a.ErrnoError(8);if(!a.isFile(n.node.mode)&&!a.isDir(n.node.mode))throw new a.ErrnoError(43);if(!n.stream_ops.allocate)throw new a.ErrnoError(138);n.stream_ops.allocate(n,e,i)},mmap:(n,e,i,o,r)=>{if(o&2&&!(r&2)&&(n.flags&2097155)!==2)throw new a.ErrnoError(2);if((n.flags&2097155)===1)throw new a.ErrnoError(2);if(!n.stream_ops.mmap)throw new a.ErrnoError(43);return n.stream_ops.mmap(n,e,i,o,r)},msync:(n,e,i,o,r)=>n.stream_ops.msync?n.stream_ops.msync(n,e,i,o,r):0,munmap:n=>0,ioctl:(n,e,i)=>{if(!n.stream_ops.ioctl)throw new a.ErrnoError(59);return n.stream_ops.ioctl(n,e,i)},readFile:(n,e={})=>{if(e.flags=e.flags||0,e.encoding=e.encoding||"binary",e.encoding!=="utf8"&&e.encoding!=="binary")throw new Error('Invalid encoding type "'+e.encoding+'"');var i,o=a.open(n,e.flags),r=a.stat(n),s=r.size,p=new Uint8Array(s);return a.read(o,p,0,s,0),e.encoding==="utf8"?i=Be(p,0):e.encoding==="binary"&&(i=p),a.close(o),i},writeFile:(n,e,i={})=>{i.flags=i.flags||577;var o=a.open(n,i.flags,i.mode);if(typeof e=="string"){var r=new Uint8Array(Ge(e)+1),s=Ye(e,r,0,r.length);a.write(o,r,0,s,void 0,i.canOwn)}else if(ArrayBuffer.isView(e))a.write(o,e,0,e.byteLength,void 0,i.canOwn);else throw new Error("Unsupported data type");a.close(o)},cwd:()=>a.currentPath,chdir:n=>{var e=a.lookupPath(n,{follow:!0});if(e.node===null)throw new a.ErrnoError(44);if(!a.isDir(e.node.mode))throw new a.ErrnoError(54);var i=a.nodePermissions(e.node,"x");if(i)throw new a.ErrnoError(i);a.currentPath=e.path},createDefaultDirectories:()=>{a.mkdir("/tmp"),a.mkdir("/home"),a.mkdir("/home/web_user")},createDefaultDevices:()=>{a.mkdir("/dev"),a.registerDevice(a.makedev(1,3),{read:()=>0,write:(e,i,o,r,s)=>r}),a.mkdev("/dev/null",a.makedev(1,3)),Ne.register(a.makedev(5,0),Ne.default_tty_ops),Ne.register(a.makedev(6,0),Ne.default_tty1_ops),a.mkdev("/dev/tty",a.makedev(5,0)),a.mkdev("/dev/tty1",a.makedev(6,0));var n=un();a.createDevice("/dev","random",n),a.createDevice("/dev","urandom",n),a.mkdir("/dev/shm"),a.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{a.mkdir("/proc");var n=a.mkdir("/proc/self");a.mkdir("/proc/self/fd"),a.mount({mount:()=>{var e=a.createNode(n,"fd",16895,73);return e.node_ops={lookup:(i,o)=>{var r=+o,s=a.getStream(r);if(!s)throw new a.ErrnoError(8);var p={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>s.path}};return p.parent=p,p}},e}},{},"/proc/self/fd")},createStandardStreams:()=>{t.stdin?a.createDevice("/dev","stdin",t.stdin):a.symlink("/dev/tty","/dev/stdin"),t.stdout?a.createDevice("/dev","stdout",null,t.stdout):a.symlink("/dev/tty","/dev/stdout"),t.stderr?a.createDevice("/dev","stderr",null,t.stderr):a.symlink("/dev/tty1","/dev/stderr");var n=a.open("/dev/stdin",0),e=a.open("/dev/stdout",1),i=a.open("/dev/stderr",1)},ensureErrnoError:()=>{a.ErrnoError||(a.ErrnoError=function(e,i){this.node=i,this.setErrno=function(o){this.errno=o},this.setErrno(e),this.message="FS error"},a.ErrnoError.prototype=new Error,a.ErrnoError.prototype.constructor=a.ErrnoError,[44].forEach(n=>{a.genericErrors[n]=new a.ErrnoError(n),a.genericErrors[n].stack="<generic error, no stack>"}))},staticInit:()=>{a.ensureErrnoError(),a.nameTable=new Array(4096),a.mount(le,{},"/"),a.createDefaultDirectories(),a.createDefaultDevices(),a.createSpecialDirectories(),a.filesystems={MEMFS:le}},init:(n,e,i)=>{a.init.initialized=!0,a.ensureErrnoError(),t.stdin=n||t.stdin,t.stdout=e||t.stdout,t.stderr=i||t.stderr,a.createStandardStreams()},quit:()=>{a.init.initialized=!1;for(var n=0;n<a.streams.length;n++){var e=a.streams[n];e&&a.close(e)}},getMode:(n,e)=>{var i=0;return n&&(i|=365),e&&(i|=146),i},findObject:(n,e)=>{var i=a.analyzePath(n,e);return i.exists?i.object:null},analyzePath:(n,e)=>{try{var i=a.lookupPath(n,{follow:!e});n=i.path}catch{}var o={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var i=a.lookupPath(n,{parent:!0});o.parentExists=!0,o.parentPath=i.path,o.parentObject=i.node,o.name=fe.basename(n),i=a.lookupPath(n,{follow:!e}),o.exists=!0,o.path=i.path,o.object=i.node,o.name=i.node.name,o.isRoot=i.path==="/"}catch(r){o.error=r.errno}return o},createPath:(n,e,i,o)=>{n=typeof n=="string"?n:a.getPath(n);for(var r=e.split("/").reverse();r.length;){var s=r.pop();if(s){var p=fe.join2(n,s);try{a.mkdir(p)}catch{}n=p}}return p},createFile:(n,e,i,o,r)=>{var s=fe.join2(typeof n=="string"?n:a.getPath(n),e),p=a.getMode(o,r);return a.create(s,p)},createDataFile:(n,e,i,o,r,s)=>{var p=e;n&&(n=typeof n=="string"?n:a.getPath(n),p=e?fe.join2(n,e):n);var m=a.getMode(o,r),P=a.create(p,m);if(i){if(typeof i=="string"){for(var C=new Array(i.length),B=0,j=i.length;B<j;++B)C[B]=i.charCodeAt(B);i=C}a.chmod(P,m|146);var W=a.open(P,577);a.write(W,i,0,i.length,0,s),a.close(W),a.chmod(P,m)}return P},createDevice:(n,e,i,o)=>{var r=fe.join2(typeof n=="string"?n:a.getPath(n),e),s=a.getMode(!!i,!!o);a.createDevice.major||(a.createDevice.major=64);var p=a.makedev(a.createDevice.major++,0);return a.registerDevice(p,{open:m=>{m.seekable=!1},close:m=>{o&&o.buffer&&o.buffer.length&&o(10)},read:(m,P,C,B,j)=>{for(var W=0,S=0;S<B;S++){var A;try{A=i()}catch{throw new a.ErrnoError(29)}if(A===void 0&&W===0)throw new a.ErrnoError(6);if(A==null)break;W++,P[C+S]=A}return W&&(m.node.timestamp=Date.now()),W},write:(m,P,C,B,j)=>{for(var W=0;W<B;W++)try{o(P[C+W])}catch{throw new a.ErrnoError(29)}return B&&(m.node.timestamp=Date.now()),W}}),a.mkdev(r,s,p)},forceLoadFile:n=>{if(n.isDevice||n.isFolder||n.link||n.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(st)try{n.contents=ut(st(n.url),!0),n.usedBytes=n.contents.length}catch{throw new a.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:(n,e,i,o,r)=>{function s(){this.lengthKnown=!1,this.chunks=[]}if(s.prototype.get=function(S){if(!(S>this.length-1||S<0)){var A=S%this.chunkSize,T=S/this.chunkSize|0;return this.getter(T)[A]}},s.prototype.setDataGetter=function(S){this.getter=S},s.prototype.cacheLength=function(){var S=new XMLHttpRequest;if(S.open("HEAD",i,!1),S.send(null),!(S.status>=200&&S.status<300||S.status===304))throw new Error("Couldn't load "+i+". Status: "+S.status);var A=Number(S.getResponseHeader("Content-length")),T,w=(T=S.getResponseHeader("Accept-Ranges"))&&T==="bytes",q=(T=S.getResponseHeader("Content-Encoding"))&&T==="gzip",k=1024*1024;w||(k=A);var R=(y,z)=>{if(y>z)throw new Error("invalid range ("+y+", "+z+") or no bytes requested!");if(z>A-1)throw new Error("only "+A+" bytes available! programmer error!");var u=new XMLHttpRequest;if(u.open("GET",i,!1),A!==k&&u.setRequestHeader("Range","bytes="+y+"-"+z),u.responseType="arraybuffer",u.overrideMimeType&&u.overrideMimeType("text/plain; charset=x-user-defined"),u.send(null),!(u.status>=200&&u.status<300||u.status===304))throw new Error("Couldn't load "+i+". Status: "+u.status);return u.response!==void 0?new Uint8Array(u.response||[]):ut(u.responseText||"",!0)},N=this;N.setDataGetter(y=>{var z=y*k,u=(y+1)*k-1;if(u=Math.min(u,A-1),typeof N.chunks[y]>"u"&&(N.chunks[y]=R(z,u)),typeof N.chunks[y]>"u")throw new Error("doXHR failed!");return N.chunks[y]}),(q||!A)&&(k=A=1,A=this.getter(0).length,k=A,Xe("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=A,this._chunkSize=k,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!Ie)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var p=new s;Object.defineProperties(p,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var m={isDevice:!1,contents:p}}else var m={isDevice:!1,url:i};var P=a.createFile(n,e,m,o,r);m.contents?P.contents=m.contents:m.url&&(P.contents=null,P.url=m.url),Object.defineProperties(P,{usedBytes:{get:function(){return this.contents.length}}});var C={},B=Object.keys(P.stream_ops);B.forEach(W=>{var S=P.stream_ops[W];C[W]=function(){return a.forceLoadFile(P),S.apply(null,arguments)}});function j(W,S,A,T,w){var q=W.node.contents;if(w>=q.length)return 0;var k=Math.min(q.length-w,T);if(q.slice)for(var R=0;R<k;R++)S[A+R]=q[w+R];else for(var R=0;R<k;R++)S[A+R]=q.get(w+R);return k}return C.read=(W,S,A,T,w)=>(a.forceLoadFile(P),j(W,S,A,T,w)),C.mmap=(W,S,A,T,w)=>{a.forceLoadFile(P);var q=Ot(S);if(!q)throw new a.ErrnoError(48);return j(W,Se,q,S,A),{ptr:q,allocated:!0}},P.stream_ops=C,P},createPreloadedFile:(n,e,i,o,r,s,p,m,P,C)=>{var B=e?Pe.resolve(fe.join2(n,e)):n,j="cp "+B;function W(S){function A(T){C&&C(),m||a.createDataFile(n,e,T,o,r,P),s&&s(),et(j)}Browser.handledByPreloadPlugin(S,B,A,()=>{p&&p(),et(j)})||A(S)}ct(j),typeof i=="string"?pn(i,S=>W(S),p):W(i)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(n,e,i)=>{e=e||(()=>{}),i=i||(()=>{});var o=a.indexedDB();try{var r=o.open(a.DB_NAME(),a.DB_VERSION)}catch(s){return i(s)}r.onupgradeneeded=()=>{Xe("creating db");var s=r.result;s.createObjectStore(a.DB_STORE_NAME)},r.onsuccess=()=>{var s=r.result,p=s.transaction([a.DB_STORE_NAME],"readwrite"),m=p.objectStore(a.DB_STORE_NAME),P=0,C=0,B=n.length;function j(){C==0?e():i()}n.forEach(W=>{var S=m.put(a.analyzePath(W).object.contents,W);S.onsuccess=()=>{P++,P+C==B&&j()},S.onerror=()=>{C++,P+C==B&&j()}}),p.onerror=i},r.onerror=i},loadFilesFromDB:(n,e,i)=>{e=e||(()=>{}),i=i||(()=>{});var o=a.indexedDB();try{var r=o.open(a.DB_NAME(),a.DB_VERSION)}catch(s){return i(s)}r.onupgradeneeded=i,r.onsuccess=()=>{var s=r.result;try{var p=s.transaction([a.DB_STORE_NAME],"readonly")}catch(W){i(W);return}var m=p.objectStore(a.DB_STORE_NAME),P=0,C=0,B=n.length;function j(){C==0?e():i()}n.forEach(W=>{var S=m.get(W);S.onsuccess=()=>{a.analyzePath(W).exists&&a.unlink(W),a.createDataFile(fe.dirname(W),fe.basename(W),S.result,!0,!0,!0),P++,P+C==B&&j()},S.onerror=()=>{C++,P+C==B&&j()}}),p.onerror=i},r.onerror=i}},ne={DEFAULT_POLLMASK:5,calculateAt:function(n,e,i){if(fe.isAbs(e))return e;var o;if(n===-100)o=a.cwd();else{var r=ne.getStreamFromFD(n);o=r.path}if(e.length==0){if(!i)throw new a.ErrnoError(44);return o}return fe.join2(o,e)},doStat:function(n,e,i){try{var o=n(e)}catch(m){if(m&&m.node&&fe.normalize(e)!==fe.normalize(a.getPath(m.node)))return-54;throw m}ie[i>>2]=o.dev,ie[i+8>>2]=o.ino,ie[i+12>>2]=o.mode,ge[i+16>>2]=o.nlink,ie[i+20>>2]=o.uid,ie[i+24>>2]=o.gid,ie[i+28>>2]=o.rdev,ye=[o.size>>>0,(ae=o.size,+Math.abs(ae)>=1?ae>0?(Math.min(+Math.floor(ae/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ae-+(~~ae>>>0))/4294967296)>>>0:0)],ie[i+40>>2]=ye[0],ie[i+44>>2]=ye[1],ie[i+48>>2]=4096,ie[i+52>>2]=o.blocks;var r=o.atime.getTime(),s=o.mtime.getTime(),p=o.ctime.getTime();return ye=[Math.floor(r/1e3)>>>0,(ae=Math.floor(r/1e3),+Math.abs(ae)>=1?ae>0?(Math.min(+Math.floor(ae/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ae-+(~~ae>>>0))/4294967296)>>>0:0)],ie[i+56>>2]=ye[0],ie[i+60>>2]=ye[1],ge[i+64>>2]=r%1e3*1e3,ye=[Math.floor(s/1e3)>>>0,(ae=Math.floor(s/1e3),+Math.abs(ae)>=1?ae>0?(Math.min(+Math.floor(ae/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ae-+(~~ae>>>0))/4294967296)>>>0:0)],ie[i+72>>2]=ye[0],ie[i+76>>2]=ye[1],ge[i+80>>2]=s%1e3*1e3,ye=[Math.floor(p/1e3)>>>0,(ae=Math.floor(p/1e3),+Math.abs(ae)>=1?ae>0?(Math.min(+Math.floor(ae/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ae-+(~~ae>>>0))/4294967296)>>>0:0)],ie[i+88>>2]=ye[0],ie[i+92>>2]=ye[1],ge[i+96>>2]=p%1e3*1e3,ye=[o.ino>>>0,(ae=o.ino,+Math.abs(ae)>=1?ae>0?(Math.min(+Math.floor(ae/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ae-+(~~ae>>>0))/4294967296)>>>0:0)],ie[i+104>>2]=ye[0],ie[i+108>>2]=ye[1],0},doMsync:function(n,e,i,o,r){if(!a.isFile(e.node.mode))throw new a.ErrnoError(43);if(o&2)return 0;var s=ze.slice(n,n+i);a.msync(e,s,r,i,o)},varargs:void 0,get:function(){ne.varargs+=4;var n=ie[ne.varargs-4>>2];return n},getStr:function(n){var e=Jt(n);return e},getStreamFromFD:function(n){var e=a.getStream(n);if(!e)throw new a.ErrnoError(8);return e}};function mn(n,e){try{return n=ne.getStr(n),a.chmod(n,e),0}catch(i){if(typeof a>"u"||!(i instanceof a.ErrnoError))throw i;return-i.errno}}function hn(n,e,i,o){try{if(e=ne.getStr(e),e=ne.calculateAt(n,e),i&-8)return-28;var r=a.lookupPath(e,{follow:!0}),s=r.node;if(!s)return-44;var p="";return i&4&&(p+="r"),i&2&&(p+="w"),i&1&&(p+="x"),p&&a.nodePermissions(s,p)?-2:0}catch(m){if(typeof a>"u"||!(m instanceof a.ErrnoError))throw m;return-m.errno}}function gn(n,e){try{return a.fchmod(n,e),0}catch(i){if(typeof a>"u"||!(i instanceof a.ErrnoError))throw i;return-i.errno}}function qn(n,e,i){try{return a.fchown(n,e,i),0}catch(o){if(typeof a>"u"||!(o instanceof a.ErrnoError))throw o;return-o.errno}}function yn(n){return ie[Nt()>>2]=n,n}function bn(n,e,i){ne.varargs=i;try{var o=ne.getStreamFromFD(n);switch(e){case 0:{var r=ne.get();if(r<0)return-28;var s;return s=a.createStream(o,r),s.fd}case 1:case 2:return 0;case 3:return o.flags;case 4:{var r=ne.get();return o.flags|=r,0}case 5:{var r=ne.get(),p=0;return Ze[r+p>>1]=2,0}case 6:case 7:return 0;case 16:case 8:return-28;case 9:return yn(28),-1;default:return-28}}catch(m){if(typeof a>"u"||!(m instanceof a.ErrnoError))throw m;return-m.errno}}function vn(n,e){try{var i=ne.getStreamFromFD(n);return ne.doStat(a.stat,i.path,e)}catch(o){if(typeof a>"u"||!(o instanceof a.ErrnoError))throw o;return-o.errno}}var wn=9007199254740992,En=-9007199254740992;function Pt(n){return n<En||n>wn?NaN:Number(n)}function Sn(n,e){try{return e=Pt(e),isNaN(e)?-61:(a.ftruncate(n,e),0)}catch(i){if(typeof a>"u"||!(i instanceof a.ErrnoError))throw i;return-i.errno}}function xn(n,e){try{if(e===0)return-28;var i=a.cwd(),o=Ge(i)+1;return e<o?-68:(wt(i,n,e),o)}catch(r){if(typeof a>"u"||!(r instanceof a.ErrnoError))throw r;return-r.errno}}function An(n,e,i){ne.varargs=i;try{var o=ne.getStreamFromFD(n);switch(e){case 21509:case 21505:return o.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return o.tty?0:-59;case 21519:{if(!o.tty)return-59;var r=ne.get();return ie[r>>2]=0,0}case 21520:return o.tty?-28:-59;case 21531:{var r=ne.get();return a.ioctl(o,e,r)}case 21523:return o.tty?0:-59;case 21524:return o.tty?0:-59;default:return-28}}catch(s){if(typeof a>"u"||!(s instanceof a.ErrnoError))throw s;return-s.errno}}function In(n,e){try{return n=ne.getStr(n),ne.doStat(a.lstat,n,e)}catch(i){if(typeof a>"u"||!(i instanceof a.ErrnoError))throw i;return-i.errno}}function kn(n,e,i){try{return e=ne.getStr(e),e=ne.calculateAt(n,e),e=fe.normalize(e),e[e.length-1]==="/"&&(e=e.substr(0,e.length-1)),a.mkdir(e,i,0),0}catch(o){if(typeof a>"u"||!(o instanceof a.ErrnoError))throw o;return-o.errno}}function Tn(n,e,i,o){try{e=ne.getStr(e);var r=o&256,s=o&4096;return o=o&-6401,e=ne.calculateAt(n,e,s),ne.doStat(r?a.lstat:a.stat,e,i)}catch(p){if(typeof a>"u"||!(p instanceof a.ErrnoError))throw p;return-p.errno}}function Fn(n,e,i,o){ne.varargs=o;try{e=ne.getStr(e),e=ne.calculateAt(n,e);var r=o?ne.get():0;return a.open(e,i,r).fd}catch(s){if(typeof a>"u"||!(s instanceof a.ErrnoError))throw s;return-s.errno}}function On(n,e,i,o){try{if(e=ne.getStr(e),e=ne.calculateAt(n,e),o<=0)return-28;var r=a.readlink(e),s=Math.min(o,Ge(r)),p=Se[i+s];return wt(r,i,o+1),Se[i+s]=p,s}catch(m){if(typeof a>"u"||!(m instanceof a.ErrnoError))throw m;return-m.errno}}function Pn(n){try{return n=ne.getStr(n),a.rmdir(n),0}catch(e){if(typeof a>"u"||!(e instanceof a.ErrnoError))throw e;return-e.errno}}function Ln(n,e){try{return n=ne.getStr(n),ne.doStat(a.stat,n,e)}catch(i){if(typeof a>"u"||!(i instanceof a.ErrnoError))throw i;return-i.errno}}function Dn(n,e,i){try{return e=ne.getStr(e),e=ne.calculateAt(n,e),i===0?a.unlink(e):i===512?a.rmdir(e):Re("Invalid flags passed to unlinkat"),0}catch(o){if(typeof a>"u"||!(o instanceof a.ErrnoError))throw o;return-o.errno}}function ft(n){return ge[n>>2]+ie[n+4>>2]*4294967296}function Cn(n,e,i,o){try{if(e=ne.getStr(e),e=ne.calculateAt(n,e,!0),i){var p=ft(i),m=ie[i+8>>2];r=p*1e3+m/1e6,i+=16,p=ft(i),m=ie[i+8>>2],s=p*1e3+m/1e6}else var r=Date.now(),s=r;return a.utime(e,r,s),0}catch(P){if(typeof a>"u"||!(P instanceof a.ErrnoError))throw P;return-P.errno}}var Rn=!0;function Nn(){return Rn}function Mn(n){return n%4===0&&(n%100!==0||n%400===0)}var jn=[0,31,60,91,121,152,182,213,244,274,305,335],Bn=[0,31,59,90,120,151,181,212,243,273,304,334];function zn(n){var e=Mn(n.getFullYear()),i=e?jn:Bn,o=i[n.getMonth()]+n.getDate()-1;return o}function Un(n,e){var i=new Date(ft(n)*1e3);ie[e>>2]=i.getSeconds(),ie[e+4>>2]=i.getMinutes(),ie[e+8>>2]=i.getHours(),ie[e+12>>2]=i.getDate(),ie[e+16>>2]=i.getMonth(),ie[e+20>>2]=i.getFullYear()-1900,ie[e+24>>2]=i.getDay();var o=zn(i)|0;ie[e+28>>2]=o,ie[e+36>>2]=-(i.getTimezoneOffset()*60);var r=new Date(i.getFullYear(),0,1),s=new Date(i.getFullYear(),6,1).getTimezoneOffset(),p=r.getTimezoneOffset(),m=(s!=p&&i.getTimezoneOffset()==Math.min(p,s))|0;ie[e+32>>2]=m}function Wn(n,e,i,o,r,s,p){try{var m=ne.getStreamFromFD(o),P=a.mmap(m,n,r,e,i),C=P.ptr;return ie[s>>2]=P.allocated,ge[p>>2]=C,0}catch(B){if(typeof a>"u"||!(B instanceof a.ErrnoError))throw B;return-B.errno}}function Qn(n,e,i,o,r,s){try{var p=ne.getStreamFromFD(r);i&2&&ne.doMsync(n,p,e,o,s),a.munmap(p)}catch(m){if(typeof a>"u"||!(m instanceof a.ErrnoError))throw m;return-m.errno}}function Lt(n){var e=Ge(n)+1,i=Mt(e);return i&&Ye(n,Se,i,e),i}function Hn(n,e,i){var o=new Date().getFullYear(),r=new Date(o,0,1),s=new Date(o,6,1),p=r.getTimezoneOffset(),m=s.getTimezoneOffset(),P=Math.max(p,m);ge[n>>2]=P*60,ie[e>>2]=+(p!=m);function C(A){var T=A.toTimeString().match(/\(([A-Za-z ]+)\)$/);return T?T[1]:"GMT"}var B=C(r),j=C(s),W=Lt(B),S=Lt(j);m<p?(ge[i>>2]=W,ge[i+4>>2]=S):(ge[i>>2]=S,ge[i+4>>2]=W)}function Vn(){return Date.now()}var Dt;Dt=()=>performance.now();function Gn(){return 2147483648}function $n(n){var e=Ce.buffer;try{return Ce.grow(n-e.byteLength+65535>>>16),St(),1}catch{}}function Kn(n){var e=ze.length;n=n>>>0;var i=Gn();if(n>i)return!1;let o=(P,C)=>P+(C-P%C)%C;for(var r=1;r<=4;r*=2){var s=e*(1+.2/r);s=Math.min(s,n+100663296);var p=Math.min(i,o(Math.max(n,s),65536)),m=$n(p);if(m)return!0}return!1}var dt={};function Jn(){return Qe||"./this.program"}function Ke(){if(!Ke.strings){var n=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:n,_:Jn()};for(var i in dt)dt[i]===void 0?delete e[i]:e[i]=dt[i];var o=[];for(var i in e)o.push(i+"="+e[i]);Ke.strings=o}return Ke.strings}function Xn(n,e,i){for(var o=0;o<n.length;++o)Se[e++>>0]=n.charCodeAt(o);i||(Se[e>>0]=0)}function Yn(n,e){var i=0;return Ke().forEach(function(o,r){var s=e+i;ge[n+r*4>>2]=s,Xn(o,s),i+=o.length+1}),0}function Zn(n,e){var i=Ke();ge[n>>2]=i.length;var o=0;return i.forEach(function(r){o+=r.length+1}),ge[e>>2]=o,0}function er(n){try{var e=ne.getStreamFromFD(n);return a.close(e),0}catch(i){if(typeof a>"u"||!(i instanceof a.ErrnoError))throw i;return i.errno}}function tr(n,e){try{var i=ne.getStreamFromFD(n),o=i.tty?2:a.isDir(i.mode)?3:a.isLink(i.mode)?7:4;return Se[e>>0]=o,0}catch(r){if(typeof a>"u"||!(r instanceof a.ErrnoError))throw r;return r.errno}}function nr(n,e,i,o){for(var r=0,s=0;s<i;s++){var p=ge[e>>2],m=ge[e+4>>2];e+=8;var P=a.read(n,Se,p,m,o);if(P<0)return-1;if(r+=P,P<m)break;typeof o<"u"&&(o+=P)}return r}function rr(n,e,i,o){try{var r=ne.getStreamFromFD(n),s=nr(r,e,i);return ge[o>>2]=s,0}catch(p){if(typeof a>"u"||!(p instanceof a.ErrnoError))throw p;return p.errno}}function sr(n,e,i,o){try{if(e=Pt(e),isNaN(e))return 61;var r=ne.getStreamFromFD(n);return a.llseek(r,e,i),ye=[r.position>>>0,(ae=r.position,+Math.abs(ae)>=1?ae>0?(Math.min(+Math.floor(ae/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ae-+(~~ae>>>0))/4294967296)>>>0:0)],ie[o>>2]=ye[0],ie[o+4>>2]=ye[1],r.getdents&&e===0&&i===0&&(r.getdents=null),0}catch(s){if(typeof a>"u"||!(s instanceof a.ErrnoError))throw s;return s.errno}}function ir(n){try{var e=ne.getStreamFromFD(n);return e.stream_ops&&e.stream_ops.fsync?e.stream_ops.fsync(e):0}catch(i){if(typeof a>"u"||!(i instanceof a.ErrnoError))throw i;return i.errno}}function or(n,e,i,o){for(var r=0,s=0;s<i;s++){var p=ge[e>>2],m=ge[e+4>>2];e+=8;var P=a.write(n,Se,p,m,o);if(P<0)return-1;r+=P,typeof o<"u"&&(o+=P)}return r}function ar(n,e,i,o){try{var r=ne.getStreamFromFD(n),s=or(r,e,i);return ge[o>>2]=s,0}catch(p){if(typeof a>"u"||!(p instanceof a.ErrnoError))throw p;return p.errno}}var Ct=function(n,e,i,o){n||(n=this),this.parent=n,this.mount=n.mount,this.mounted=null,this.id=a.nextInode++,this.name=e,this.mode=i,this.node_ops={},this.stream_ops={},this.rdev=o},tt=365,nt=146;Object.defineProperties(Ct.prototype,{read:{get:function(){return(this.mode&tt)===tt},set:function(n){n?this.mode|=tt:this.mode&=~tt}},write:{get:function(){return(this.mode&nt)===nt},set:function(n){n?this.mode|=nt:this.mode&=~nt}},isFolder:{get:function(){return a.isDir(this.mode)}},isDevice:{get:function(){return a.isChrdev(this.mode)}}}),a.FSNode=Ct,a.staticInit();var Ya=!1,Rt={__syscall_chmod:mn,__syscall_faccessat:hn,__syscall_fchmod:gn,__syscall_fchown32:qn,__syscall_fcntl64:bn,__syscall_fstat64:vn,__syscall_ftruncate64:Sn,__syscall_getcwd:xn,__syscall_ioctl:An,__syscall_lstat64:In,__syscall_mkdirat:kn,__syscall_newfstatat:Tn,__syscall_openat:Fn,__syscall_readlinkat:On,__syscall_rmdir:Pn,__syscall_stat64:Ln,__syscall_unlinkat:Dn,__syscall_utimensat:Cn,_emscripten_get_now_is_monotonic:Nn,_localtime_js:Un,_mmap_js:Wn,_munmap_js:Qn,_tzset_js:Hn,emscripten_date_now:Vn,emscripten_get_now:Dt,emscripten_resize_heap:Kn,environ_get:Yn,environ_sizes_get:Zn,fd_close:er,fd_fdstat_get:tr,fd_read:rr,fd_seek:sr,fd_sync:ir,fd_write:ar,memory:Ce},Za=_n(),lr=t.___wasm_call_ctors=function(){return(lr=t.___wasm_call_ctors=t.asm.__wasm_call_ctors).apply(null,arguments)},cr=t._sqlite3_status64=function(){return(cr=t._sqlite3_status64=t.asm.sqlite3_status64).apply(null,arguments)},_r=t._sqlite3_status=function(){return(_r=t._sqlite3_status=t.asm.sqlite3_status).apply(null,arguments)},ur=t._sqlite3_db_status=function(){return(ur=t._sqlite3_db_status=t.asm.sqlite3_db_status).apply(null,arguments)},fr=t._sqlite3_msize=function(){return(fr=t._sqlite3_msize=t.asm.sqlite3_msize).apply(null,arguments)},dr=t._sqlite3_vfs_find=function(){return(dr=t._sqlite3_vfs_find=t.asm.sqlite3_vfs_find).apply(null,arguments)},pr=t._sqlite3_initialize=function(){return(pr=t._sqlite3_initialize=t.asm.sqlite3_initialize).apply(null,arguments)},mr=t._sqlite3_malloc=function(){return(mr=t._sqlite3_malloc=t.asm.sqlite3_malloc).apply(null,arguments)},hr=t._sqlite3_free=function(){return(hr=t._sqlite3_free=t.asm.sqlite3_free).apply(null,arguments)},gr=t._sqlite3_vfs_register=function(){return(gr=t._sqlite3_vfs_register=t.asm.sqlite3_vfs_register).apply(null,arguments)},qr=t._sqlite3_vfs_unregister=function(){return(qr=t._sqlite3_vfs_unregister=t.asm.sqlite3_vfs_unregister).apply(null,arguments)},yr=t._sqlite3_malloc64=function(){return(yr=t._sqlite3_malloc64=t.asm.sqlite3_malloc64).apply(null,arguments)},br=t._sqlite3_realloc=function(){return(br=t._sqlite3_realloc=t.asm.sqlite3_realloc).apply(null,arguments)},vr=t._sqlite3_realloc64=function(){return(vr=t._sqlite3_realloc64=t.asm.sqlite3_realloc64).apply(null,arguments)},wr=t._sqlite3_value_text=function(){return(wr=t._sqlite3_value_text=t.asm.sqlite3_value_text).apply(null,arguments)},Er=t._sqlite3_randomness=function(){return(Er=t._sqlite3_randomness=t.asm.sqlite3_randomness).apply(null,arguments)},Sr=t._sqlite3_stricmp=function(){return(Sr=t._sqlite3_stricmp=t.asm.sqlite3_stricmp).apply(null,arguments)},xr=t._sqlite3_strnicmp=function(){return(xr=t._sqlite3_strnicmp=t.asm.sqlite3_strnicmp).apply(null,arguments)},Ar=t._sqlite3_uri_parameter=function(){return(Ar=t._sqlite3_uri_parameter=t.asm.sqlite3_uri_parameter).apply(null,arguments)},Nt=t.___errno_location=function(){return(Nt=t.___errno_location=t.asm.__errno_location).apply(null,arguments)},Ir=t._sqlite3_uri_boolean=function(){return(Ir=t._sqlite3_uri_boolean=t.asm.sqlite3_uri_boolean).apply(null,arguments)},kr=t._sqlite3_serialize=function(){return(kr=t._sqlite3_serialize=t.asm.sqlite3_serialize).apply(null,arguments)},Tr=t._sqlite3_prepare_v2=function(){return(Tr=t._sqlite3_prepare_v2=t.asm.sqlite3_prepare_v2).apply(null,arguments)},Fr=t._sqlite3_step=function(){return(Fr=t._sqlite3_step=t.asm.sqlite3_step).apply(null,arguments)},Or=t._sqlite3_column_int64=function(){return(Or=t._sqlite3_column_int64=t.asm.sqlite3_column_int64).apply(null,arguments)},Pr=t._sqlite3_reset=function(){return(Pr=t._sqlite3_reset=t.asm.sqlite3_reset).apply(null,arguments)},Lr=t._sqlite3_exec=function(){return(Lr=t._sqlite3_exec=t.asm.sqlite3_exec).apply(null,arguments)},Dr=t._sqlite3_column_int=function(){return(Dr=t._sqlite3_column_int=t.asm.sqlite3_column_int).apply(null,arguments)},Cr=t._sqlite3_finalize=function(){return(Cr=t._sqlite3_finalize=t.asm.sqlite3_finalize).apply(null,arguments)},Rr=t._sqlite3_file_control=function(){return(Rr=t._sqlite3_file_control=t.asm.sqlite3_file_control).apply(null,arguments)},Nr=t._sqlite3_column_name=function(){return(Nr=t._sqlite3_column_name=t.asm.sqlite3_column_name).apply(null,arguments)},Mr=t._sqlite3_column_text=function(){return(Mr=t._sqlite3_column_text=t.asm.sqlite3_column_text).apply(null,arguments)},jr=t._sqlite3_column_type=function(){return(jr=t._sqlite3_column_type=t.asm.sqlite3_column_type).apply(null,arguments)},Br=t._sqlite3_errmsg=function(){return(Br=t._sqlite3_errmsg=t.asm.sqlite3_errmsg).apply(null,arguments)},zr=t._sqlite3_deserialize=function(){return(zr=t._sqlite3_deserialize=t.asm.sqlite3_deserialize).apply(null,arguments)},Ur=t._sqlite3_clear_bindings=function(){return(Ur=t._sqlite3_clear_bindings=t.asm.sqlite3_clear_bindings).apply(null,arguments)},Wr=t._sqlite3_value_blob=function(){return(Wr=t._sqlite3_value_blob=t.asm.sqlite3_value_blob).apply(null,arguments)},Qr=t._sqlite3_value_bytes=function(){return(Qr=t._sqlite3_value_bytes=t.asm.sqlite3_value_bytes).apply(null,arguments)},Hr=t._sqlite3_value_double=function(){return(Hr=t._sqlite3_value_double=t.asm.sqlite3_value_double).apply(null,arguments)},Vr=t._sqlite3_value_int=function(){return(Vr=t._sqlite3_value_int=t.asm.sqlite3_value_int).apply(null,arguments)},Gr=t._sqlite3_value_int64=function(){return(Gr=t._sqlite3_value_int64=t.asm.sqlite3_value_int64).apply(null,arguments)},$r=t._sqlite3_value_subtype=function(){return($r=t._sqlite3_value_subtype=t.asm.sqlite3_value_subtype).apply(null,arguments)},Kr=t._sqlite3_value_pointer=function(){return(Kr=t._sqlite3_value_pointer=t.asm.sqlite3_value_pointer).apply(null,arguments)},Jr=t._sqlite3_value_type=function(){return(Jr=t._sqlite3_value_type=t.asm.sqlite3_value_type).apply(null,arguments)},Xr=t._sqlite3_value_nochange=function(){return(Xr=t._sqlite3_value_nochange=t.asm.sqlite3_value_nochange).apply(null,arguments)},Yr=t._sqlite3_value_frombind=function(){return(Yr=t._sqlite3_value_frombind=t.asm.sqlite3_value_frombind).apply(null,arguments)},Zr=t._sqlite3_value_dup=function(){return(Zr=t._sqlite3_value_dup=t.asm.sqlite3_value_dup).apply(null,arguments)},es=t._sqlite3_value_free=function(){return(es=t._sqlite3_value_free=t.asm.sqlite3_value_free).apply(null,arguments)},ts=t._sqlite3_result_blob=function(){return(ts=t._sqlite3_result_blob=t.asm.sqlite3_result_blob).apply(null,arguments)},ns=t._sqlite3_result_error_toobig=function(){return(ns=t._sqlite3_result_error_toobig=t.asm.sqlite3_result_error_toobig).apply(null,arguments)},rs=t._sqlite3_result_error_nomem=function(){return(rs=t._sqlite3_result_error_nomem=t.asm.sqlite3_result_error_nomem).apply(null,arguments)},ss=t._sqlite3_result_double=function(){return(ss=t._sqlite3_result_double=t.asm.sqlite3_result_double).apply(null,arguments)},is=t._sqlite3_result_error=function(){return(is=t._sqlite3_result_error=t.asm.sqlite3_result_error).apply(null,arguments)},os=t._sqlite3_result_int=function(){return(os=t._sqlite3_result_int=t.asm.sqlite3_result_int).apply(null,arguments)},as=t._sqlite3_result_int64=function(){return(as=t._sqlite3_result_int64=t.asm.sqlite3_result_int64).apply(null,arguments)},ls=t._sqlite3_result_null=function(){return(ls=t._sqlite3_result_null=t.asm.sqlite3_result_null).apply(null,arguments)},cs=t._sqlite3_result_pointer=function(){return(cs=t._sqlite3_result_pointer=t.asm.sqlite3_result_pointer).apply(null,arguments)},_s=t._sqlite3_result_subtype=function(){return(_s=t._sqlite3_result_subtype=t.asm.sqlite3_result_subtype).apply(null,arguments)},us=t._sqlite3_result_text=function(){return(us=t._sqlite3_result_text=t.asm.sqlite3_result_text).apply(null,arguments)},fs=t._sqlite3_result_zeroblob=function(){return(fs=t._sqlite3_result_zeroblob=t.asm.sqlite3_result_zeroblob).apply(null,arguments)},ds=t._sqlite3_result_zeroblob64=function(){return(ds=t._sqlite3_result_zeroblob64=t.asm.sqlite3_result_zeroblob64).apply(null,arguments)},ps=t._sqlite3_result_error_code=function(){return(ps=t._sqlite3_result_error_code=t.asm.sqlite3_result_error_code).apply(null,arguments)},ms=t._sqlite3_user_data=function(){return(ms=t._sqlite3_user_data=t.asm.sqlite3_user_data).apply(null,arguments)},hs=t._sqlite3_context_db_handle=function(){return(hs=t._sqlite3_context_db_handle=t.asm.sqlite3_context_db_handle).apply(null,arguments)},gs=t._sqlite3_vtab_nochange=function(){return(gs=t._sqlite3_vtab_nochange=t.asm.sqlite3_vtab_nochange).apply(null,arguments)},qs=t._sqlite3_vtab_in_first=function(){return(qs=t._sqlite3_vtab_in_first=t.asm.sqlite3_vtab_in_first).apply(null,arguments)},ys=t._sqlite3_vtab_in_next=function(){return(ys=t._sqlite3_vtab_in_next=t.asm.sqlite3_vtab_in_next).apply(null,arguments)},bs=t._sqlite3_aggregate_context=function(){return(bs=t._sqlite3_aggregate_context=t.asm.sqlite3_aggregate_context).apply(null,arguments)},vs=t._sqlite3_get_auxdata=function(){return(vs=t._sqlite3_get_auxdata=t.asm.sqlite3_get_auxdata).apply(null,arguments)},ws=t._sqlite3_set_auxdata=function(){return(ws=t._sqlite3_set_auxdata=t.asm.sqlite3_set_auxdata).apply(null,arguments)},Es=t._sqlite3_column_count=function(){return(Es=t._sqlite3_column_count=t.asm.sqlite3_column_count).apply(null,arguments)},Ss=t._sqlite3_data_count=function(){return(Ss=t._sqlite3_data_count=t.asm.sqlite3_data_count).apply(null,arguments)},xs=t._sqlite3_column_blob=function(){return(xs=t._sqlite3_column_blob=t.asm.sqlite3_column_blob).apply(null,arguments)},As=t._sqlite3_column_bytes=function(){return(As=t._sqlite3_column_bytes=t.asm.sqlite3_column_bytes).apply(null,arguments)},Is=t._sqlite3_column_double=function(){return(Is=t._sqlite3_column_double=t.asm.sqlite3_column_double).apply(null,arguments)},ks=t._sqlite3_column_value=function(){return(ks=t._sqlite3_column_value=t.asm.sqlite3_column_value).apply(null,arguments)},Ts=t._sqlite3_bind_blob=function(){return(Ts=t._sqlite3_bind_blob=t.asm.sqlite3_bind_blob).apply(null,arguments)},Fs=t._sqlite3_bind_double=function(){return(Fs=t._sqlite3_bind_double=t.asm.sqlite3_bind_double).apply(null,arguments)},Os=t._sqlite3_bind_int=function(){return(Os=t._sqlite3_bind_int=t.asm.sqlite3_bind_int).apply(null,arguments)},Ps=t._sqlite3_bind_int64=function(){return(Ps=t._sqlite3_bind_int64=t.asm.sqlite3_bind_int64).apply(null,arguments)},Ls=t._sqlite3_bind_null=function(){return(Ls=t._sqlite3_bind_null=t.asm.sqlite3_bind_null).apply(null,arguments)},Ds=t._sqlite3_bind_pointer=function(){return(Ds=t._sqlite3_bind_pointer=t.asm.sqlite3_bind_pointer).apply(null,arguments)},Cs=t._sqlite3_bind_text=function(){return(Cs=t._sqlite3_bind_text=t.asm.sqlite3_bind_text).apply(null,arguments)},Rs=t._sqlite3_bind_parameter_count=function(){return(Rs=t._sqlite3_bind_parameter_count=t.asm.sqlite3_bind_parameter_count).apply(null,arguments)},Ns=t._sqlite3_bind_parameter_index=function(){return(Ns=t._sqlite3_bind_parameter_index=t.asm.sqlite3_bind_parameter_index).apply(null,arguments)},Ms=t._sqlite3_db_handle=function(){return(Ms=t._sqlite3_db_handle=t.asm.sqlite3_db_handle).apply(null,arguments)},js=t._sqlite3_stmt_readonly=function(){return(js=t._sqlite3_stmt_readonly=t.asm.sqlite3_stmt_readonly).apply(null,arguments)},Bs=t._sqlite3_stmt_isexplain=function(){return(Bs=t._sqlite3_stmt_isexplain=t.asm.sqlite3_stmt_isexplain).apply(null,arguments)},zs=t._sqlite3_stmt_status=function(){return(zs=t._sqlite3_stmt_status=t.asm.sqlite3_stmt_status).apply(null,arguments)},Us=t._sqlite3_sql=function(){return(Us=t._sqlite3_sql=t.asm.sqlite3_sql).apply(null,arguments)},Ws=t._sqlite3_expanded_sql=function(){return(Ws=t._sqlite3_expanded_sql=t.asm.sqlite3_expanded_sql).apply(null,arguments)},Qs=t._sqlite3_preupdate_old=function(){return(Qs=t._sqlite3_preupdate_old=t.asm.sqlite3_preupdate_old).apply(null,arguments)},Hs=t._sqlite3_preupdate_count=function(){return(Hs=t._sqlite3_preupdate_count=t.asm.sqlite3_preupdate_count).apply(null,arguments)},Vs=t._sqlite3_preupdate_depth=function(){return(Vs=t._sqlite3_preupdate_depth=t.asm.sqlite3_preupdate_depth).apply(null,arguments)},Gs=t._sqlite3_preupdate_blobwrite=function(){return(Gs=t._sqlite3_preupdate_blobwrite=t.asm.sqlite3_preupdate_blobwrite).apply(null,arguments)},$s=t._sqlite3_preupdate_new=function(){return($s=t._sqlite3_preupdate_new=t.asm.sqlite3_preupdate_new).apply(null,arguments)},Ks=t._sqlite3_value_numeric_type=function(){return(Ks=t._sqlite3_value_numeric_type=t.asm.sqlite3_value_numeric_type).apply(null,arguments)},Js=t._sqlite3_set_authorizer=function(){return(Js=t._sqlite3_set_authorizer=t.asm.sqlite3_set_authorizer).apply(null,arguments)},Xs=t._sqlite3_strglob=function(){return(Xs=t._sqlite3_strglob=t.asm.sqlite3_strglob).apply(null,arguments)},Ys=t._sqlite3_strlike=function(){return(Ys=t._sqlite3_strlike=t.asm.sqlite3_strlike).apply(null,arguments)},Zs=t._sqlite3_auto_extension=function(){return(Zs=t._sqlite3_auto_extension=t.asm.sqlite3_auto_extension).apply(null,arguments)},ei=t._sqlite3_cancel_auto_extension=function(){return(ei=t._sqlite3_cancel_auto_extension=t.asm.sqlite3_cancel_auto_extension).apply(null,arguments)},ti=t._sqlite3_reset_auto_extension=function(){return(ti=t._sqlite3_reset_auto_extension=t.asm.sqlite3_reset_auto_extension).apply(null,arguments)},ni=t._sqlite3_prepare_v3=function(){return(ni=t._sqlite3_prepare_v3=t.asm.sqlite3_prepare_v3).apply(null,arguments)},ri=t._sqlite3_create_module=function(){return(ri=t._sqlite3_create_module=t.asm.sqlite3_create_module).apply(null,arguments)},si=t._sqlite3_create_module_v2=function(){return(si=t._sqlite3_create_module_v2=t.asm.sqlite3_create_module_v2).apply(null,arguments)},ii=t._sqlite3_drop_modules=function(){return(ii=t._sqlite3_drop_modules=t.asm.sqlite3_drop_modules).apply(null,arguments)},oi=t._sqlite3_declare_vtab=function(){return(oi=t._sqlite3_declare_vtab=t.asm.sqlite3_declare_vtab).apply(null,arguments)},ai=t._sqlite3_vtab_on_conflict=function(){return(ai=t._sqlite3_vtab_on_conflict=t.asm.sqlite3_vtab_on_conflict).apply(null,arguments)},li=t._sqlite3_vtab_collation=function(){return(li=t._sqlite3_vtab_collation=t.asm.sqlite3_vtab_collation).apply(null,arguments)},ci=t._sqlite3_vtab_in=function(){return(ci=t._sqlite3_vtab_in=t.asm.sqlite3_vtab_in).apply(null,arguments)},_i=t._sqlite3_vtab_rhs_value=function(){return(_i=t._sqlite3_vtab_rhs_value=t.asm.sqlite3_vtab_rhs_value).apply(null,arguments)},ui=t._sqlite3_vtab_distinct=function(){return(ui=t._sqlite3_vtab_distinct=t.asm.sqlite3_vtab_distinct).apply(null,arguments)},fi=t._sqlite3_keyword_name=function(){return(fi=t._sqlite3_keyword_name=t.asm.sqlite3_keyword_name).apply(null,arguments)},di=t._sqlite3_keyword_count=function(){return(di=t._sqlite3_keyword_count=t.asm.sqlite3_keyword_count).apply(null,arguments)},pi=t._sqlite3_keyword_check=function(){return(pi=t._sqlite3_keyword_check=t.asm.sqlite3_keyword_check).apply(null,arguments)},mi=t._sqlite3_complete=function(){return(mi=t._sqlite3_complete=t.asm.sqlite3_complete).apply(null,arguments)},hi=t._sqlite3_libversion=function(){return(hi=t._sqlite3_libversion=t.asm.sqlite3_libversion).apply(null,arguments)},gi=t._sqlite3_libversion_number=function(){return(gi=t._sqlite3_libversion_number=t.asm.sqlite3_libversion_number).apply(null,arguments)},qi=t._sqlite3_shutdown=function(){return(qi=t._sqlite3_shutdown=t.asm.sqlite3_shutdown).apply(null,arguments)},yi=t._sqlite3_last_insert_rowid=function(){return(yi=t._sqlite3_last_insert_rowid=t.asm.sqlite3_last_insert_rowid).apply(null,arguments)},bi=t._sqlite3_set_last_insert_rowid=function(){return(bi=t._sqlite3_set_last_insert_rowid=t.asm.sqlite3_set_last_insert_rowid).apply(null,arguments)},vi=t._sqlite3_changes64=function(){return(vi=t._sqlite3_changes64=t.asm.sqlite3_changes64).apply(null,arguments)},wi=t._sqlite3_changes=function(){return(wi=t._sqlite3_changes=t.asm.sqlite3_changes).apply(null,arguments)},Ei=t._sqlite3_total_changes64=function(){return(Ei=t._sqlite3_total_changes64=t.asm.sqlite3_total_changes64).apply(null,arguments)},Si=t._sqlite3_total_changes=function(){return(Si=t._sqlite3_total_changes=t.asm.sqlite3_total_changes).apply(null,arguments)},xi=t._sqlite3_txn_state=function(){return(xi=t._sqlite3_txn_state=t.asm.sqlite3_txn_state).apply(null,arguments)},Ai=t._sqlite3_close_v2=function(){return(Ai=t._sqlite3_close_v2=t.asm.sqlite3_close_v2).apply(null,arguments)},Ii=t._sqlite3_busy_handler=function(){return(Ii=t._sqlite3_busy_handler=t.asm.sqlite3_busy_handler).apply(null,arguments)},ki=t._sqlite3_progress_handler=function(){return(ki=t._sqlite3_progress_handler=t.asm.sqlite3_progress_handler).apply(null,arguments)},Ti=t._sqlite3_busy_timeout=function(){return(Ti=t._sqlite3_busy_timeout=t.asm.sqlite3_busy_timeout).apply(null,arguments)},Fi=t._sqlite3_create_function=function(){return(Fi=t._sqlite3_create_function=t.asm.sqlite3_create_function).apply(null,arguments)},Oi=t._sqlite3_create_function_v2=function(){return(Oi=t._sqlite3_create_function_v2=t.asm.sqlite3_create_function_v2).apply(null,arguments)},Pi=t._sqlite3_create_window_function=function(){return(Pi=t._sqlite3_create_window_function=t.asm.sqlite3_create_window_function).apply(null,arguments)},Li=t._sqlite3_overload_function=function(){return(Li=t._sqlite3_overload_function=t.asm.sqlite3_overload_function).apply(null,arguments)},Di=t._sqlite3_trace_v2=function(){return(Di=t._sqlite3_trace_v2=t.asm.sqlite3_trace_v2).apply(null,arguments)},Ci=t._sqlite3_commit_hook=function(){return(Ci=t._sqlite3_commit_hook=t.asm.sqlite3_commit_hook).apply(null,arguments)},Ri=t._sqlite3_update_hook=function(){return(Ri=t._sqlite3_update_hook=t.asm.sqlite3_update_hook).apply(null,arguments)},Ni=t._sqlite3_rollback_hook=function(){return(Ni=t._sqlite3_rollback_hook=t.asm.sqlite3_rollback_hook).apply(null,arguments)},Mi=t._sqlite3_preupdate_hook=function(){return(Mi=t._sqlite3_preupdate_hook=t.asm.sqlite3_preupdate_hook).apply(null,arguments)},ji=t._sqlite3_error_offset=function(){return(ji=t._sqlite3_error_offset=t.asm.sqlite3_error_offset).apply(null,arguments)},Bi=t._sqlite3_errcode=function(){return(Bi=t._sqlite3_errcode=t.asm.sqlite3_errcode).apply(null,arguments)},zi=t._sqlite3_extended_errcode=function(){return(zi=t._sqlite3_extended_errcode=t.asm.sqlite3_extended_errcode).apply(null,arguments)},Ui=t._sqlite3_errstr=function(){return(Ui=t._sqlite3_errstr=t.asm.sqlite3_errstr).apply(null,arguments)},Wi=t._sqlite3_limit=function(){return(Wi=t._sqlite3_limit=t.asm.sqlite3_limit).apply(null,arguments)},Qi=t._sqlite3_open=function(){return(Qi=t._sqlite3_open=t.asm.sqlite3_open).apply(null,arguments)},Hi=t._sqlite3_open_v2=function(){return(Hi=t._sqlite3_open_v2=t.asm.sqlite3_open_v2).apply(null,arguments)},Vi=t._sqlite3_create_collation=function(){return(Vi=t._sqlite3_create_collation=t.asm.sqlite3_create_collation).apply(null,arguments)},Gi=t._sqlite3_create_collation_v2=function(){return(Gi=t._sqlite3_create_collation_v2=t.asm.sqlite3_create_collation_v2).apply(null,arguments)},$i=t._sqlite3_collation_needed=function(){return($i=t._sqlite3_collation_needed=t.asm.sqlite3_collation_needed).apply(null,arguments)},Ki=t._sqlite3_get_autocommit=function(){return(Ki=t._sqlite3_get_autocommit=t.asm.sqlite3_get_autocommit).apply(null,arguments)},Ji=t._sqlite3_table_column_metadata=function(){return(Ji=t._sqlite3_table_column_metadata=t.asm.sqlite3_table_column_metadata).apply(null,arguments)},Xi=t._sqlite3_extended_result_codes=function(){return(Xi=t._sqlite3_extended_result_codes=t.asm.sqlite3_extended_result_codes).apply(null,arguments)},Yi=t._sqlite3_uri_key=function(){return(Yi=t._sqlite3_uri_key=t.asm.sqlite3_uri_key).apply(null,arguments)},Zi=t._sqlite3_uri_int64=function(){return(Zi=t._sqlite3_uri_int64=t.asm.sqlite3_uri_int64).apply(null,arguments)},eo=t._sqlite3_db_name=function(){return(eo=t._sqlite3_db_name=t.asm.sqlite3_db_name).apply(null,arguments)},to=t._sqlite3_db_filename=function(){return(to=t._sqlite3_db_filename=t.asm.sqlite3_db_filename).apply(null,arguments)},no=t._sqlite3_compileoption_used=function(){return(no=t._sqlite3_compileoption_used=t.asm.sqlite3_compileoption_used).apply(null,arguments)},ro=t._sqlite3_compileoption_get=function(){return(ro=t._sqlite3_compileoption_get=t.asm.sqlite3_compileoption_get).apply(null,arguments)},so=t._sqlite3session_diff=function(){return(so=t._sqlite3session_diff=t.asm.sqlite3session_diff).apply(null,arguments)},io=t._sqlite3session_attach=function(){return(io=t._sqlite3session_attach=t.asm.sqlite3session_attach).apply(null,arguments)},oo=t._sqlite3session_create=function(){return(oo=t._sqlite3session_create=t.asm.sqlite3session_create).apply(null,arguments)},ao=t._sqlite3session_delete=function(){return(ao=t._sqlite3session_delete=t.asm.sqlite3session_delete).apply(null,arguments)},lo=t._sqlite3session_table_filter=function(){return(lo=t._sqlite3session_table_filter=t.asm.sqlite3session_table_filter).apply(null,arguments)},co=t._sqlite3session_changeset=function(){return(co=t._sqlite3session_changeset=t.asm.sqlite3session_changeset).apply(null,arguments)},_o=t._sqlite3session_changeset_strm=function(){return(_o=t._sqlite3session_changeset_strm=t.asm.sqlite3session_changeset_strm).apply(null,arguments)},uo=t._sqlite3session_patchset_strm=function(){return(uo=t._sqlite3session_patchset_strm=t.asm.sqlite3session_patchset_strm).apply(null,arguments)},fo=t._sqlite3session_patchset=function(){return(fo=t._sqlite3session_patchset=t.asm.sqlite3session_patchset).apply(null,arguments)},po=t._sqlite3session_enable=function(){return(po=t._sqlite3session_enable=t.asm.sqlite3session_enable).apply(null,arguments)},mo=t._sqlite3session_indirect=function(){return(mo=t._sqlite3session_indirect=t.asm.sqlite3session_indirect).apply(null,arguments)},ho=t._sqlite3session_isempty=function(){return(ho=t._sqlite3session_isempty=t.asm.sqlite3session_isempty).apply(null,arguments)},go=t._sqlite3session_memory_used=function(){return(go=t._sqlite3session_memory_used=t.asm.sqlite3session_memory_used).apply(null,arguments)},qo=t._sqlite3session_object_config=function(){return(qo=t._sqlite3session_object_config=t.asm.sqlite3session_object_config).apply(null,arguments)},yo=t._sqlite3session_changeset_size=function(){return(yo=t._sqlite3session_changeset_size=t.asm.sqlite3session_changeset_size).apply(null,arguments)},bo=t._sqlite3changeset_start=function(){return(bo=t._sqlite3changeset_start=t.asm.sqlite3changeset_start).apply(null,arguments)},vo=t._sqlite3changeset_start_v2=function(){return(vo=t._sqlite3changeset_start_v2=t.asm.sqlite3changeset_start_v2).apply(null,arguments)},wo=t._sqlite3changeset_start_strm=function(){return(wo=t._sqlite3changeset_start_strm=t.asm.sqlite3changeset_start_strm).apply(null,arguments)},Eo=t._sqlite3changeset_start_v2_strm=function(){return(Eo=t._sqlite3changeset_start_v2_strm=t.asm.sqlite3changeset_start_v2_strm).apply(null,arguments)},So=t._sqlite3changeset_next=function(){return(So=t._sqlite3changeset_next=t.asm.sqlite3changeset_next).apply(null,arguments)},xo=t._sqlite3changeset_op=function(){return(xo=t._sqlite3changeset_op=t.asm.sqlite3changeset_op).apply(null,arguments)},Ao=t._sqlite3changeset_pk=function(){return(Ao=t._sqlite3changeset_pk=t.asm.sqlite3changeset_pk).apply(null,arguments)},Io=t._sqlite3changeset_old=function(){return(Io=t._sqlite3changeset_old=t.asm.sqlite3changeset_old).apply(null,arguments)},ko=t._sqlite3changeset_new=function(){return(ko=t._sqlite3changeset_new=t.asm.sqlite3changeset_new).apply(null,arguments)},To=t._sqlite3changeset_conflict=function(){return(To=t._sqlite3changeset_conflict=t.asm.sqlite3changeset_conflict).apply(null,arguments)},Fo=t._sqlite3changeset_fk_conflicts=function(){return(Fo=t._sqlite3changeset_fk_conflicts=t.asm.sqlite3changeset_fk_conflicts).apply(null,arguments)},Oo=t._sqlite3changeset_finalize=function(){return(Oo=t._sqlite3changeset_finalize=t.asm.sqlite3changeset_finalize).apply(null,arguments)},Po=t._sqlite3changeset_invert=function(){return(Po=t._sqlite3changeset_invert=t.asm.sqlite3changeset_invert).apply(null,arguments)},Lo=t._sqlite3changeset_invert_strm=function(){return(Lo=t._sqlite3changeset_invert_strm=t.asm.sqlite3changeset_invert_strm).apply(null,arguments)},Do=t._sqlite3changeset_apply_v2=function(){return(Do=t._sqlite3changeset_apply_v2=t.asm.sqlite3changeset_apply_v2).apply(null,arguments)},Co=t._sqlite3changeset_apply=function(){return(Co=t._sqlite3changeset_apply=t.asm.sqlite3changeset_apply).apply(null,arguments)},Ro=t._sqlite3changeset_apply_v2_strm=function(){return(Ro=t._sqlite3changeset_apply_v2_strm=t.asm.sqlite3changeset_apply_v2_strm).apply(null,arguments)},No=t._sqlite3changeset_apply_strm=function(){return(No=t._sqlite3changeset_apply_strm=t.asm.sqlite3changeset_apply_strm).apply(null,arguments)},Mo=t._sqlite3changegroup_new=function(){return(Mo=t._sqlite3changegroup_new=t.asm.sqlite3changegroup_new).apply(null,arguments)},jo=t._sqlite3changegroup_add=function(){return(jo=t._sqlite3changegroup_add=t.asm.sqlite3changegroup_add).apply(null,arguments)},Bo=t._sqlite3changegroup_output=function(){return(Bo=t._sqlite3changegroup_output=t.asm.sqlite3changegroup_output).apply(null,arguments)},zo=t._sqlite3changegroup_add_strm=function(){return(zo=t._sqlite3changegroup_add_strm=t.asm.sqlite3changegroup_add_strm).apply(null,arguments)},Uo=t._sqlite3changegroup_output_strm=function(){return(Uo=t._sqlite3changegroup_output_strm=t.asm.sqlite3changegroup_output_strm).apply(null,arguments)},Wo=t._sqlite3changegroup_delete=function(){return(Wo=t._sqlite3changegroup_delete=t.asm.sqlite3changegroup_delete).apply(null,arguments)},Qo=t._sqlite3changeset_concat=function(){return(Qo=t._sqlite3changeset_concat=t.asm.sqlite3changeset_concat).apply(null,arguments)},Ho=t._sqlite3changeset_concat_strm=function(){return(Ho=t._sqlite3changeset_concat_strm=t.asm.sqlite3changeset_concat_strm).apply(null,arguments)},Vo=t._sqlite3session_config=function(){return(Vo=t._sqlite3session_config=t.asm.sqlite3session_config).apply(null,arguments)},Go=t._sqlite3_sourceid=function(){return(Go=t._sqlite3_sourceid=t.asm.sqlite3_sourceid).apply(null,arguments)},$o=t._sqlite3__wasm_pstack_ptr=function(){return($o=t._sqlite3__wasm_pstack_ptr=t.asm.sqlite3__wasm_pstack_ptr).apply(null,arguments)},Ko=t._sqlite3__wasm_pstack_restore=function(){return(Ko=t._sqlite3__wasm_pstack_restore=t.asm.sqlite3__wasm_pstack_restore).apply(null,arguments)},Jo=t._sqlite3__wasm_pstack_alloc=function(){return(Jo=t._sqlite3__wasm_pstack_alloc=t.asm.sqlite3__wasm_pstack_alloc).apply(null,arguments)},Xo=t._sqlite3__wasm_pstack_remaining=function(){return(Xo=t._sqlite3__wasm_pstack_remaining=t.asm.sqlite3__wasm_pstack_remaining).apply(null,arguments)},Yo=t._sqlite3__wasm_pstack_quota=function(){return(Yo=t._sqlite3__wasm_pstack_quota=t.asm.sqlite3__wasm_pstack_quota).apply(null,arguments)},Zo=t._sqlite3__wasm_db_error=function(){return(Zo=t._sqlite3__wasm_db_error=t.asm.sqlite3__wasm_db_error).apply(null,arguments)},ea=t._sqlite3__wasm_test_struct=function(){return(ea=t._sqlite3__wasm_test_struct=t.asm.sqlite3__wasm_test_struct).apply(null,arguments)},ta=t._sqlite3__wasm_enum_json=function(){return(ta=t._sqlite3__wasm_enum_json=t.asm.sqlite3__wasm_enum_json).apply(null,arguments)},na=t._sqlite3__wasm_vfs_unlink=function(){return(na=t._sqlite3__wasm_vfs_unlink=t.asm.sqlite3__wasm_vfs_unlink).apply(null,arguments)},ra=t._sqlite3__wasm_db_vfs=function(){return(ra=t._sqlite3__wasm_db_vfs=t.asm.sqlite3__wasm_db_vfs).apply(null,arguments)},sa=t._sqlite3__wasm_db_reset=function(){return(sa=t._sqlite3__wasm_db_reset=t.asm.sqlite3__wasm_db_reset).apply(null,arguments)},ia=t._sqlite3__wasm_db_export_chunked=function(){return(ia=t._sqlite3__wasm_db_export_chunked=t.asm.sqlite3__wasm_db_export_chunked).apply(null,arguments)},oa=t._sqlite3__wasm_db_serialize=function(){return(oa=t._sqlite3__wasm_db_serialize=t.asm.sqlite3__wasm_db_serialize).apply(null,arguments)},aa=t._sqlite3__wasm_vfs_create_file=function(){return(aa=t._sqlite3__wasm_vfs_create_file=t.asm.sqlite3__wasm_vfs_create_file).apply(null,arguments)},la=t._sqlite3__wasm_posix_create_file=function(){return(la=t._sqlite3__wasm_posix_create_file=t.asm.sqlite3__wasm_posix_create_file).apply(null,arguments)},ca=t._sqlite3__wasm_kvvfsMakeKeyOnPstack=function(){return(ca=t._sqlite3__wasm_kvvfsMakeKeyOnPstack=t.asm.sqlite3__wasm_kvvfsMakeKeyOnPstack).apply(null,arguments)},_a=t._sqlite3__wasm_kvvfs_methods=function(){return(_a=t._sqlite3__wasm_kvvfs_methods=t.asm.sqlite3__wasm_kvvfs_methods).apply(null,arguments)},ua=t._sqlite3__wasm_vtab_config=function(){return(ua=t._sqlite3__wasm_vtab_config=t.asm.sqlite3__wasm_vtab_config).apply(null,arguments)},fa=t._sqlite3__wasm_db_config_ip=function(){return(fa=t._sqlite3__wasm_db_config_ip=t.asm.sqlite3__wasm_db_config_ip).apply(null,arguments)},da=t._sqlite3__wasm_db_config_pii=function(){return(da=t._sqlite3__wasm_db_config_pii=t.asm.sqlite3__wasm_db_config_pii).apply(null,arguments)},pa=t._sqlite3__wasm_db_config_s=function(){return(pa=t._sqlite3__wasm_db_config_s=t.asm.sqlite3__wasm_db_config_s).apply(null,arguments)},ma=t._sqlite3__wasm_config_i=function(){return(ma=t._sqlite3__wasm_config_i=t.asm.sqlite3__wasm_config_i).apply(null,arguments)},ha=t._sqlite3__wasm_config_ii=function(){return(ha=t._sqlite3__wasm_config_ii=t.asm.sqlite3__wasm_config_ii).apply(null,arguments)},ga=t._sqlite3__wasm_config_j=function(){return(ga=t._sqlite3__wasm_config_j=t.asm.sqlite3__wasm_config_j).apply(null,arguments)},qa=t._sqlite3__wasm_qfmt_token=function(){return(qa=t._sqlite3__wasm_qfmt_token=t.asm.sqlite3__wasm_qfmt_token).apply(null,arguments)},ya=t._sqlite3__wasm_init_wasmfs=function(){return(ya=t._sqlite3__wasm_init_wasmfs=t.asm.sqlite3__wasm_init_wasmfs).apply(null,arguments)},ba=t._sqlite3__wasm_test_intptr=function(){return(ba=t._sqlite3__wasm_test_intptr=t.asm.sqlite3__wasm_test_intptr).apply(null,arguments)},va=t._sqlite3__wasm_test_voidptr=function(){return(va=t._sqlite3__wasm_test_voidptr=t.asm.sqlite3__wasm_test_voidptr).apply(null,arguments)},wa=t._sqlite3__wasm_test_int64_max=function(){return(wa=t._sqlite3__wasm_test_int64_max=t.asm.sqlite3__wasm_test_int64_max).apply(null,arguments)},Ea=t._sqlite3__wasm_test_int64_min=function(){return(Ea=t._sqlite3__wasm_test_int64_min=t.asm.sqlite3__wasm_test_int64_min).apply(null,arguments)},Sa=t._sqlite3__wasm_test_int64_times2=function(){return(Sa=t._sqlite3__wasm_test_int64_times2=t.asm.sqlite3__wasm_test_int64_times2).apply(null,arguments)},xa=t._sqlite3__wasm_test_int64_minmax=function(){return(xa=t._sqlite3__wasm_test_int64_minmax=t.asm.sqlite3__wasm_test_int64_minmax).apply(null,arguments)},Aa=t._sqlite3__wasm_test_int64ptr=function(){return(Aa=t._sqlite3__wasm_test_int64ptr=t.asm.sqlite3__wasm_test_int64ptr).apply(null,arguments)},Ia=t._sqlite3__wasm_test_stack_overflow=function(){return(Ia=t._sqlite3__wasm_test_stack_overflow=t.asm.sqlite3__wasm_test_stack_overflow).apply(null,arguments)},ka=t._sqlite3__wasm_test_str_hello=function(){return(ka=t._sqlite3__wasm_test_str_hello=t.asm.sqlite3__wasm_test_str_hello).apply(null,arguments)},Ta=t._sqlite3__wasm_SQLTester_strglob=function(){return(Ta=t._sqlite3__wasm_SQLTester_strglob=t.asm.sqlite3__wasm_SQLTester_strglob).apply(null,arguments)},Mt=t._malloc=function(){return(Mt=t._malloc=t.asm.malloc).apply(null,arguments)},Fa=t._free=function(){return(Fa=t._free=t.asm.free).apply(null,arguments)},Oa=t._realloc=function(){return(Oa=t._realloc=t.asm.realloc).apply(null,arguments)},jt=t._emscripten_builtin_memalign=function(){return(jt=t._emscripten_builtin_memalign=t.asm.emscripten_builtin_memalign).apply(null,arguments)},Pa=t.stackSave=function(){return(Pa=t.stackSave=t.asm.stackSave).apply(null,arguments)},La=t.stackRestore=function(){return(La=t.stackRestore=t.asm.stackRestore).apply(null,arguments)},Da=t.stackAlloc=function(){return(Da=t.stackAlloc=t.asm.stackAlloc).apply(null,arguments)};t.wasmMemory=Ce;var rt;$e=function n(){rt||Bt(),rt||($e=n)};function Bt(n){if(n=n||Oe,je>0||(tn(),je>0))return;function e(){rt||(rt=!0,t.calledRun=!0,!yt&&(nn(),be(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),rn()))}t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),e()},1)):e()}if(t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return Bt(),t.postRun||(t.postRun=[]),t.postRun.push(function(n){"use strict";"use strict";if(globalThis.sqlite3ApiBootstrap=function e(i=globalThis.sqlite3ApiConfig||e.defaultConfig){if(e.sqlite3)return(e.sqlite3.config||console).warn("sqlite3ApiBootstrap() called multiple times.","Config and external initializers are ignored on calls after the first."),e.sqlite3;let o=Object.assign(Object.create(null),{exports:void 0,memory:void 0,bigIntEnabled:typeof n<"u"&&n.HEAPU64?!0:!!globalThis.BigInt64Array,debug:console.debug.bind(console),warn:console.warn.bind(console),error:console.error.bind(console),log:console.log.bind(console),wasmfsOpfsDir:"/opfs",useStdAlloc:!1},i||{});Object.assign(o,{allocExportName:o.useStdAlloc?"malloc":"sqlite3_malloc",deallocExportName:o.useStdAlloc?"free":"sqlite3_free",reallocExportName:o.useStdAlloc?"realloc":"sqlite3_realloc"},o),["exports","memory","wasmfsOpfsDir"].forEach(l=>{typeof o[l]=="function"&&(o[l]=o[l]())}),delete globalThis.sqlite3ApiConfig,delete e.defaultConfig;let r=Object.create(null),s=Object.create(null),p=l=>r.sqlite3_js_rc_str&&r.sqlite3_js_rc_str(l)||"Unknown result code #"+l,m=l=>typeof l=="number"&&l===(l|0);class P extends Error{constructor(...c){let _;if(c.length)if(m(c[0]))if(_=c[0],c.length===1)super(p(c[0]));else{let g=p(_);typeof c[1]=="object"?super(g,c[1]):(c[0]=g+":",super(c.join(" ")))}else c.length===2&&typeof c[1]=="object"?super(...c):super(c.join(" "));this.resultCode=_||r.SQLITE_ERROR,this.name="SQLite3Error"}}P.toss=(...l)=>{throw new P(...l)};let C=P.toss;o.wasmfsOpfsDir&&!/^\/[^/]+$/.test(o.wasmfsOpfsDir)&&C("config.wasmfsOpfsDir must be falsy or in the form '/dir-name'.");let B=l=>typeof l!="bigint"&&l===(l|0)&&l<=2147483647&&l>=-2147483648,j=function l(c){return l._max||(l._max=BigInt("0x7fffffffffffffff"),l._min=~l._max),c>=l._min&&c<=l._max},W=l=>l>=-0x7fffffffn-1n&&l<=0x7fffffffn,S=function l(c){return l._min||(l._min=Number.MIN_SAFE_INTEGER,l._max=Number.MAX_SAFE_INTEGER),c>=l._min&&c<=l._max},A=l=>l&&l.constructor&&B(l.constructor.BYTES_PER_ELEMENT)?l:!1,T=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,w=l=>l.buffer instanceof T,q=(l,c,_)=>w(l)?l.slice(c,_):l.subarray(c,_),k=l=>l&&(l instanceof Uint8Array||l instanceof Int8Array||l instanceof ArrayBuffer),R=l=>l&&(l instanceof Uint8Array||l instanceof Int8Array||l instanceof ArrayBuffer),N=l=>k(l)||C("Value is not of a supported TypedArray type."),y=new TextDecoder("utf-8"),z=function(l,c,_){return y.decode(q(l,c,_))},u=function(l){return R(l)?z(l instanceof ArrayBuffer?new Uint8Array(l):l):Array.isArray(l)?l.join(""):(s.isPtr(l)&&(l=s.cstrToJs(l)),l)};class f extends Error{constructor(...c){c.length===2&&typeof c[1]=="object"?super(...c):c.length?super(c.join(" ")):super("Allocation failed."),this.resultCode=r.SQLITE_NOMEM,this.name="WasmAllocError"}}f.toss=(...l)=>{throw new f(...l)},Object.assign(r,{sqlite3_bind_blob:void 0,sqlite3_bind_text:void 0,sqlite3_create_function_v2:(l,c,_,g,M,$,re,Y,oe)=>{},sqlite3_create_function:(l,c,_,g,M,$,re,Y)=>{},sqlite3_create_window_function:(l,c,_,g,M,$,re,Y,oe,ce)=>{},sqlite3_prepare_v3:(l,c,_,g,M,$)=>{},sqlite3_prepare_v2:(l,c,_,g,M)=>{},sqlite3_exec:(l,c,_,g,M)=>{},sqlite3_randomness:(l,c)=>{}});let E={affirmBindableTypedArray:N,flexibleString:u,bigIntFits32:W,bigIntFits64:j,bigIntFitsDouble:S,isBindableTypedArray:k,isInt32:B,isSQLableTypedArray:R,isTypedArray:A,typedArrayToString:z,isUIThread:()=>globalThis.window===globalThis&&!!globalThis.document,isSharedTypedArray:w,toss:function(...l){throw new Error(l.join(" "))},toss3:C,typedArrayPart:q,affirmDbHeader:function(l){l instanceof ArrayBuffer&&(l=new Uint8Array(l));let c="SQLite format 3";c.length>l.byteLength&&C("Input does not contain an SQLite3 database header.");for(let _=0;_<c.length;++_)c.charCodeAt(_)!==l[_]&&C("Input does not contain an SQLite3 database header.")},affirmIsDb:function(l){l instanceof ArrayBuffer&&(l=new Uint8Array(l));let c=l.byteLength;(c<512||c%512!==0)&&C("Byte array size",c,"is invalid for an SQLite3 db."),E.affirmDbHeader(l)}};Object.assign(s,{ptrSizeof:o.wasmPtrSizeof||4,ptrIR:o.wasmPtrIR||"i32",bigIntEnabled:!!o.bigIntEnabled,exports:o.exports||C("Missing API config.exports (WASM module exports)."),memory:o.memory||o.exports.memory||C("API config object requires a WebAssembly.Memory object","in either config.exports.memory (exported)","or config.memory (imported)."),alloc:void 0,realloc:void 0,dealloc:void 0}),s.allocFromTypedArray=function(l){l instanceof ArrayBuffer&&(l=new Uint8Array(l)),N(l);let c=s.alloc(l.byteLength||1);return s.heapForSize(l.constructor).set(l.byteLength?l:[0],c),c};{let l=o.allocExportName,c=o.deallocExportName,_=o.reallocExportName;for(let g of[l,c,_])s.exports[g]instanceof Function||C("Missing required exports[",g,"] function.");s.alloc=function g(M){return g.impl(M)||f.toss("Failed to allocate",M," bytes.")},s.alloc.impl=s.exports[l],s.realloc=function g(M,$){let re=g.impl(M,$);return $?re||f.toss("Failed to reallocate",$," bytes."):0},s.realloc.impl=s.exports[_],s.dealloc=s.exports[c]}s.compileOptionUsed=function l(c){if(arguments.length){if(Array.isArray(c)){let _={};return c.forEach(g=>{_[g]=r.sqlite3_compileoption_used(g)}),_}else if(typeof c=="object")return Object.keys(c).forEach(_=>{c[_]=r.sqlite3_compileoption_used(_)}),c}else{if(l._result)return l._result;l._opt||(l._rx=/^([^=]+)=(.+)/,l._rxInt=/^-?\d+$/,l._opt=function(re,Y){let oe=l._rx.exec(re);Y[0]=oe?oe[1]:re,Y[1]=oe?l._rxInt.test(oe[2])?+oe[2]:oe[2]:!0});let _={},g=[0,0],M=0,$;for(;$=r.sqlite3_compileoption_get(M++);)l._opt($,g),_[g[0]]=g[1];return l._result=_}return typeof c=="string"?!!r.sqlite3_compileoption_used(c):!1},s.pstack=Object.assign(Object.create(null),{restore:s.exports.sqlite3__wasm_pstack_restore,alloc:function(l){return typeof l=="string"&&!(l=s.sizeofIR(l))&&f.toss("Invalid value for pstack.alloc(",arguments[0],")"),s.exports.sqlite3__wasm_pstack_alloc(l)||f.toss("Could not allocate",l,"bytes from the pstack.")},allocChunks:function(l,c){typeof c=="string"&&!(c=s.sizeofIR(c))&&f.toss("Invalid size value for allocChunks(",arguments[1],")");let _=s.pstack.alloc(l*c),g=[],M=0,$=0;for(;M<l;++M,$+=c)g.push(_+$);return g},allocPtr:(l=1,c=!0)=>l===1?s.pstack.alloc(c?8:s.ptrSizeof):s.pstack.allocChunks(l,c?8:s.ptrSizeof),call:function(l){let c=s.pstack.pointer;try{return l(d)}finally{s.pstack.restore(c)}}}),Object.defineProperties(s.pstack,{pointer:{configurable:!1,iterable:!0,writeable:!1,get:s.exports.sqlite3__wasm_pstack_ptr},quota:{configurable:!1,iterable:!0,writeable:!1,get:s.exports.sqlite3__wasm_pstack_quota},remaining:{configurable:!1,iterable:!0,writeable:!1,get:s.exports.sqlite3__wasm_pstack_remaining}}),r.sqlite3_randomness=(...l)=>{if(l.length===1&&E.isTypedArray(l[0])&&l[0].BYTES_PER_ELEMENT===1){let c=l[0];if(c.byteLength===0)return s.exports.sqlite3_randomness(0,0),c;let _=s.pstack.pointer;try{let g=c.byteLength,M=0,$=s.exports.sqlite3_randomness,re=s.heap8u(),Y=g<512?g:512,oe=s.pstack.alloc(Y);do{let ce=g>Y?Y:g;$(ce,oe),c.set(q(re,oe,oe+ce),M),g-=ce,M+=ce}while(g>0)}catch(g){console.error("Highly unexpected (and ignored!) exception in sqlite3_randomness():",g)}finally{s.pstack.restore(_)}return c}s.exports.sqlite3_randomness(...l)};let O;if(r.sqlite3_wasmfs_opfs_dir=function(){if(O!==void 0)return O;let l=o.wasmfsOpfsDir;if(!l||!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle)return O="";try{return l&&s.xCallWrapped("sqlite3__wasm_init_wasmfs","i32",["string"],l)===0?O=l:O=""}catch{return O=""}},r.sqlite3_wasmfs_filename_is_persistent=function(l){let c=r.sqlite3_wasmfs_opfs_dir();return c&&l?l.startsWith(c+"/"):!1},r.sqlite3_js_db_uses_vfs=function(l,c,_=0){try{let g=r.sqlite3_vfs_find(c);return g?l?g===r.sqlite3_js_db_vfs(l,_)?g:!1:g===r.sqlite3_vfs_find(0)?g:!1:!1}catch{return!1}},r.sqlite3_js_vfs_list=function(){let l=[],c=r.sqlite3_vfs_find(0);for(;c;){let _=new r.sqlite3_vfs(c);l.push(s.cstrToJs(_.$zName)),c=_.$pNext,_.dispose()}return l},r.sqlite3_js_db_export=function(l,c=0){l=s.xWrap.testConvertArg("sqlite3*",l),l||C("Invalid sqlite3* argument."),s.bigIntEnabled||C("BigInt64 support is not enabled.");let _=s.scopedAllocPush(),g;try{let M=s.scopedAlloc(8+s.ptrSizeof),$=M+8,re=c?s.isPtr(c)?c:s.scopedAllocCString(""+c):0,Y=s.exports.sqlite3__wasm_db_serialize(l,re,$,M,0);Y&&C("Database serialization failed with code",d.capi.sqlite3_js_rc_str(Y)),g=s.peekPtr($);let oe=s.peek(M,"i64");return Y=oe?s.heap8u().slice(g,g+Number(oe)):new Uint8Array,Y}finally{g&&s.exports.sqlite3_free(g),s.scopedAllocPop(_)}},r.sqlite3_js_db_vfs=(l,c=0)=>E.sqlite3__wasm_db_vfs(l,c),r.sqlite3_js_aggregate_context=(l,c)=>r.sqlite3_aggregate_context(l,c)||(c?f.toss("Cannot allocate",c,"bytes for sqlite3_aggregate_context()"):0),r.sqlite3_js_posix_create_file=function(l,c,_){let g;c&&s.isPtr(c)?g=c:c instanceof ArrayBuffer||c instanceof Uint8Array?(g=s.allocFromTypedArray(c),(arguments.length<3||!E.isInt32(_)||_<0)&&(_=c.byteLength)):P.toss("Invalid 2nd argument for sqlite3_js_posix_create_file().");try{(!E.isInt32(_)||_<0)&&P.toss("Invalid 3rd argument for sqlite3_js_posix_create_file().");let M=E.sqlite3__wasm_posix_create_file(l,g,_);M&&P.toss("Creation of file failed with sqlite3 result code",r.sqlite3_js_rc_str(M))}finally{s.dealloc(g)}},r.sqlite3_js_vfs_create_file=function(l,c,_,g){o.warn("sqlite3_js_vfs_create_file() is deprecated and","should be avoided because it can lead to C-level crashes.","See its documentation for alternative options.");let M;_?(s.isPtr(_)?M=_:_ instanceof ArrayBuffer&&(_=new Uint8Array(_)),_ instanceof Uint8Array?(M=s.allocFromTypedArray(_),(arguments.length<4||!E.isInt32(g)||g<0)&&(g=_.byteLength)):P.toss("Invalid 3rd argument type for sqlite3_js_vfs_create_file().")):M=0,(!E.isInt32(g)||g<0)&&(s.dealloc(M),P.toss("Invalid 4th argument for sqlite3_js_vfs_create_file()."));try{let $=E.sqlite3__wasm_vfs_create_file(l,c,M,g);$&&P.toss("Creation of file failed with sqlite3 result code",r.sqlite3_js_rc_str($))}finally{s.dealloc(M)}},r.sqlite3_js_sql_to_string=l=>{if(typeof l=="string")return l;let c=u(v);return c===v?void 0:c},E.isUIThread()){let l=function(c){let _=Object.create(null);return _.prefix="kvvfs-"+c,_.stores=[],(c==="session"||c==="")&&_.stores.push(globalThis.sessionStorage),(c==="local"||c==="")&&_.stores.push(globalThis.localStorage),_};r.sqlite3_js_kvvfs_clear=function(c=""){let _=0,g=l(c);return g.stores.forEach(M=>{let $=[],re;for(re=0;re<M.length;++re){let Y=M.key(re);Y.startsWith(g.prefix)&&$.push(Y)}$.forEach(Y=>M.removeItem(Y)),_+=$.length}),_},r.sqlite3_js_kvvfs_size=function(c=""){let _=0,g=l(c);return g.stores.forEach(M=>{let $;for($=0;$<M.length;++$){let re=M.key($);re.startsWith(g.prefix)&&(_+=re.length,_+=M.getItem(re).length)}}),_*2}}r.sqlite3_db_config=function(l,c,..._){switch(this.s||(this.s=s.xWrap("sqlite3__wasm_db_config_s","int",["sqlite3*","int","string:static"]),this.pii=s.xWrap("sqlite3__wasm_db_config_pii","int",["sqlite3*","int","*","int","int"]),this.ip=s.xWrap("sqlite3__wasm_db_config_ip","int",["sqlite3*","int","int","*"])),c){case r.SQLITE_DBCONFIG_ENABLE_FKEY:case r.SQLITE_DBCONFIG_ENABLE_TRIGGER:case r.SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER:case r.SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION:case r.SQLITE_DBCONFIG_NO_CKPT_ON_CLOSE:case r.SQLITE_DBCONFIG_ENABLE_QPSG:case r.SQLITE_DBCONFIG_TRIGGER_EQP:case r.SQLITE_DBCONFIG_RESET_DATABASE:case r.SQLITE_DBCONFIG_DEFENSIVE:case r.SQLITE_DBCONFIG_WRITABLE_SCHEMA:case r.SQLITE_DBCONFIG_LEGACY_ALTER_TABLE:case r.SQLITE_DBCONFIG_DQS_DML:case r.SQLITE_DBCONFIG_DQS_DDL:case r.SQLITE_DBCONFIG_ENABLE_VIEW:case r.SQLITE_DBCONFIG_LEGACY_FILE_FORMAT:case r.SQLITE_DBCONFIG_TRUSTED_SCHEMA:case r.SQLITE_DBCONFIG_STMT_SCANSTATUS:case r.SQLITE_DBCONFIG_REVERSE_SCANORDER:return this.ip(l,c,_[0],_[1]||0);case r.SQLITE_DBCONFIG_LOOKASIDE:return this.pii(l,c,_[0],_[1],_[2]);case r.SQLITE_DBCONFIG_MAINDBNAME:return this.s(l,c,_[0]);default:return r.SQLITE_MISUSE}}.bind(Object.create(null)),r.sqlite3_value_to_js=function(l,c=!0){let _,g=r.sqlite3_value_type(l);switch(g){case r.SQLITE_INTEGER:s.bigIntEnabled?(_=r.sqlite3_value_int64(l),E.bigIntFitsDouble(_)&&(_=Number(_))):_=r.sqlite3_value_double(l);break;case r.SQLITE_FLOAT:_=r.sqlite3_value_double(l);break;case r.SQLITE_TEXT:_=r.sqlite3_value_text(l);break;case r.SQLITE_BLOB:{let M=r.sqlite3_value_bytes(l),$=r.sqlite3_value_blob(l);M&&!$&&d.WasmAllocError.toss("Cannot allocate memory for blob argument of",M,"byte(s)"),_=M?s.heap8u().slice($,$+Number(M)):null;break}case r.SQLITE_NULL:_=null;break;default:c&&C(r.SQLITE_MISMATCH,"Unhandled sqlite3_value_type():",g),_=void 0}return _},r.sqlite3_values_to_js=function(l,c,_=!0){let g,M=[];for(g=0;g<l;++g)M.push(r.sqlite3_value_to_js(s.peekPtr(c+s.ptrSizeof*g),_));return M},r.sqlite3_result_error_js=function(l,c){c instanceof f?r.sqlite3_result_error_nomem(l):r.sqlite3_result_error(l,""+c,-1)},r.sqlite3_result_js=function(l,c){if(c instanceof Error){r.sqlite3_result_error_js(l,c);return}try{switch(typeof c){case"undefined":break;case"boolean":r.sqlite3_result_int(l,c?1:0);break;case"bigint":E.bigIntFits32(c)?r.sqlite3_result_int(l,Number(c)):E.bigIntFitsDouble(c)?r.sqlite3_result_double(l,Number(c)):s.bigIntEnabled?E.bigIntFits64(c)?r.sqlite3_result_int64(l,c):C("BigInt value",c.toString(),"is too BigInt for int64."):C("BigInt value",c.toString(),"is too BigInt.");break;case"number":{let _;E.isInt32(c)?_=r.sqlite3_result_int:s.bigIntEnabled&&Number.isInteger(c)&&E.bigIntFits64(BigInt(c))?_=r.sqlite3_result_int64:_=r.sqlite3_result_double,_(l,c);break}case"string":{let[_,g]=s.allocCString(c,!0);r.sqlite3_result_text(l,_,g,r.SQLITE_WASM_DEALLOC);break}case"object":if(c===null){r.sqlite3_result_null(l);break}else if(E.isBindableTypedArray(c)){let _=s.allocFromTypedArray(c);r.sqlite3_result_blob(l,_,c.byteLength,r.SQLITE_WASM_DEALLOC);break}default:C("Don't not how to handle this UDF result value:",typeof c,c)}}catch(_){r.sqlite3_result_error_js(l,_)}},r.sqlite3_column_js=function(l,c,_=!0){let g=r.sqlite3_column_value(l,c);return g===0?void 0:r.sqlite3_value_to_js(g,_)};let L=function(l,c,_){_=r[_],this.ptr?s.pokePtr(this.ptr,0):this.ptr=s.allocPtr();let g=_(l,c,this.ptr);if(g)return P.toss(g,arguments[2]+"() failed with code "+g);let M=s.peekPtr(this.ptr);return M?r.sqlite3_value_to_js(M,!0):void 0}.bind(Object.create(null));r.sqlite3_preupdate_new_js=(l,c)=>L(l,c,"sqlite3_preupdate_new"),r.sqlite3_preupdate_old_js=(l,c)=>L(l,c,"sqlite3_preupdate_old"),r.sqlite3changeset_new_js=(l,c)=>L(l,c,"sqlite3changeset_new"),r.sqlite3changeset_old_js=(l,c)=>L(l,c,"sqlite3changeset_old");let d={WasmAllocError:f,SQLite3Error:P,capi:r,util:E,wasm:s,config:o,version:Object.create(null),client:void 0,asyncPostInit:async function l(){if(l.isReady instanceof Promise)return l.isReady;let c=e.initializersAsync;delete e.initializersAsync;let _=async()=>(d.__isUnderTest||(delete d.util,delete d.StructBinder),d),g=$=>{throw o.error("an async sqlite3 initializer failed:",$),$};if(!c||!c.length)return l.isReady=_().catch(g);c=c.map($=>$ instanceof Function?async re=>$(d):$),c.push(_);let M=Promise.resolve(d);for(;c.length;)M=M.then(c.shift());return l.isReady=M.catch(g)},scriptInfo:void 0};try{e.initializers.forEach(l=>{l(d)})}catch(l){throw console.error("sqlite3 bootstrap initializer threw:",l),l}return delete e.initializers,e.sqlite3=d,d},globalThis.sqlite3ApiBootstrap.initializers=[],globalThis.sqlite3ApiBootstrap.initializersAsync=[],globalThis.sqlite3ApiBootstrap.defaultConfig=Object.create(null),globalThis.sqlite3ApiBootstrap.sqlite3=void 0,globalThis.WhWasmUtilInstaller=function(e){"use strict";e.bigIntEnabled===void 0&&(e.bigIntEnabled=!!globalThis.BigInt64Array);let i=(...u)=>{throw new Error(u.join(" "))};e.exports||Object.defineProperty(e,"exports",{enumerable:!0,configurable:!0,get:()=>e.instance&&e.instance.exports});let o=e.pointerIR||"i32",r=e.ptrSizeof=o==="i32"?4:o==="i64"?8:i("Unhandled ptrSizeof:",o),s=Object.create(null);s.heapSize=0,s.memory=null,s.freeFuncIndexes=[],s.scopedAlloc=[],s.utf8Decoder=new TextDecoder,s.utf8Encoder=new TextEncoder("utf-8"),e.sizeofIR=u=>{switch(u){case"i8":return 1;case"i16":return 2;case"i32":case"f32":case"float":return 4;case"i64":case"f64":case"double":return 8;case"*":return r;default:return(""+u).endsWith("*")?r:void 0}};let p=function(){if(!s.memory)s.memory=e.memory instanceof WebAssembly.Memory?e.memory:e.exports.memory;else if(s.heapSize===s.memory.buffer.byteLength)return s;let u=s.memory.buffer;return s.HEAP8=new Int8Array(u),s.HEAP8U=new Uint8Array(u),s.HEAP16=new Int16Array(u),s.HEAP16U=new Uint16Array(u),s.HEAP32=new Int32Array(u),s.HEAP32U=new Uint32Array(u),e.bigIntEnabled&&(s.HEAP64=new BigInt64Array(u),s.HEAP64U=new BigUint64Array(u)),s.HEAP32F=new Float32Array(u),s.HEAP64F=new Float64Array(u),s.heapSize=u.byteLength,s};e.heap8=()=>p().HEAP8,e.heap8u=()=>p().HEAP8U,e.heap16=()=>p().HEAP16,e.heap16u=()=>p().HEAP16U,e.heap32=()=>p().HEAP32,e.heap32u=()=>p().HEAP32U,e.heapForSize=function(u,f=!0){let E,O=s.memory&&s.heapSize===s.memory.buffer.byteLength?s:p();switch(u){case Int8Array:return O.HEAP8;case Uint8Array:return O.HEAP8U;case Int16Array:return O.HEAP16;case Uint16Array:return O.HEAP16U;case Int32Array:return O.HEAP32;case Uint32Array:return O.HEAP32U;case 8:return f?O.HEAP8U:O.HEAP8;case 16:return f?O.HEAP16U:O.HEAP16;case 32:return f?O.HEAP32U:O.HEAP32;case 64:if(O.HEAP64)return f?O.HEAP64U:O.HEAP64;break;default:if(e.bigIntEnabled){if(u===globalThis.BigUint64Array)return O.HEAP64U;if(u===globalThis.BigInt64Array)return O.HEAP64;break}}i("Invalid heapForSize() size: expecting 8, 16, 32,","or (if BigInt is enabled) 64.")},e.functionTable=function(){return e.exports.__indirect_function_table},e.functionEntry=function(u){let f=e.functionTable();return u<f.length?f.get(u):void 0},e.jsFuncToWasm=function u(f,E){if(u._||(u._={sigTypes:Object.assign(Object.create(null),{i:"i32",p:"i32",P:"i32",s:"i32",j:"i64",f:"f32",d:"f64"}),typeCodes:Object.assign(Object.create(null),{f64:124,f32:125,i64:126,i32:127}),uleb128Encode:function(d,l,c){c<128?d[l](c):d[l](c%128|128,c>>7)},rxJSig:/^(\w)\((\w*)\)$/,sigParams:function(d){let l=u._.rxJSig.exec(d);return l?l[2]:d.substr(1)},letterType:d=>u._.sigTypes[d]||i("Invalid signature letter:",d),pushSigType:(d,l)=>d.push(u._.typeCodes[u._.letterType(l)])}),typeof f=="string"){let d=E;E=f,f=d}let O=u._.sigParams(E),L=[1,96];u._.uleb128Encode(L,"push",O.length);for(let d of O)u._.pushSigType(L,d);return E[0]==="v"?L.push(0):(L.push(1),u._.pushSigType(L,E[0])),u._.uleb128Encode(L,"unshift",L.length),L.unshift(0,97,115,109,1,0,0,0,1),L.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array(L)),{e:{f}}).exports.f};let m=function(f,E,O){if(O&&!s.scopedAlloc.length&&i("No scopedAllocPush() scope is active."),typeof f=="string"){let c=E;E=f,f=c}(typeof E!="string"||!(f instanceof Function))&&i("Invalid arguments: expecting (function,signature) or (signature,function).");let L=e.functionTable(),d=L.length,l;for(;s.freeFuncIndexes.length&&(l=s.freeFuncIndexes.pop(),L.get(l));){l=null;continue}l||(l=d,L.grow(1));try{return L.set(l,f),O&&s.scopedAlloc[s.scopedAlloc.length-1].push(l),l}catch(c){if(!(c instanceof TypeError))throw l===d&&s.freeFuncIndexes.push(d),c}try{let c=e.jsFuncToWasm(f,E);L.set(l,c),O&&s.scopedAlloc[s.scopedAlloc.length-1].push(l)}catch(c){throw l===d&&s.freeFuncIndexes.push(d),c}return l};e.installFunction=(u,f)=>m(u,f,!1),e.scopedInstallFunction=(u,f)=>m(u,f,!0),e.uninstallFunction=function(u){if(!u&&u!==0)return;let f=s.freeFuncIndexes,E=e.functionTable();f.push(u);let O=E.get(u);return E.set(u,null),O},e.peek=function(f,E="i8"){E.endsWith("*")&&(E=o);let O=s.memory&&s.heapSize===s.memory.buffer.byteLength?s:p(),L=Array.isArray(f)?[]:void 0,d;do{switch(L&&(f=arguments[0].shift()),E){case"i1":case"i8":d=O.HEAP8[f>>0];break;case"i16":d=O.HEAP16[f>>1];break;case"i32":d=O.HEAP32[f>>2];break;case"float":case"f32":d=O.HEAP32F[f>>2];break;case"double":case"f64":d=Number(O.HEAP64F[f>>3]);break;case"i64":if(e.bigIntEnabled){d=BigInt(O.HEAP64[f>>3]);break}default:i("Invalid type for peek():",E)}L&&L.push(d)}while(L&&arguments[0].length);return L||d},e.poke=function(u,f,E="i8"){E.endsWith("*")&&(E=o);let O=s.memory&&s.heapSize===s.memory.buffer.byteLength?s:p();for(let L of Array.isArray(u)?u:[u])switch(E){case"i1":case"i8":O.HEAP8[L>>0]=f;continue;case"i16":O.HEAP16[L>>1]=f;continue;case"i32":O.HEAP32[L>>2]=f;continue;case"float":case"f32":O.HEAP32F[L>>2]=f;continue;case"double":case"f64":O.HEAP64F[L>>3]=f;continue;case"i64":if(O.HEAP64){O.HEAP64[L>>3]=BigInt(f);continue}default:i("Invalid type for poke(): "+E)}return this},e.peekPtr=(...u)=>e.peek(u.length===1?u[0]:u,o),e.pokePtr=(u,f=0)=>e.poke(u,f,o),e.peek8=(...u)=>e.peek(u.length===1?u[0]:u,"i8"),e.poke8=(u,f)=>e.poke(u,f,"i8"),e.peek16=(...u)=>e.peek(u.length===1?u[0]:u,"i16"),e.poke16=(u,f)=>e.poke(u,f,"i16"),e.peek32=(...u)=>e.peek(u.length===1?u[0]:u,"i32"),e.poke32=(u,f)=>e.poke(u,f,"i32"),e.peek64=(...u)=>e.peek(u.length===1?u[0]:u,"i64"),e.poke64=(u,f)=>e.poke(u,f,"i64"),e.peek32f=(...u)=>e.peek(u.length===1?u[0]:u,"f32"),e.poke32f=(u,f)=>e.poke(u,f,"f32"),e.peek64f=(...u)=>e.peek(u.length===1?u[0]:u,"f64"),e.poke64f=(u,f)=>e.poke(u,f,"f64"),e.getMemValue=e.peek,e.getPtrValue=e.peekPtr,e.setMemValue=e.poke,e.setPtrValue=e.pokePtr,e.isPtr32=u=>typeof u=="number"&&u===(u|0)&&u>=0,e.isPtr=e.isPtr32,e.cstrlen=function(u){if(!u||!e.isPtr(u))return null;let f=p().HEAP8U,E=u;for(;f[E]!==0;++E);return E-u};let P=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,C=function(u,f,E){return s.utf8Decoder.decode(u.buffer instanceof P?u.slice(f,E):u.subarray(f,E))};e.cstrToJs=function(u){let f=e.cstrlen(u);return f?C(p().HEAP8U,u,u+f):f===null?f:""},e.jstrlen=function(u){if(typeof u!="string")return null;let f=u.length,E=0;for(let O=0;O<f;++O){let L=u.charCodeAt(O);L>=55296&&L<=57343&&(L=65536+((L&1023)<<10)|u.charCodeAt(++O)&1023),L<=127?++E:L<=2047?E+=2:L<=65535?E+=3:E+=4}return E},e.jstrcpy=function(u,f,E=0,O=-1,L=!0){if((!f||!(f instanceof Int8Array)&&!(f instanceof Uint8Array))&&i("jstrcpy() target must be an Int8Array or Uint8Array."),O<0&&(O=f.length-E),!(O>0)||!(E>=0))return 0;let d=0,l=u.length,c=E,_=E+O-(L?1:0);for(;d<l&&E<_;++d){let g=u.charCodeAt(d);if(g>=55296&&g<=57343&&(g=65536+((g&1023)<<10)|u.charCodeAt(++d)&1023),g<=127){if(E>=_)break;f[E++]=g}else if(g<=2047){if(E+1>=_)break;f[E++]=192|g>>6,f[E++]=128|g&63}else if(g<=65535){if(E+2>=_)break;f[E++]=224|g>>12,f[E++]=128|g>>6&63,f[E++]=128|g&63}else{if(E+3>=_)break;f[E++]=240|g>>18,f[E++]=128|g>>12&63,f[E++]=128|g>>6&63,f[E++]=128|g&63}}return L&&(f[E++]=0),E-c},e.cstrncpy=function(u,f,E){if((!u||!f)&&i("cstrncpy() does not accept NULL strings."),E<0)E=e.cstrlen(strPtr)+1;else if(!(E>0))return 0;let O=e.heap8u(),L=0,d;for(;L<E&&(d=O[f+L]);++L)O[u+L]=d;return L<E&&(O[u+L++]=0),L},e.jstrToUintArray=(u,f=!1)=>s.utf8Encoder.encode(f?u+"\0":u);let B=(u,f)=>{(!(u.alloc instanceof Function)||!(u.dealloc instanceof Function))&&i("Object is missing alloc() and/or dealloc() function(s)","required by",f+"().")},j=function(u,f,E,O){if(B(e,O),typeof u!="string")return null;{let L=s.utf8Encoder.encode(u),d=E(L.length+1),l=p().HEAP8U;return l.set(L,d),l[d+L.length]=0,f?[d,L.length]:d}};e.allocCString=(u,f=!1)=>j(u,f,e.alloc,"allocCString()"),e.scopedAllocPush=function(){B(e,"scopedAllocPush");let u=[];return s.scopedAlloc.push(u),u},e.scopedAllocPop=function(u){B(e,"scopedAllocPop");let f=arguments.length?s.scopedAlloc.indexOf(u):s.scopedAlloc.length-1;f<0&&i("Invalid state object for scopedAllocPop()."),arguments.length===0&&(u=s.scopedAlloc[f]),s.scopedAlloc.splice(f,1);for(let E;E=u.pop();)e.functionEntry(E)?e.uninstallFunction(E):e.dealloc(E)},e.scopedAlloc=function(u){s.scopedAlloc.length||i("No scopedAllocPush() scope is active.");let f=e.alloc(u);return s.scopedAlloc[s.scopedAlloc.length-1].push(f),f},Object.defineProperty(e.scopedAlloc,"level",{configurable:!1,enumerable:!1,get:()=>s.scopedAlloc.length,set:()=>i("The 'active' property is read-only.")}),e.scopedAllocCString=(u,f=!1)=>j(u,f,e.scopedAlloc,"scopedAllocCString()");let W=function(u,f){let E=e[u?"scopedAlloc":"alloc"]((f.length+1)*e.ptrSizeof),O=0;return f.forEach(L=>{e.pokePtr(E+e.ptrSizeof*O++,e[u?"scopedAllocCString":"allocCString"](""+L))}),e.pokePtr(E+e.ptrSizeof*O,0),E};e.scopedAllocMainArgv=u=>W(!0,u),e.allocMainArgv=u=>W(!1,u),e.cArgvToJs=(u,f)=>{let E=[];for(let O=0;O<u;++O){let L=e.peekPtr(f+e.ptrSizeof*O);E.push(L?e.cstrToJs(L):null)}return E},e.scopedAllocCall=function(u){e.scopedAllocPush();try{return u()}finally{e.scopedAllocPop()}};let S=function(u,f,E){B(e,E);let O=f?"i64":o,L=e[E](u*(f?8:r));if(e.poke(L,0,O),u===1)return L;let d=[L];for(let l=1;l<u;++l)L+=f?8:r,d[l]=L,e.poke(L,0,O);return d};e.allocPtr=(u=1,f=!0)=>S(u,f,"alloc"),e.scopedAllocPtr=(u=1,f=!0)=>S(u,f,"scopedAlloc"),e.xGet=function(u){return e.exports[u]||i("Cannot find exported symbol:",u)};let A=(u,f)=>i(u+"() requires",f,"argument(s).");e.xCall=function(u,...f){let E=u instanceof Function?u:e.xGet(u);return E instanceof Function||i("Exported symbol",u,"is not a function."),E.length!==f.length&&A(E===u?E.name:u,E.length),arguments.length===2&&Array.isArray(arguments[1])?E.apply(null,arguments[1]):E.apply(null,f)},s.xWrap=Object.create(null),s.xWrap.convert=Object.create(null),s.xWrap.convert.arg=new Map,s.xWrap.convert.result=new Map;let T=s.xWrap.convert.arg,w=s.xWrap.convert.result;e.bigIntEnabled&&T.set("i64",u=>BigInt(u));let q=o==="i32"?u=>u|0:u=>BigInt(u)|BigInt(0);T.set("i32",q).set("i16",u=>(u|0)&65535).set("i8",u=>(u|0)&255).set("f32",u=>Number(u).valueOf()).set("float",T.get("f32")).set("f64",T.get("f32")).set("double",T.get("f64")).set("int",T.get("i32")).set("null",u=>u).set(null,T.get("null")).set("**",q).set("*",q),w.set("*",q).set("pointer",q).set("number",u=>Number(u)).set("void",u=>{}).set("null",u=>u).set(null,w.get("null"));{let u=["i8","i16","i32","int","f32","float","f64","double"];e.bigIntEnabled&&u.push("i64");let f=T.get(o);for(let E of u)T.set(E+"*",f),w.set(E+"*",f),w.set(E,T.get(E)||i("Missing arg converter:",E))}let k=function(u){return typeof u=="string"?e.scopedAllocCString(u):u?q(u):null};T.set("string",k).set("utf8",k).set("pointer",k),w.set("string",u=>e.cstrToJs(u)).set("utf8",w.get("string")).set("string:dealloc",u=>{try{return u?e.cstrToJs(u):null}finally{e.dealloc(u)}}).set("utf8:dealloc",w.get("string:dealloc")).set("json",u=>JSON.parse(e.cstrToJs(u))).set("json:dealloc",u=>{try{return u?JSON.parse(e.cstrToJs(u)):null}finally{e.dealloc(u)}});let R=class{constructor(u){this.name=u.name||"unnamed adapter"}convertArg(u,f,E){i("AbstractArgAdapter must be subclassed.")}};T.FuncPtrAdapter=class Le extends R{constructor(f){super(f),T.FuncPtrAdapter.warnOnUse&&console.warn("xArg.FuncPtrAdapter is an internal-only API","and is not intended to be invoked from","client-level code. Invoked with:",f),this.name=f.name||"unnamed",this.signature=f.signature,f.contextKey instanceof Function&&(this.contextKey=f.contextKey,f.bindScope||(f.bindScope="context")),this.bindScope=f.bindScope||i("FuncPtrAdapter options requires a bindScope (explicit or implied)."),Le.bindScopes.indexOf(f.bindScope)<0&&i("Invalid options.bindScope ("+f.bindMod+") for FuncPtrAdapter. Expecting one of: ("+Le.bindScopes.join(", ")+")"),this.isTransient=this.bindScope==="transient",this.isContext=this.bindScope==="context",this.isPermanent=this.bindScope==="permanent",this.singleton=this.bindScope==="singleton"?[]:void 0,this.callProxy=f.callProxy instanceof Function?f.callProxy:void 0}contextKey(f,E){return this}contextMap(f){let E=this.__cmap||(this.__cmap=new Map),O=E.get(f);return O===void 0&&E.set(f,O=[]),O}convertArg(f,E,O){let L=this.singleton;if(!L&&this.isContext&&(L=this.contextMap(this.contextKey(E,O))),L&&L[0]===f)return L[1];if(f instanceof Function){this.callProxy&&(f=this.callProxy(f));let d=m(f,this.signature,this.isTransient);if(Le.debugFuncInstall&&Le.debugOut("FuncPtrAdapter installed",this,this.contextKey(E,O),"@"+d,f),L){if(L[1]){Le.debugFuncInstall&&Le.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(E,O),"@"+L[1],f);try{s.scopedAlloc[s.scopedAlloc.length-1].push(L[1])}catch{}}L[0]=f,L[1]=d}return d}else if(e.isPtr(f)||f===null||f===void 0){if(L&&L[1]&&L[1]!==f){Le.debugFuncInstall&&Le.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(E,O),"@"+L[1],f);try{s.scopedAlloc[s.scopedAlloc.length-1].push(L[1])}catch{}L[0]=L[1]=f|0}return f||0}else throw new TypeError("Invalid FuncPtrAdapter argument type. Expecting a function pointer or a "+(this.name?this.name+" ":"")+"function matching signature "+this.signature+".")}},T.FuncPtrAdapter.warnOnUse=!1,T.FuncPtrAdapter.debugFuncInstall=!1,T.FuncPtrAdapter.debugOut=console.debug.bind(console),T.FuncPtrAdapter.bindScopes=["transient","context","singleton","permanent"];let N=u=>T.get(u)||i("Argument adapter not found:",u),y=u=>w.get(u)||i("Result adapter not found:",u);s.xWrap.convertArg=(u,...f)=>N(u)(...f),s.xWrap.convertArgNoCheck=(u,...f)=>T.get(u)(...f),s.xWrap.convertResult=(u,f)=>u===null?f:u?y(u)(f):void 0,s.xWrap.convertResultNoCheck=(u,f)=>u===null?f:u?w.get(u)(f):void 0,e.xWrap=function(u,f,...E){arguments.length===3&&Array.isArray(arguments[2])&&(E=arguments[2]),e.isPtr(u)&&(u=e.functionEntry(u)||i("Function pointer not found in WASM function table."));let O=u instanceof Function,L=O?u:e.xGet(u);if(O&&(u=L.name||"unnamed function"),E.length!==L.length&&A(u,L.length),f===null&&L.length===0)return L;f!=null&&y(f);for(let l of E)l instanceof R?T.set(l,(...c)=>l.convertArg(...c)):N(l);let d=s.xWrap;return L.length===0?(...l)=>l.length?A(u,L.length):d.convertResult(f,L.call(null)):function(...l){l.length!==L.length&&A(u,L.length);let c=e.scopedAllocPush();try{let _=0;for(;_<l.length;++_)l[_]=d.convertArgNoCheck(E[_],l[_],l,_);return d.convertResultNoCheck(f,L.apply(null,l))}finally{e.scopedAllocPop(c)}}};let z=function(u,f,E,O,L,d){if(typeof E=="string"){if(f===1)return d.get(E);if(f===2){if(O)O instanceof Function||i(L,"requires a function argument.");else return delete d.get(E),u;return d.set(E,O),u}}i("Invalid arguments to",L)};return e.xWrap.resultAdapter=function u(f,E){return z(u,arguments.length,f,E,"resultAdapter()",w)},e.xWrap.argAdapter=function u(f,E){return z(u,arguments.length,f,E,"argAdapter()",T)},e.xWrap.FuncPtrAdapter=T.FuncPtrAdapter,e.xCallWrapped=function(u,f,E,...O){return Array.isArray(arguments[3])&&(O=arguments[3]),e.xWrap(u,f,E||[]).apply(null,O||[])},e.xWrap.testConvertArg=s.xWrap.convertArg,e.xWrap.testConvertResult=s.xWrap.convertResult,e},globalThis.WhWasmUtilInstaller.yawl=function(e){let i=()=>fetch(e.uri,{credentials:"same-origin"}),o=this,r=function(p){if(e.wasmUtilTarget){let m=(...C)=>{throw new Error(C.join(" "))},P=e.wasmUtilTarget;if(P.module=p.module,P.instance=p.instance,P.instance.exports.memory||(P.memory=e.imports&&e.imports.env&&e.imports.env.memory||m("Missing 'memory' object!")),!P.alloc&&p.instance.exports.malloc){let C=p.instance.exports;P.alloc=function(B){return C.malloc(B)||m("Allocation of",B,"bytes failed.")},P.dealloc=function(B){C.free(B)}}o(P)}return e.onload&&e.onload(p,e),p};return WebAssembly.instantiateStreaming?function(){return WebAssembly.instantiateStreaming(i(),e.imports||{}).then(r)}:function(){return i().then(m=>m.arrayBuffer()).then(m=>WebAssembly.instantiate(m,e.imports||{})).then(r)}}.bind(globalThis.WhWasmUtilInstaller),globalThis.Jaccwabyt=function e(i){let o=(...I)=>{throw new Error(I.join(" "))};!(i.heap instanceof WebAssembly.Memory)&&!(i.heap instanceof Function)&&o("config.heap must be WebAssembly.Memory instance or a function."),["alloc","dealloc"].forEach(function(I){i[I]instanceof Function||o("Config option '"+I+"' must be a function.")});let r=e,s=i.heap instanceof Function?i.heap:()=>new Uint8Array(i.heap.buffer),p=i.alloc,m=i.dealloc,P=i.log||console.log.bind(console),C=i.memberPrefix||"",B=i.memberSuffix||"",j=i.bigIntEnabled===void 0?!!globalThis.BigInt64Array:!!i.bigIntEnabled,W=globalThis.BigInt,S=globalThis.BigInt64Array,A=i.ptrSizeof||4,T=i.ptrIR||"i32";r.debugFlags||(r.__makeDebugFlags=function(I=null){I&&I.__flags&&(I=I.__flags);let G=function K(J){return arguments.length===0?K.__flags:(J<0?(delete K.__flags.getter,delete K.__flags.setter,delete K.__flags.alloc,delete K.__flags.dealloc):(K.__flags.getter=(1&J)!==0,K.__flags.setter=(2&J)!==0,K.__flags.alloc=(4&J)!==0,K.__flags.dealloc=(8&J)!==0),K._flags)};return Object.defineProperty(G,"__flags",{iterable:!1,writable:!1,value:Object.create(I)}),I||G(0),G},r.debugFlags=r.__makeDebugFlags());let w=function(){let I=new ArrayBuffer(2);return new DataView(I).setInt16(0,256,!0),new Int16Array(I)[0]===256}(),q=I=>I[1]==="(",k=I=>I==="p"||I==="P",R=I=>I==="P",N=I=>q(I)?"p":I[0],y=function(I){switch(N(I)){case"c":case"C":return"i8";case"i":return"i32";case"p":case"P":case"s":return T;case"j":return"i64";case"f":return"float";case"d":return"double"}o("Unhandled signature IR:",I)},z=S?()=>!0:()=>o("BigInt64Array is not available."),u=function(I){switch(N(I)){case"p":case"P":case"s":{switch(A){case 4:return"getInt32";case 8:return z()&&"getBigInt64"}break}case"i":return"getInt32";case"c":return"getInt8";case"C":return"getUint8";case"j":return z()&&"getBigInt64";case"f":return"getFloat32";case"d":return"getFloat64"}o("Unhandled DataView getter for signature:",I)},f=function(I){switch(N(I)){case"p":case"P":case"s":{switch(A){case 4:return"setInt32";case 8:return z()&&"setBigInt64"}break}case"i":return"setInt32";case"c":return"setInt8";case"C":return"setUint8";case"j":return z()&&"setBigInt64";case"f":return"setFloat32";case"d":return"setFloat64"}o("Unhandled DataView setter for signature:",I)},E=function(I){switch(N(I)){case"i":case"f":case"c":case"C":case"d":return Number;case"j":return z()&&W;case"p":case"P":case"s":switch(A){case 4:return Number;case 8:return z()&&W}break}o("Unhandled DataView set wrapper for signature:",I)},O=(I,G)=>I+"::"+G,L=function(I,G){return()=>o(O(I,G),"is read-only.")},d=new WeakMap,l="(pointer-is-external)",c=function(I,G,K){if(K||(K=d.get(G)),K){if(d.delete(G),Array.isArray(G.ondispose)){let J;for(;J=G.ondispose.shift();)try{J instanceof Function?J.call(G):J instanceof te?J.dispose():typeof J=="number"&&m(J)}catch(de){console.warn("ondispose() for",I.structName,"@",K,"threw. NOT propagating it.",de)}}else if(G.ondispose instanceof Function)try{G.ondispose()}catch(J){console.warn("ondispose() for",I.structName,"@",K,"threw. NOT propagating it.",J)}delete G.ondispose,I.debugFlags.__flags.dealloc&&P("debug.dealloc:",G[l]?"EXTERNAL":"",I.structName,"instance:",I.structInfo.sizeof,"bytes @"+K),G[l]||m(K)}},_=I=>({configurable:!1,writable:!1,iterable:!1,value:I}),g=function(I,G,K){let J=!K;K?Object.defineProperty(G,l,_(K)):(K=p(I.structInfo.sizeof),K||o("Allocation of",I.structName,"structure failed."));try{I.debugFlags.__flags.alloc&&P("debug.alloc:",J?"":"EXTERNAL",I.structName,"instance:",I.structInfo.sizeof,"bytes @"+K),J&&s().fill(0,K,K+I.structInfo.sizeof),d.set(G,K)}catch(de){throw c(I,G,K),de}},M=function(){let I=this.pointer;return I?new Uint8Array(s().slice(I,I+this.structInfo.sizeof)):null},re=_(I=>C+I+B),Y=function(I,G,K=!0){let J=I.members[G];if(!J&&(C||B)){for(let de of Object.values(I.members))if(de.key===G){J=de;break}!J&&K&&o(O(I.name,G),"is not a mapped struct member.")}return J},oe=function I(G,K,J=!1){I._||(I._=he=>he.replace(/[^vipPsjrdcC]/g,"").replace(/[pPscC]/g,"i"));let de=Y(G.structInfo,K,!0);return J?I._(de.signature):de.signature},ce={configurable:!1,enumerable:!1,get:function(){return d.get(this)},set:()=>o("Cannot assign the 'pointer' property of a struct.")},_e=_(function(){let I=[];for(let G of Object.keys(this.structInfo.members))I.push(this.memberKey(G));return I}),H=new TextDecoder("utf-8"),b=new TextEncoder,D=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,Q=function(I,G,K){return H.decode(I.buffer instanceof D?I.slice(G,K):I.subarray(G,K))},h=function(I,G,K=!1){let J=Y(I.structInfo,G,K);return J&&J.signature.length===1&&J.signature[0]==="s"?J:!1},x=function(I){I.signature!=="s"&&o("Invalid member type signature for C-string value:",JSON.stringify(I))},F=function(G,K){let J=Y(G.structInfo,K,!0);x(J);let de=G[J.key];if(!de)return null;let he=de,me=s();for(;me[he]!==0;++he);return de===he?"":Q(me,de,he)},V=function(I,...G){I.ondispose?Array.isArray(I.ondispose)||(I.ondispose=[I.ondispose]):I.ondispose=[],I.ondispose.push(...G)},U=function(I){let G=b.encode(I),K=p(G.length+1);K||o("Allocation error while duplicating string:",I);let J=s();return J.set(G,K),J[K+G.length]=0,K},Z=function(I,G,K){let J=Y(I.structInfo,G,!0);x(J);let de=U(K);return I[J.key]=de,V(I,de),I},te=function(G,K){arguments[2]!==_&&o("Do not call the StructType constructor","from client-level code."),Object.defineProperties(this,{structName:_(G),structInfo:_(K)})};te.prototype=Object.create(null,{dispose:_(function(){c(this.constructor,this)}),lookupMember:_(function(I,G=!0){return Y(this.structInfo,I,G)}),memberToJsString:_(function(I){return F(this,I)}),memberIsString:_(function(I,G=!0){return h(this,I,G)}),memberKey:re,memberKeys:_e,memberSignature:_(function(I,G=!1){return oe(this,I,G)}),memoryDump:_(M),pointer:ce,setMemberCString:_(function(I,G){return Z(this,I,G)})}),Object.assign(te.prototype,{addOnDispose:function(...I){return V(this,...I),this}}),Object.defineProperties(te,{allocCString:_(U),isA:_(I=>I instanceof te),hasExternalPointer:_(I=>I instanceof te&&!!I[l]),memberKey:re});let X=I=>Number.isFinite(I)||I instanceof(W||Number),Ee=function I(G,K,J){if(!I._){I._={getters:{},setters:{},sw:{}};let Ae=["i","c","C","p","P","s","f","d","v()"];j&&Ae.push("j"),Ae.forEach(function(Fe){I._.getters[Fe]=u(Fe),I._.setters[Fe]=f(Fe),I._.sw[Fe]=E(Fe)});let Ca=/^[ipPsjfdcC]$/,Ra=/^[vipPsjfdcC]\([ipPsjfdcC]*\)$/;I.sigCheck=function(Fe,Na,zt,pt){Object.prototype.hasOwnProperty.call(Fe,zt)&&o(Fe.structName,"already has a property named",zt+"."),Ca.test(pt)||Ra.test(pt)||o("Malformed signature for",O(Fe.structName,Na)+":",pt)}}let de=G.memberKey(K);I.sigCheck(G.prototype,K,de,J.signature),J.key=de,J.name=K;let he=N(J.signature),me=O(G.prototype.structName,de),qe=G.prototype.debugFlags.__flags,Ue=Object.create(null);Ue.configurable=!1,Ue.enumerable=!1,Ue.get=function(){qe.getter&&P("debug.getter:",I._.getters[he],"for",y(he),me,"@",this.pointer,"+",J.offset,"sz",J.sizeof);let Ae=new DataView(s().buffer,this.pointer+J.offset,J.sizeof)[I._.getters[he]](0,w);return qe.getter&&P("debug.getter:",me,"result =",Ae),Ae},J.readOnly?Ue.set=L(G.prototype.structName,de):Ue.set=function(Ae){if(qe.setter&&P("debug.setter:",I._.setters[he],"for",y(he),me,"@",this.pointer,"+",J.offset,"sz",J.sizeof,Ae),this.pointer||o("Cannot set struct property on disposed instance."),Ae===null)Ae=0;else for(;!X(Ae);){if(R(J.signature)&&Ae instanceof te){Ae=Ae.pointer||0,qe.setter&&P("debug.setter:",me,"resolved to",Ae);break}o("Invalid value for pointer-type",me+".")}new DataView(s().buffer,this.pointer+J.offset,J.sizeof)[I._.setters[he]](0,I._.sw[he](Ae),w)},Object.defineProperty(G.prototype,de,Ue)},we=function I(G,K){arguments.length===1?(K=G,G=K.name):K.name||(K.name=G),G||o("Struct name is required.");let J=!1;Object.keys(K.members).forEach(me=>{let qe=K.members[me];qe.sizeof?qe.sizeof===1?qe.signature==="c"||qe.signature==="C"||o("Unexpected sizeof==1 member",O(K.name,me),"with signature",qe.signature):(qe.sizeof%4!==0&&(console.warn("Invalid struct member description =",qe,"from",K),o(G,"member",me,"sizeof is not aligned. sizeof="+qe.sizeof)),qe.offset%4!==0&&(console.warn("Invalid struct member description =",qe,"from",K),o(G,"member",me,"offset is not aligned. offset="+qe.offset))):o(G,"member",me,"is missing sizeof."),(!J||J.offset<qe.offset)&&(J=qe)}),J?K.sizeof<J.offset+J.sizeof&&o("Invalid struct config:",G,"max member offset ("+J.offset+") ","extends past end of struct (sizeof="+K.sizeof+")."):o("No member property descriptions found.");let de=_(r.__makeDebugFlags(I.debugFlags)),he=function me(qe){this instanceof me?arguments.length?((qe!==(qe|0)||qe<=0)&&o("Invalid pointer value for",G,"constructor."),g(me,this,qe)):g(me,this):o("The",G,"constructor may only be called via 'new'.")};return Object.defineProperties(he,{debugFlags:de,isA:_(me=>me instanceof he),memberKey:re,memberKeys:_e,methodInfoForKey:_(function(me){}),structInfo:_(K),structName:_(G)}),he.prototype=new te(G,K,_),Object.defineProperties(he.prototype,{debugFlags:de,constructor:_(he)}),Object.keys(K.members).forEach(me=>Ee(he,me,K.members[me])),he};return we.StructType=te,we.config=i,we.allocCString=U,we.debugFlags||(we.debugFlags=r.__makeDebugFlags(r.debugFlags)),we},globalThis.sqlite3ApiBootstrap.initializers.push(function(e){"use strict";let i=(...w)=>{throw new Error(w.join(" "))},o=e.SQLite3Error.toss,r=e.capi,s=e.wasm,p=e.util;if(globalThis.WhWasmUtilInstaller(s),delete globalThis.WhWasmUtilInstaller,s.bindingSignatures=[["sqlite3_aggregate_context","void*","sqlite3_context*","int"],["sqlite3_bind_double","int","sqlite3_stmt*","int","f64"],["sqlite3_bind_int","int","sqlite3_stmt*","int","int"],["sqlite3_bind_null",void 0,"sqlite3_stmt*","int"],["sqlite3_bind_parameter_count","int","sqlite3_stmt*"],["sqlite3_bind_parameter_index","int","sqlite3_stmt*","string"],["sqlite3_bind_pointer","int","sqlite3_stmt*","int","*","string:static","*"],["sqlite3_busy_handler","int",["sqlite3*",new s.xWrap.FuncPtrAdapter({signature:"i(pi)",contextKey:(w,q)=>w[0]}),"*"]],["sqlite3_busy_timeout","int","sqlite3*","int"],["sqlite3_changes","int","sqlite3*"],["sqlite3_clear_bindings","int","sqlite3_stmt*"],["sqlite3_collation_needed","int","sqlite3*","*","*"],["sqlite3_column_blob","*","sqlite3_stmt*","int"],["sqlite3_column_bytes","int","sqlite3_stmt*","int"],["sqlite3_column_count","int","sqlite3_stmt*"],["sqlite3_column_double","f64","sqlite3_stmt*","int"],["sqlite3_column_int","int","sqlite3_stmt*","int"],["sqlite3_column_name","string","sqlite3_stmt*","int"],["sqlite3_column_text","string","sqlite3_stmt*","int"],["sqlite3_column_type","int","sqlite3_stmt*","int"],["sqlite3_column_value","sqlite3_value*","sqlite3_stmt*","int"],["sqlite3_commit_hook","void*",["sqlite3*",new s.xWrap.FuncPtrAdapter({name:"sqlite3_commit_hook",signature:"i(p)",contextKey:w=>w[0]}),"*"]],["sqlite3_compileoption_get","string","int"],["sqlite3_compileoption_used","int","string"],["sqlite3_complete","int","string:flexible"],["sqlite3_context_db_handle","sqlite3*","sqlite3_context*"],["sqlite3_data_count","int","sqlite3_stmt*"],["sqlite3_db_filename","string","sqlite3*","string"],["sqlite3_db_handle","sqlite3*","sqlite3_stmt*"],["sqlite3_db_name","string","sqlite3*","int"],["sqlite3_db_status","int","sqlite3*","int","*","*","int"],["sqlite3_errcode","int","sqlite3*"],["sqlite3_errmsg","string","sqlite3*"],["sqlite3_error_offset","int","sqlite3*"],["sqlite3_errstr","string","int"],["sqlite3_exec","int",["sqlite3*","string:flexible",new s.xWrap.FuncPtrAdapter({signature:"i(pipp)",bindScope:"transient",callProxy:w=>{let q;return(k,R,N,y)=>{try{let z=s.cArgvToJs(R,N);return q||(q=s.cArgvToJs(R,y)),w(z,q)|0}catch(z){return z.resultCode||r.SQLITE_ERROR}}}}),"*","**"]],["sqlite3_expanded_sql","string","sqlite3_stmt*"],["sqlite3_extended_errcode","int","sqlite3*"],["sqlite3_extended_result_codes","int","sqlite3*","int"],["sqlite3_file_control","int","sqlite3*","string","int","*"],["sqlite3_finalize","int","sqlite3_stmt*"],["sqlite3_free",void 0,"*"],["sqlite3_get_autocommit","int","sqlite3*"],["sqlite3_get_auxdata","*","sqlite3_context*","int"],["sqlite3_initialize",void 0],["sqlite3_keyword_count","int"],["sqlite3_keyword_name","int",["int","**","*"]],["sqlite3_keyword_check","int",["string","int"]],["sqlite3_libversion","string"],["sqlite3_libversion_number","int"],["sqlite3_limit","int",["sqlite3*","int","int"]],["sqlite3_malloc","*","int"],["sqlite3_open","int","string","*"],["sqlite3_open_v2","int","string","*","int","string"],["sqlite3_progress_handler",void 0,["sqlite3*","int",new s.xWrap.FuncPtrAdapter({name:"xProgressHandler",signature:"i(p)",bindScope:"context",contextKey:(w,q)=>w[0]}),"*"]],["sqlite3_realloc","*","*","int"],["sqlite3_reset","int","sqlite3_stmt*"],["sqlite3_result_blob",void 0,"sqlite3_context*","*","int","*"],["sqlite3_result_double",void 0,"sqlite3_context*","f64"],["sqlite3_result_error",void 0,"sqlite3_context*","string","int"],["sqlite3_result_error_code",void 0,"sqlite3_context*","int"],["sqlite3_result_error_nomem",void 0,"sqlite3_context*"],["sqlite3_result_error_toobig",void 0,"sqlite3_context*"],["sqlite3_result_int",void 0,"sqlite3_context*","int"],["sqlite3_result_null",void 0,"sqlite3_context*"],["sqlite3_result_pointer",void 0,"sqlite3_context*","*","string:static","*"],["sqlite3_result_subtype",void 0,"sqlite3_value*","int"],["sqlite3_result_text",void 0,"sqlite3_context*","string","int","*"],["sqlite3_result_zeroblob",void 0,"sqlite3_context*","int"],["sqlite3_rollback_hook","void*",["sqlite3*",new s.xWrap.FuncPtrAdapter({name:"sqlite3_rollback_hook",signature:"v(p)",contextKey:w=>w[0]}),"*"]],["sqlite3_set_authorizer","int",["sqlite3*",new s.xWrap.FuncPtrAdapter({name:"sqlite3_set_authorizer::xAuth",signature:"i(pissss)",contextKey:(w,q)=>w[0],callProxy:w=>(q,k,R,N,y,z)=>{try{return R=R&&s.cstrToJs(R),N=N&&s.cstrToJs(N),y=y&&s.cstrToJs(y),z=z&&s.cstrToJs(z),w(q,k,R,N,y,z)||0}catch(u){return u.resultCode||r.SQLITE_ERROR}}}),"*"]],["sqlite3_set_auxdata",void 0,["sqlite3_context*","int","*",new s.xWrap.FuncPtrAdapter({name:"xDestroyAuxData",signature:"v(*)",contextKey:(w,q)=>w[0]})]],["sqlite3_shutdown",void 0],["sqlite3_sourceid","string"],["sqlite3_sql","string","sqlite3_stmt*"],["sqlite3_status","int","int","*","*","int"],["sqlite3_step","int","sqlite3_stmt*"],["sqlite3_stmt_isexplain","int",["sqlite3_stmt*"]],["sqlite3_stmt_readonly","int",["sqlite3_stmt*"]],["sqlite3_stmt_status","int","sqlite3_stmt*","int","int"],["sqlite3_strglob","int","string","string"],["sqlite3_stricmp","int","string","string"],["sqlite3_strlike","int","string","string","int"],["sqlite3_strnicmp","int","string","string","int"],["sqlite3_table_column_metadata","int","sqlite3*","string","string","string","**","**","*","*","*"],["sqlite3_total_changes","int","sqlite3*"],["sqlite3_trace_v2","int",["sqlite3*","int",new s.xWrap.FuncPtrAdapter({name:"sqlite3_trace_v2::callback",signature:"i(ippp)",contextKey:(w,q)=>w[0]}),"*"]],["sqlite3_txn_state","int",["sqlite3*","string"]],["sqlite3_uri_boolean","int","sqlite3_filename","string","int"],["sqlite3_uri_key","string","sqlite3_filename","int"],["sqlite3_uri_parameter","string","sqlite3_filename","string"],["sqlite3_user_data","void*","sqlite3_context*"],["sqlite3_value_blob","*","sqlite3_value*"],["sqlite3_value_bytes","int","sqlite3_value*"],["sqlite3_value_double","f64","sqlite3_value*"],["sqlite3_value_dup","sqlite3_value*","sqlite3_value*"],["sqlite3_value_free",void 0,"sqlite3_value*"],["sqlite3_value_frombind","int","sqlite3_value*"],["sqlite3_value_int","int","sqlite3_value*"],["sqlite3_value_nochange","int","sqlite3_value*"],["sqlite3_value_numeric_type","int","sqlite3_value*"],["sqlite3_value_pointer","*","sqlite3_value*","string:static"],["sqlite3_value_subtype","int","sqlite3_value*"],["sqlite3_value_text","string","sqlite3_value*"],["sqlite3_value_type","int","sqlite3_value*"],["sqlite3_vfs_find","*","string"],["sqlite3_vfs_register","int","sqlite3_vfs*","int"],["sqlite3_vfs_unregister","int","sqlite3_vfs*"]],s.bindingSignatures.int64=[["sqlite3_bind_int64","int",["sqlite3_stmt*","int","i64"]],["sqlite3_changes64","i64",["sqlite3*"]],["sqlite3_column_int64","i64",["sqlite3_stmt*","int"]],["sqlite3_create_module","int",["sqlite3*","string","sqlite3_module*","*"]],["sqlite3_create_module_v2","int",["sqlite3*","string","sqlite3_module*","*","*"]],["sqlite3_declare_vtab","int",["sqlite3*","string:flexible"]],["sqlite3_deserialize","int","sqlite3*","string","*","i64","i64","int"],["sqlite3_drop_modules","int",["sqlite3*","**"]],["sqlite3_last_insert_rowid","i64",["sqlite3*"]],["sqlite3_malloc64","*","i64"],["sqlite3_msize","i64","*"],["sqlite3_overload_function","int",["sqlite3*","string","int"]],["sqlite3_preupdate_blobwrite","int","sqlite3*"],["sqlite3_preupdate_count","int","sqlite3*"],["sqlite3_preupdate_depth","int","sqlite3*"],["sqlite3_preupdate_hook","*",["sqlite3*",new s.xWrap.FuncPtrAdapter({name:"sqlite3_preupdate_hook",signature:"v(ppippjj)",contextKey:w=>w[0],callProxy:w=>(q,k,R,N,y,z,u)=>{w(q,k,R,s.cstrToJs(N),s.cstrToJs(y),z,u)}}),"*"]],["sqlite3_preupdate_new","int",["sqlite3*","int","**"]],["sqlite3_preupdate_old","int",["sqlite3*","int","**"]],["sqlite3_realloc64","*","*","i64"],["sqlite3_result_int64",void 0,"*","i64"],["sqlite3_result_zeroblob64","int","*","i64"],["sqlite3_serialize","*","sqlite3*","string","*","int"],["sqlite3_set_last_insert_rowid",void 0,["sqlite3*","i64"]],["sqlite3_status64","int","int","*","*","int"],["sqlite3_total_changes64","i64",["sqlite3*"]],["sqlite3_update_hook","*",["sqlite3*",new s.xWrap.FuncPtrAdapter({name:"sqlite3_update_hook",signature:"v(iippj)",contextKey:w=>w[0],callProxy:w=>(q,k,R,N,y)=>{w(q,k,s.cstrToJs(R),s.cstrToJs(N),y)}}),"*"]],["sqlite3_uri_int64","i64",["sqlite3_filename","string","i64"]],["sqlite3_value_int64","i64","sqlite3_value*"],["sqlite3_vtab_collation","string","sqlite3_index_info*","int"],["sqlite3_vtab_distinct","int","sqlite3_index_info*"],["sqlite3_vtab_in","int","sqlite3_index_info*","int","int"],["sqlite3_vtab_in_first","int","sqlite3_value*","**"],["sqlite3_vtab_in_next","int","sqlite3_value*","**"],["sqlite3_vtab_nochange","int","sqlite3_context*"],["sqlite3_vtab_on_conflict","int","sqlite3*"],["sqlite3_vtab_rhs_value","int","sqlite3_index_info*","int","**"]],s.bigIntEnabled&&s.exports.sqlite3changegroup_add){let w={signature:"i(ps)",callProxy:q=>(k,R)=>{try{return q(k,s.cstrToJs(R))|0}catch(N){return N.resultCode||r.SQLITE_ERROR}}};s.bindingSignatures.int64.push(["sqlite3changegroup_add","int",["sqlite3_changegroup*","int","void*"]],["sqlite3changegroup_add_strm","int",["sqlite3_changegroup*",new s.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changegroup_delete",void 0,["sqlite3_changegroup*"]],["sqlite3changegroup_new","int",["**"]],["sqlite3changegroup_output","int",["sqlite3_changegroup*","int*","**"]],["sqlite3changegroup_output_strm","int",["sqlite3_changegroup*",new s.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply","int",["sqlite3*","int","void*",new s.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...w}),new s.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_strm","int",["sqlite3*",new s.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new s.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...w}),new s.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_v2","int",["sqlite3*","int","void*",new s.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...w}),new s.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_apply_v2_strm","int",["sqlite3*",new s.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new s.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...w}),new s.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_concat","int",["int","void*","int","void*","int*","**"]],["sqlite3changeset_concat_strm","int",[new s.xWrap.FuncPtrAdapter({name:"xInputA",signature:"i(ppp)",bindScope:"transient"}),"void*",new s.xWrap.FuncPtrAdapter({name:"xInputB",signature:"i(ppp)",bindScope:"transient"}),"void*",new s.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_conflict","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_finalize","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_fk_conflicts","int",["sqlite3_changeset_iter*","int*"]],["sqlite3changeset_invert","int",["int","void*","int*","**"]],["sqlite3changeset_invert_strm","int",[new s.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new s.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_new","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_next","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_old","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_op","int",["sqlite3_changeset_iter*","**","int*","int*","int*"]],["sqlite3changeset_pk","int",["sqlite3_changeset_iter*","**","int*"]],["sqlite3changeset_start","int",["**","int","*"]],["sqlite3changeset_start_strm","int",["**",new s.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changeset_start_v2","int",["**","int","*","int"]],["sqlite3changeset_start_v2_strm","int",["**",new s.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*","int"]],["sqlite3session_attach","int",["sqlite3_session*","string"]],["sqlite3session_changeset","int",["sqlite3_session*","int*","**"]],["sqlite3session_changeset_size","i64",["sqlite3_session*"]],["sqlite3session_changeset_strm","int",["sqlite3_session*",new s.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_config","int",["int","void*"]],["sqlite3session_create","int",["sqlite3*","string","**"]],["sqlite3session_diff","int",["sqlite3_session*","string","string","**"]],["sqlite3session_enable","int",["sqlite3_session*","int"]],["sqlite3session_indirect","int",["sqlite3_session*","int"]],["sqlite3session_isempty","int",["sqlite3_session*"]],["sqlite3session_memory_used","i64",["sqlite3_session*"]],["sqlite3session_object_config","int",["sqlite3_session*","int","void*"]],["sqlite3session_patchset","int",["sqlite3_session*","*","**"]],["sqlite3session_patchset_strm","int",["sqlite3_session*",new s.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_table_filter",void 0,["sqlite3_session*",new s.xWrap.FuncPtrAdapter({name:"xFilter",...w,contextKey:(q,k)=>q[0]}),"*"]])}s.bindingSignatures.wasmInternal=[["sqlite3__wasm_db_reset","int","sqlite3*"],["sqlite3__wasm_db_vfs","sqlite3_vfs*","sqlite3*","string"],["sqlite3__wasm_vfs_create_file","int","sqlite3_vfs*","string","*","int"],["sqlite3__wasm_posix_create_file","int","string","*","int"],["sqlite3__wasm_vfs_unlink","int","sqlite3_vfs*","string"],["sqlite3__wasm_qfmt_token","string:dealloc","string","int"]],e.StructBinder=globalThis.Jaccwabyt({heap:s.heap8u,alloc:s.alloc,dealloc:s.dealloc,bigIntEnabled:s.bigIntEnabled,memberPrefix:"$"}),delete globalThis.Jaccwabyt;{let w=s.xWrap.argAdapter("string");s.xWrap.argAdapter("string:flexible",y=>w(p.flexibleString(y))),s.xWrap.argAdapter("string:static",function(y){return s.isPtr(y)?y:(y=""+y,this[y]||(this[y]=s.allocCString(y)))}.bind(Object.create(null)));let q=s.xWrap.argAdapter("*"),k=function(){};s.xWrap.argAdapter("sqlite3_filename",q)("sqlite3_context*",q)("sqlite3_value*",q)("void*",q)("sqlite3_changegroup*",q)("sqlite3_changeset_iter*",q)("sqlite3_session*",q)("sqlite3_stmt*",y=>q(y instanceof(e?.oo1?.Stmt||k)?y.pointer:y))("sqlite3*",y=>q(y instanceof(e?.oo1?.DB||k)?y.pointer:y))("sqlite3_index_info*",y=>q(y instanceof(r.sqlite3_index_info||k)?y.pointer:y))("sqlite3_module*",y=>q(y instanceof(r.sqlite3_module||k)?y.pointer:y))("sqlite3_vfs*",y=>typeof y=="string"?r.sqlite3_vfs_find(y)||e.SQLite3Error.toss(r.SQLITE_NOTFOUND,"Unknown sqlite3_vfs name:",y):q(y instanceof(r.sqlite3_vfs||k)?y.pointer:y));let R=s.xWrap.resultAdapter("*");s.xWrap.resultAdapter("sqlite3*",R)("sqlite3_context*",R)("sqlite3_stmt*",R)("sqlite3_value*",R)("sqlite3_vfs*",R)("void*",R),s.exports.sqlite3_step.length===0&&(s.xWrap.doArgcCheck=!1,e.config.warn("Disabling sqlite3.wasm.xWrap.doArgcCheck due to environmental quirks."));for(let y of s.bindingSignatures)r[y[0]]=s.xWrap.apply(null,y);for(let y of s.bindingSignatures.wasmInternal)p[y[0]]=s.xWrap.apply(null,y);let N=function(y){return()=>i(y+"() is unavailable due to lack","of BigInt support in this build.")};for(let y of s.bindingSignatures.int64)r[y[0]]=s.bigIntEnabled?s.xWrap.apply(null,y):N(y[0]);if(delete s.bindingSignatures,s.exports.sqlite3__wasm_db_error){let y=s.xWrap("sqlite3__wasm_db_error","int","sqlite3*","int","string");p.sqlite3__wasm_db_error=function(z,u,f){return u instanceof e.WasmAllocError?(u=r.SQLITE_NOMEM,f=0):u instanceof Error&&(f=f||""+u,u=u.resultCode||r.SQLITE_ERROR),z?y(z,u,f):u}}else p.sqlite3__wasm_db_error=function(y,z,u){return console.warn("sqlite3__wasm_db_error() is not exported.",arguments),z}}{let w=s.xCall("sqlite3__wasm_enum_json");w||i("Maintenance required: increase sqlite3__wasm_enum_json()'s","static buffer size!"),s.ctype=JSON.parse(s.cstrToJs(w));let q=["access","authorizer","blobFinalizers","changeset","config","dataTypes","dbConfig","dbStatus","encodings","fcntl","flock","ioCap","limits","openFlags","prepareFlags","resultCodes","sqlite3Status","stmtStatus","syncFlags","trace","txnState","udfFlags","version"];s.bigIntEnabled&&q.push("serialize","session","vtab");for(let N of q)for(let y of Object.entries(s.ctype[N]))r[y[0]]=y[1];s.functionEntry(r.SQLITE_WASM_DEALLOC)||i("Internal error: cannot resolve exported function","entry SQLITE_WASM_DEALLOC (=="+r.SQLITE_WASM_DEALLOC+").");let k=Object.create(null);for(let N of["resultCodes"])for(let y of Object.entries(s.ctype[N]))k[y[1]]=y[0];r.sqlite3_js_rc_str=N=>k[N];let R=Object.assign(Object.create(null),{WasmTestStruct:!0,sqlite3_kvvfs_methods:!p.isUIThread(),sqlite3_index_info:!s.bigIntEnabled,sqlite3_index_constraint:!s.bigIntEnabled,sqlite3_index_orderby:!s.bigIntEnabled,sqlite3_index_constraint_usage:!s.bigIntEnabled});for(let N of s.ctype.structs)R[N.name]||(r[N.name]=e.StructBinder(N));if(r.sqlite3_index_info){for(let N of["sqlite3_index_constraint","sqlite3_index_orderby","sqlite3_index_constraint_usage"])r.sqlite3_index_info[N]=r[N],delete r[N];r.sqlite3_vtab_config=s.xWrap("sqlite3__wasm_vtab_config","int",["sqlite3*","int","int"])}}let m=(w,q,k)=>p.sqlite3__wasm_db_error(w,r.SQLITE_MISUSE,q+"() requires "+k+" argument"+(k===1?"":"s")+"."),P=w=>p.sqlite3__wasm_db_error(w,r.SQLITE_FORMAT,"SQLITE_UTF8 is the only supported encoding."),C=w=>s.xWrap.argAdapter("sqlite3*")(w),B=w=>s.isPtr(w)?s.cstrToJs(w):w,j=function(w,q){w=C(w);let k=this.dbMap.get(w);if(q)!k&&q>0&&this.dbMap.set(w,k=Object.create(null));else return this.dbMap.delete(w),k;return k}.bind(Object.assign(Object.create(null),{dbMap:new Map}));j.addCollation=function(w,q){let k=j(w,1);k.collation||(k.collation=new Set),k.collation.add(B(q).toLowerCase())},j._addUDF=function(w,q,k,R){q=B(q).toLowerCase();let N=R.get(q);N||R.set(q,N=new Set),N.add(k<0?-1:k)},j.addFunction=function(w,q,k){let R=j(w,1);R.udf||(R.udf=new Map),this._addUDF(w,q,k,R.udf)},j.addWindowFunc=function(w,q,k){let R=j(w,1);R.wudf||(R.wudf=new Map),this._addUDF(w,q,k,R.wudf)},j.cleanup=function(w){w=C(w);let q=[w];for(let N of["sqlite3_busy_handler","sqlite3_commit_hook","sqlite3_preupdate_hook","sqlite3_progress_handler","sqlite3_rollback_hook","sqlite3_set_authorizer","sqlite3_trace_v2","sqlite3_update_hook"]){let y=s.exports[N];q.length=y.length;try{r[N](...q)}catch(z){console.warn("close-time call of",N+"(",q,") threw:",z)}}let k=j(w,0);if(!k)return;if(k.collation){for(let N of k.collation)try{r.sqlite3_create_collation_v2(w,N,r.SQLITE_UTF8,0,0,0)}catch{}delete k.collation}let R;for(R=0;R<2;++R){let N=R?k.wudf:k.udf;if(!N)continue;let y=R?r.sqlite3_create_window_function:r.sqlite3_create_function_v2;for(let z of N){let u=z[0],f=z[1],E=[w,u,0,r.SQLITE_UTF8,0,0,0,0,0];R&&E.push(0);for(let O of f)try{E[2]=O,y.apply(null,E)}catch{}f.clear()}N.clear()}delete k.udf,delete k.wudf};{let w=s.xWrap("sqlite3_close_v2","int","sqlite3*");r.sqlite3_close_v2=function(q){if(arguments.length!==1)return m(q,"sqlite3_close_v2",1);if(q)try{j.cleanup(q)}catch{}return w(q)}}if(r.sqlite3session_table_filter){let w=s.xWrap("sqlite3session_delete",void 0,["sqlite3_session*"]);r.sqlite3session_delete=function(q){if(arguments.length!==1)return m(pDb,"sqlite3session_delete",1);q&&r.sqlite3session_table_filter(q,0,0),w(q)}}{let w=(k,R)=>"argv["+R+"]:"+k[0]+":"+s.cstrToJs(k[1]).toLowerCase(),q=s.xWrap("sqlite3_create_collation_v2","int",["sqlite3*","string","int","*",new s.xWrap.FuncPtrAdapter({name:"xCompare",signature:"i(pipip)",contextKey:w}),new s.xWrap.FuncPtrAdapter({name:"xDestroy",signature:"v(p)",contextKey:w})]);r.sqlite3_create_collation_v2=function(k,R,N,y,z,u){if(arguments.length!==6)return m(k,"sqlite3_create_collation_v2",6);if(!(N&15))N|=r.SQLITE_UTF8;else if(r.SQLITE_UTF8!==(N&15))return P(k);try{let f=q(k,R,N,y,z,u);return f===0&&z instanceof Function&&j.addCollation(k,R),f}catch(f){return p.sqlite3__wasm_db_error(k,f)}},r.sqlite3_create_collation=(k,R,N,y,z)=>arguments.length===5?r.sqlite3_create_collation_v2(k,R,N,y,z,0):m(k,"sqlite3_create_collation",5)}{let w=function(N,y){return N[0]+":"+(N[2]<0?-1:N[2])+":"+y+":"+s.cstrToJs(N[1]).toLowerCase()},q=Object.assign(Object.create(null),{xInverseAndStep:{signature:"v(pip)",contextKey:w,callProxy:N=>(y,z,u)=>{try{N(y,...r.sqlite3_values_to_js(z,u))}catch(f){r.sqlite3_result_error_js(y,f)}}},xFinalAndValue:{signature:"v(p)",contextKey:w,callProxy:N=>y=>{try{r.sqlite3_result_js(y,N(y))}catch(z){r.sqlite3_result_error_js(y,z)}}},xFunc:{signature:"v(pip)",contextKey:w,callProxy:N=>(y,z,u)=>{try{r.sqlite3_result_js(y,N(y,...r.sqlite3_values_to_js(z,u)))}catch(f){r.sqlite3_result_error_js(y,f)}}},xDestroy:{signature:"v(p)",contextKey:w,callProxy:N=>y=>{try{N(y)}catch(z){console.error("UDF xDestroy method threw:",z)}}}}),k=s.xWrap("sqlite3_create_function_v2","int",["sqlite3*","string","int","int","*",new s.xWrap.FuncPtrAdapter({name:"xFunc",...q.xFunc}),new s.xWrap.FuncPtrAdapter({name:"xStep",...q.xInverseAndStep}),new s.xWrap.FuncPtrAdapter({name:"xFinal",...q.xFinalAndValue}),new s.xWrap.FuncPtrAdapter({name:"xDestroy",...q.xDestroy})]),R=s.xWrap("sqlite3_create_window_function","int",["sqlite3*","string","int","int","*",new s.xWrap.FuncPtrAdapter({name:"xStep",...q.xInverseAndStep}),new s.xWrap.FuncPtrAdapter({name:"xFinal",...q.xFinalAndValue}),new s.xWrap.FuncPtrAdapter({name:"xValue",...q.xFinalAndValue}),new s.xWrap.FuncPtrAdapter({name:"xInverse",...q.xInverseAndStep}),new s.xWrap.FuncPtrAdapter({name:"xDestroy",...q.xDestroy})]);r.sqlite3_create_function_v2=function N(y,z,u,f,E,O,L,d,l){if(N.length!==arguments.length)return m(y,"sqlite3_create_function_v2",N.length);if(!(f&15))f|=r.SQLITE_UTF8;else if(r.SQLITE_UTF8!==(f&15))return P(y);try{let c=k(y,z,u,f,E,O,L,d,l);return c===0&&(O instanceof Function||L instanceof Function||d instanceof Function||l instanceof Function)&&j.addFunction(y,z,u),c}catch(c){return console.error("sqlite3_create_function_v2() setup threw:",c),p.sqlite3__wasm_db_error(y,c,"Creation of UDF threw: "+c)}},r.sqlite3_create_function=function N(y,z,u,f,E,O,L,d){return N.length===arguments.length?r.sqlite3_create_function_v2(y,z,u,f,E,O,L,d,0):m(y,"sqlite3_create_function",N.length)},r.sqlite3_create_window_function=function N(y,z,u,f,E,O,L,d,l,c){if(N.length!==arguments.length)return m(y,"sqlite3_create_window_function",N.length);if(!(f&15))f|=r.SQLITE_UTF8;else if(r.SQLITE_UTF8!==(f&15))return P(y);try{let _=R(y,z,u,f,E,O,L,d,l,c);return _===0&&(O instanceof Function||L instanceof Function||d instanceof Function||l instanceof Function||c instanceof Function)&&j.addWindowFunc(y,z,u),_}catch(_){return console.error("sqlite3_create_window_function() setup threw:",_),p.sqlite3__wasm_db_error(y,_,"Creation of UDF threw: "+_)}},r.sqlite3_create_function_v2.udfSetResult=r.sqlite3_create_function.udfSetResult=r.sqlite3_create_window_function.udfSetResult=r.sqlite3_result_js,r.sqlite3_create_function_v2.udfConvertArgs=r.sqlite3_create_function.udfConvertArgs=r.sqlite3_create_window_function.udfConvertArgs=r.sqlite3_values_to_js,r.sqlite3_create_function_v2.udfSetError=r.sqlite3_create_function.udfSetError=r.sqlite3_create_window_function.udfSetError=r.sqlite3_result_error_js}{let w=(k,R)=>(typeof k=="string"?R=-1:p.isSQLableTypedArray(k)?(R=k.byteLength,k=p.typedArrayToString(k instanceof ArrayBuffer?new Uint8Array(k):k)):Array.isArray(k)&&(k=k.join(""),R=-1),[k,R]),q={basic:s.xWrap("sqlite3_prepare_v3","int",["sqlite3*","string","int","int","**","**"]),full:s.xWrap("sqlite3_prepare_v3","int",["sqlite3*","*","int","int","**","**"])};r.sqlite3_prepare_v3=function k(R,N,y,z,u,f){if(k.length!==arguments.length)return m(R,"sqlite3_prepare_v3",k.length);let[E,O]=w(N,y);switch(typeof E){case"string":return q.basic(R,E,O,z,u,null);case"number":return q.full(R,E,O,z,u,f);default:return p.sqlite3__wasm_db_error(R,r.SQLITE_MISUSE,"Invalid SQL argument type for sqlite3_prepare_v2/v3().")}},r.sqlite3_prepare_v2=function k(R,N,y,z,u){return k.length===arguments.length?r.sqlite3_prepare_v3(R,N,y,0,z,u):m(R,"sqlite3_prepare_v2",k.length)}}{let w=s.xWrap("sqlite3_bind_text","int",["sqlite3_stmt*","int","string","int","*"]),q=s.xWrap("sqlite3_bind_blob","int",["sqlite3_stmt*","int","*","int","*"]);r.sqlite3_bind_text=function k(R,N,y,z,u){if(k.length!==arguments.length)return m(r.sqlite3_db_handle(R),"sqlite3_bind_text",k.length);if(s.isPtr(y)||y===null)return w(R,N,y,z,u);y instanceof ArrayBuffer?y=new Uint8Array(y):Array.isArray(pMem)&&(y=pMem.join(""));let f,E;try{if(p.isSQLableTypedArray(y))f=s.allocFromTypedArray(y),E=y.byteLength;else if(typeof y=="string")[f,E]=s.allocCString(y);else return p.sqlite3__wasm_db_error(r.sqlite3_db_handle(R),r.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_text().");return w(R,N,f,E,r.SQLITE_WASM_DEALLOC)}catch(O){return s.dealloc(f),p.sqlite3__wasm_db_error(r.sqlite3_db_handle(R),O)}},r.sqlite3_bind_blob=function k(R,N,y,z,u){if(k.length!==arguments.length)return m(r.sqlite3_db_handle(R),"sqlite3_bind_blob",k.length);if(s.isPtr(y)||y===null)return q(R,N,y,z,u);y instanceof ArrayBuffer?y=new Uint8Array(y):Array.isArray(y)&&(y=y.join(""));let f,E;try{if(p.isBindableTypedArray(y))f=s.allocFromTypedArray(y),E=z>=0?z:y.byteLength;else if(typeof y=="string")[f,E]=s.allocCString(y);else return p.sqlite3__wasm_db_error(r.sqlite3_db_handle(R),r.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_blob().");return q(R,N,f,E,r.SQLITE_WASM_DEALLOC)}catch(O){return s.dealloc(f),p.sqlite3__wasm_db_error(r.sqlite3_db_handle(R),O)}}}r.sqlite3_config=function(w,...q){if(arguments.length<2)return r.SQLITE_MISUSE;switch(w){case r.SQLITE_CONFIG_COVERING_INDEX_SCAN:case r.SQLITE_CONFIG_MEMSTATUS:case r.SQLITE_CONFIG_SMALL_MALLOC:case r.SQLITE_CONFIG_SORTERREF_SIZE:case r.SQLITE_CONFIG_STMTJRNL_SPILL:case r.SQLITE_CONFIG_URI:return s.exports.sqlite3__wasm_config_i(w,q[0]);case r.SQLITE_CONFIG_LOOKASIDE:return s.exports.sqlite3__wasm_config_ii(w,q[0],q[1]);case r.SQLITE_CONFIG_MEMDB_MAXSIZE:return s.exports.sqlite3__wasm_config_j(w,q[0]);case r.SQLITE_CONFIG_GETMALLOC:case r.SQLITE_CONFIG_GETMUTEX:case r.SQLITE_CONFIG_GETPCACHE2:case r.SQLITE_CONFIG_GETPCACHE:case r.SQLITE_CONFIG_HEAP:case r.SQLITE_CONFIG_LOG:case r.SQLITE_CONFIG_MALLOC:case r.SQLITE_CONFIG_MMAP_SIZE:case r.SQLITE_CONFIG_MULTITHREAD:case r.SQLITE_CONFIG_MUTEX:case r.SQLITE_CONFIG_PAGECACHE:case r.SQLITE_CONFIG_PCACHE2:case r.SQLITE_CONFIG_PCACHE:case r.SQLITE_CONFIG_PCACHE_HDRSZ:case r.SQLITE_CONFIG_PMASZ:case r.SQLITE_CONFIG_SERIALIZED:case r.SQLITE_CONFIG_SINGLETHREAD:case r.SQLITE_CONFIG_SQLLOG:case r.SQLITE_CONFIG_WIN32_HEAPSIZE:default:return r.SQLITE_NOTFOUND}};{let w=new Set;r.sqlite3_auto_extension=function(q){if(q instanceof Function)q=s.installFunction("i(ppp)",q);else if(arguments.length!==1||!s.isPtr(q))return r.SQLITE_MISUSE;let k=s.exports.sqlite3_auto_extension(q);return q!==arguments[0]&&(k===0?w.add(q):s.uninstallFunction(q)),k},r.sqlite3_cancel_auto_extension=function(q){return!q||arguments.length!==1||!s.isPtr(q)?0:s.exports.sqlite3_cancel_auto_extension(q)},r.sqlite3_reset_auto_extension=function(){s.exports.sqlite3_reset_auto_extension();for(let q of w)s.uninstallFunction(q);w.clear()}}let W=r.sqlite3_vfs_find("kvvfs");if(W)if(p.isUIThread()){let w=new r.sqlite3_kvvfs_methods(s.exports.sqlite3__wasm_kvvfs_methods());delete r.sqlite3_kvvfs_methods;let q=s.exports.sqlite3__wasm_kvvfsMakeKeyOnPstack,k=s.pstack,R=y=>s.peek(y)===115?sessionStorage:localStorage,N={xRead:(y,z,u,f)=>{let E=k.pointer,O=s.scopedAllocPush();try{let L=q(y,z);if(!L)return-3;let d=s.cstrToJs(L),l=R(y).getItem(d);if(!l)return-1;let c=l.length;if(f<=0)return c;if(f===1)return s.poke(u,0),c;let _=s.scopedAllocCString(l);return f>c+1&&(f=c+1),s.heap8u().copyWithin(u,_,_+f-1),s.poke(u+f-1,0),f-1}catch(L){return console.error("kvstorageRead()",L),-2}finally{k.restore(E),s.scopedAllocPop(O)}},xWrite:(y,z,u)=>{let f=k.pointer;try{let E=q(y,z);if(!E)return 1;let O=s.cstrToJs(E);return R(y).setItem(O,s.cstrToJs(u)),0}catch(E){return console.error("kvstorageWrite()",E),r.SQLITE_IOERR}finally{k.restore(f)}},xDelete:(y,z)=>{let u=k.pointer;try{let f=q(y,z);return f?(R(y).removeItem(s.cstrToJs(f)),0):1}catch(f){return console.error("kvstorageDelete()",f),r.SQLITE_IOERR}finally{k.restore(u)}}};for(let y of Object.keys(N))w[w.memberKey(y)]=s.installFunction(w.memberSignature(y),N[y])}else r.sqlite3_vfs_unregister(W);s.xWrap.FuncPtrAdapter.warnOnUse=!0;let S=e.StructBinder,A=function w(q,k,R,N=w.installMethodArgcCheck){if(q instanceof S.StructType?!(R instanceof Function)&&!s.isPtr(R)&&i("Usage errror: expecting a Function or WASM pointer to one."):i("Usage error: target object is-not-a StructType."),arguments.length===1)return(f,E)=>w(q,f,E,N);w.argcProxy||(w.argcProxy=function(f,E,O,L){return function(...d){return O.length!==arguments.length&&i("Argument mismatch for",f.structInfo.name+"::"+E+": Native signature is:",L),O.apply(this,d)}},w.removeFuncList=function(){this.ondispose.__removeFuncList&&(this.ondispose.__removeFuncList.forEach((f,E)=>{if(typeof f=="number")try{s.uninstallFunction(f)}catch{}}),delete this.ondispose.__removeFuncList)});let y=q.memberSignature(k);y.length<2&&i("Member",k,"does not have a function pointer signature:",y);let z=q.memberKey(k),u=N&&!s.isPtr(R)?w.argcProxy(q,z,R,y):R;if(s.isPtr(u))u&&!s.functionEntry(u)&&i("Pointer",u,"is not a WASM function table entry."),q[z]=u;else{let f=s.installFunction(u,q.memberSignature(k,!0));q[z]=f,(!q.ondispose||!q.ondispose.__removeFuncList)&&(q.addOnDispose("ondispose.__removeFuncList handler",w.removeFuncList),q.ondispose.__removeFuncList=[]),q.ondispose.__removeFuncList.push(z,f)}return(f,E)=>w(q,f,E,N)};A.installMethodArgcCheck=!1;let T=function(w,q,k=A.installMethodArgcCheck){let R=new Map;for(let N of Object.keys(q)){let y=q[N],z=R.get(y);if(z){let u=w.memberKey(N);w[u]=w[w.memberKey(z)]}else A(w,N,y,k),R.set(y,N)}return w};S.StructType.prototype.installMethod=function(q,k,R=A.installMethodArgcCheck){return arguments.length<3&&q&&typeof q=="object"?T(this,...arguments):A(this,...arguments)},S.StructType.prototype.installMethods=function(w,q=A.installMethodArgcCheck){return T(this,w,q)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(e){e.version={libVersion:"3.46.1",libVersionNumber:3046001,sourceId:"2024-08-13 09:16:08 c9c2ab54ba1f5f46360f1b4f35d849cd3f080e6fc2b6c60e91b16c63f69a1e33",downloadVersion:3460100}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(e){let i=(...d)=>{throw new Error(d.join(" "))},o=(...d)=>{throw new e.SQLite3Error(...d)},r=e.capi,s=e.wasm,p=e.util,m=new WeakMap,P=new WeakMap,C=(d,l,c)=>{let _=Object.getOwnPropertyDescriptor(d,l);return _?_.value:c},B=function(d,l){return l&&(d instanceof A&&(d=d.pointer),o(l,"sqlite3 result code",l+":",d?r.sqlite3_errmsg(d):r.sqlite3_errstr(l))),arguments[0]},j=s.installFunction("i(ippp)",function(d,l,c,_){r.SQLITE_TRACE_STMT===d&&console.log("SQL TRACE #"+ ++this.counter+" via sqlite3@"+l+":",s.cstrToJs(_))}.bind({counter:0})),W=Object.create(null),S=function d(...l){if(!d._name2vfs){d._name2vfs=Object.create(null);let _e=typeof importScripts=="function"?H=>o("The VFS for",H,"is only available in the main window thread."):!1;d._name2vfs[":localStorage:"]={vfs:"kvvfs",filename:_e||(()=>"local")},d._name2vfs[":sessionStorage:"]={vfs:"kvvfs",filename:_e||(()=>"session")}}let c=d.normalizeArgs(...l),_=c.filename,g=c.vfs,M=c.flags;(typeof _!="string"&&typeof _!="number"||typeof M!="string"||g&&typeof g!="string"&&typeof g!="number")&&(e.config.error("Invalid DB ctor args",c,arguments),o("Invalid arguments for DB constructor."));let $=typeof _=="number"?s.cstrToJs(_):_,re=d._name2vfs[$];re&&(g=re.vfs,_=$=re.filename($));let Y,oe=0;M.indexOf("c")>=0&&(oe|=r.SQLITE_OPEN_CREATE|r.SQLITE_OPEN_READWRITE),M.indexOf("w")>=0&&(oe|=r.SQLITE_OPEN_READWRITE),oe===0&&(oe|=r.SQLITE_OPEN_READONLY),oe|=r.SQLITE_OPEN_EXRESCODE;let ce=s.pstack.pointer;try{let _e=s.pstack.allocPtr(),H=r.sqlite3_open_v2(_,_e,oe,g||0);Y=s.peekPtr(_e),B(Y,H),r.sqlite3_extended_result_codes(Y,1),M.indexOf("t")>=0&&r.sqlite3_trace_v2(Y,r.SQLITE_TRACE_STMT,j,Y)}catch(_e){throw Y&&r.sqlite3_close_v2(Y),_e}finally{s.pstack.restore(ce)}this.filename=$,m.set(this,Y),P.set(this,Object.create(null));try{let _e=r.sqlite3_js_db_vfs(Y)||o("Internal error: cannot get VFS for new db handle."),H=W[_e];H&&(H instanceof Function?H(this,e):B(Y,r.sqlite3_exec(Y,H,0,0,0)))}catch(_e){throw this.close(),_e}};S.setVfsPostOpenSql=function(d,l){W[d]=l},S.normalizeArgs=function(d=":memory:",l="c",c=null){let _={};return arguments.length===1&&arguments[0]&&typeof arguments[0]=="object"?(Object.assign(_,arguments[0]),_.flags===void 0&&(_.flags="c"),_.vfs===void 0&&(_.vfs=null),_.filename===void 0&&(_.filename=":memory:")):(_.filename=d,_.flags=l,_.vfs=c),_};let A=function(...d){S.apply(this,d)};A.dbCtorHelper=S;let T={null:1,number:2,string:3,boolean:4,blob:5};T.undefined==T.null,s.bigIntEnabled&&(T.bigint=T.number);let w=function(){T!==arguments[2]&&o(r.SQLITE_MISUSE,"Do not call the Stmt constructor directly. Use DB.prepare()."),this.db=arguments[0],m.set(this,arguments[1]),this.parameterCount=r.sqlite3_bind_parameter_count(this.pointer)},q=function(d){return d.pointer||o("DB has been closed."),d},k=function(d,l){return(l!==(l|0)||l<0||l>=d.columnCount)&&o("Column index",l,"is out of range."),d},R=function(d,l){let c=Object.create(null);switch(c.opt=Object.create(null),l.length){case 1:typeof l[0]=="string"||p.isSQLableTypedArray(l[0])||Array.isArray(l[0])?c.sql=l[0]:l[0]&&typeof l[0]=="object"&&(c.opt=l[0],c.sql=c.opt.sql);break;case 2:c.sql=l[0],c.opt=l[1];break;default:o("Invalid argument count for exec().")}c.sql=p.flexibleString(c.sql),typeof c.sql!="string"&&o("Missing SQL argument or unsupported SQL value type.");let _=c.opt;switch(_.returnValue){case"resultRows":_.resultRows||(_.resultRows=[]),c.returnVal=()=>_.resultRows;break;case"saveSql":_.saveSql||(_.saveSql=[]),c.returnVal=()=>_.saveSql;break;case void 0:case"this":c.returnVal=()=>d;break;default:o("Invalid returnValue value:",_.returnValue)}if(!_.callback&&!_.returnValue&&_.rowMode!==void 0&&(_.resultRows||(_.resultRows=[]),c.returnVal=()=>_.resultRows),_.callback||_.resultRows)switch(_.rowMode===void 0?"array":_.rowMode){case"object":c.cbArg=(g,M)=>{M.columnNames||(M.columnNames=g.getColumnNames([]));let $=g.get([]),re=Object.create(null);for(let Y in M.columnNames)re[M.columnNames[Y]]=$[Y];return re};break;case"array":c.cbArg=g=>g.get([]);break;case"stmt":Array.isArray(_.resultRows)&&o("exec(): invalid rowMode for a resultRows array: must","be one of 'array', 'object',","a result column number, or column name reference."),c.cbArg=g=>g;break;default:if(p.isInt32(_.rowMode)){c.cbArg=g=>g.get(_.rowMode);break}else if(typeof _.rowMode=="string"&&_.rowMode.length>1&&_.rowMode[0]==="$"){let g=_.rowMode.substr(1);c.cbArg=M=>{let $=M.get(Object.create(null))[g];return $===void 0?o(r.SQLITE_NOTFOUND,"exec(): unknown result column:",g):$};break}o("Invalid rowMode:",_.rowMode)}return c},N=(d,l,c,..._)=>{let g=d.prepare(l);try{let M=g.bind(c).step()?g.get(..._):void 0;return g.reset(),M}finally{g.finalize()}},y=(d,l,c,_)=>d.exec({sql:l,bind:c,rowMode:_,returnValue:"resultRows"});A.checkRc=(d,l)=>B(d,l),A.prototype={isOpen:function(){return!!this.pointer},affirmOpen:function(){return q(this)},close:function(){if(this.pointer){if(this.onclose&&this.onclose.before instanceof Function)try{this.onclose.before(this)}catch{}let d=this.pointer;if(Object.keys(P.get(this)).forEach((l,c)=>{if(c&&c.pointer)try{c.finalize()}catch{}}),m.delete(this),P.delete(this),r.sqlite3_close_v2(d),this.onclose&&this.onclose.after instanceof Function)try{this.onclose.after(this)}catch{}delete this.filename}},changes:function(d=!1,l=!1){let c=q(this).pointer;return d?l?r.sqlite3_total_changes64(c):r.sqlite3_total_changes(c):l?r.sqlite3_changes64(c):r.sqlite3_changes(c)},dbFilename:function(d="main"){return r.sqlite3_db_filename(q(this).pointer,d)},dbName:function(d=0){return r.sqlite3_db_name(q(this).pointer,d)},dbVfsName:function(d=0){let l,c=r.sqlite3_js_db_vfs(q(this).pointer,d);if(c){let _=new r.sqlite3_vfs(c);try{l=s.cstrToJs(_.$zName)}finally{_.dispose()}}return l},prepare:function(d){q(this);let l=s.pstack.pointer,c,_;try{c=s.pstack.alloc(8),A.checkRc(this,r.sqlite3_prepare_v2(this.pointer,d,-1,c,null)),_=s.peekPtr(c)}finally{s.pstack.restore(l)}_||o("Cannot prepare empty SQL.");let g=new w(this,_,T);return P.get(this)[_]=g,g},exec:function(){q(this);let d=R(this,arguments);if(!d.sql)return o("exec() requires an SQL string.");let l=d.opt,c=l.callback,_=Array.isArray(l.resultRows)?l.resultRows:void 0,g,M=l.bind,$=!!(d.cbArg||l.columnNames||_),re=s.scopedAllocPush(),Y=Array.isArray(l.saveSql)?l.saveSql:void 0;try{let oe=p.isSQLableTypedArray(d.sql),ce=oe?d.sql.byteLength:s.jstrlen(d.sql),_e=s.scopedAlloc(2*s.ptrSizeof+(ce+1)),H=_e+s.ptrSizeof,b=H+s.ptrSizeof,D=b+ce;for(oe?s.heap8().set(d.sql,b):s.jstrcpy(d.sql,s.heap8(),b,ce,!1),s.poke(b+ce,0);b&&s.peek(b,"i8");){s.pokePtr([_e,H],0),A.checkRc(this,r.sqlite3_prepare_v3(this.pointer,b,ce,0,_e,H));let Q=s.peekPtr(_e);if(b=s.peekPtr(H),ce=D-b,!!Q){if(Y&&Y.push(r.sqlite3_sql(Q).trim()),g=new w(this,Q,T),M&&g.parameterCount&&(g.bind(M),M=null),$&&g.columnCount){let h=Array.isArray(l.columnNames)?0:1;if($=!1,d.cbArg||_){let x=Object.create(null);for(;g.step();g._lockedByExec=!1){h++===0&&g.getColumnNames(x.columnNames=l.columnNames||[]),g._lockedByExec=!0;let F=d.cbArg(g,x);if(_&&_.push(F),c&&c.call(l,F,g)===!1)break}g._lockedByExec=!1}h===0&&g.getColumnNames(l.columnNames)}else g.step();g.reset().finalize(),g=null}}}finally{s.scopedAllocPop(re),g&&(delete g._lockedByExec,g.finalize())}return d.returnVal()},createFunction:function(l,c,_){let g=x=>x instanceof Function;switch(arguments.length){case 1:_=l,l=_.name,c=_.xFunc||0;break;case 2:g(c)||(_=c,c=_.xFunc||0);break;case 3:break;default:break}_||(_={}),typeof l!="string"&&o("Invalid arguments: missing function name.");let M=_.xStep||0,$=_.xFinal||0,re=_.xValue||0,Y=_.xInverse||0,oe;g(c)?(oe=!1,(g(M)||g($))&&o("Ambiguous arguments: scalar or aggregate?"),M=$=null):g(M)?(g($)||o("Missing xFinal() callback for aggregate or window UDF."),c=null):g($)?o("Missing xStep() callback for aggregate or window UDF."):o("Missing function-type properties."),oe===!1?(g(re)||g(Y))&&o("xValue and xInverse are not permitted for non-window UDFs."):g(re)?(g(Y)||o("xInverse must be provided if xValue is."),oe=!0):g(Y)&&o("xValue must be provided if xInverse is.");let ce=_.pApp;ce!=null&&(typeof ce!="number"||!p.isInt32(ce))&&o("Invalid value for pApp property. Must be a legal WASM pointer value.");let _e=_.xDestroy||0;_e&&!g(_e)&&o("xDestroy property must be a function.");let H=0;C(_,"deterministic")&&(H|=r.SQLITE_DETERMINISTIC),C(_,"directOnly")&&(H|=r.SQLITE_DIRECTONLY),C(_,"innocuous")&&(H|=r.SQLITE_INNOCUOUS),l=l.toLowerCase();let b=c||M,D=C(_,"arity"),Q=typeof D=="number"?D:b.length?b.length-1:0,h;return oe?h=r.sqlite3_create_window_function(this.pointer,l,Q,r.SQLITE_UTF8|H,ce||0,M,$,re,Y,_e):h=r.sqlite3_create_function_v2(this.pointer,l,Q,r.SQLITE_UTF8|H,ce||0,c,M,$,_e),A.checkRc(this,h),this},selectValue:function(d,l,c){return N(this,d,l,0,c)},selectValues:function(d,l,c){let _=this.prepare(d),g=[];try{for(_.bind(l);_.step();)g.push(_.get(0,c));_.reset()}finally{_.finalize()}return g},selectArray:function(d,l){return N(this,d,l,[])},selectObject:function(d,l){return N(this,d,l,{})},selectArrays:function(d,l){return y(this,d,l,"array")},selectObjects:function(d,l){return y(this,d,l,"object")},openStatementCount:function(){return this.pointer?Object.keys(P.get(this)).length:0},transaction:function(d){let l="BEGIN";arguments.length>1&&(/[^a-zA-Z]/.test(arguments[0])&&o(r.SQLITE_MISUSE,"Invalid argument for BEGIN qualifier."),l+=" "+arguments[0],d=arguments[1]),q(this).exec(l);try{let c=d(this);return this.exec("COMMIT"),c}catch(c){throw this.exec("ROLLBACK"),c}},savepoint:function(d){q(this).exec("SAVEPOINT oo1");try{let l=d(this);return this.exec("RELEASE oo1"),l}catch(l){throw this.exec("ROLLBACK to SAVEPOINT oo1; RELEASE SAVEPOINT oo1"),l}},checkRc:function(d){return B(this,d)}};let z=function(d){return d.pointer||o("Stmt has been closed."),d},u=function(d){let l=T[d==null?"null":typeof d];switch(l){case T.boolean:case T.null:case T.number:case T.string:return l;case T.bigint:if(s.bigIntEnabled)return l;default:return p.isBindableTypedArray(d)?T.blob:void 0}},f=function(d){return u(d)||o("Unsupported bind() argument type:",typeof d)},E=function(d,l){let c=typeof l=="number"?l:r.sqlite3_bind_parameter_index(d.pointer,l);return c===0||!p.isInt32(c)?o("Invalid bind() parameter name: "+l):(c<1||c>d.parameterCount)&&o("Bind index",l,"is out of range."),c},O=function(d,l){return d._lockedByExec&&o("Operation is illegal when statement is locked:",l),d},L=function d(l,c,_,g){O(z(l),"bind()"),d._||(d._tooBigInt=$=>o("BigInt value is too big to store without precision loss:",$),d._={string:function($,re,Y,oe){let[ce,_e]=s.allocCString(Y,!0);return(oe?r.sqlite3_bind_blob:r.sqlite3_bind_text)($.pointer,re,ce,_e,r.SQLITE_WASM_DEALLOC)}}),f(g),c=E(l,c);let M=0;switch(g==null?T.null:_){case T.null:M=r.sqlite3_bind_null(l.pointer,c);break;case T.string:M=d._.string(l,c,g,!1);break;case T.number:{let $;p.isInt32(g)?$=r.sqlite3_bind_int:typeof g=="bigint"?p.bigIntFits64(g)?s.bigIntEnabled?$=r.sqlite3_bind_int64:p.bigIntFitsDouble(g)?(g=Number(g),$=r.sqlite3_bind_double):d._tooBigInt(g):d._tooBigInt(g):(g=Number(g),s.bigIntEnabled&&Number.isInteger(g)?$=r.sqlite3_bind_int64:$=r.sqlite3_bind_double),M=$(l.pointer,c,g);break}case T.boolean:M=r.sqlite3_bind_int(l.pointer,c,g?1:0);break;case T.blob:{if(typeof g=="string"){M=d._.string(l,c,g,!0);break}else g instanceof ArrayBuffer?g=new Uint8Array(g):p.isBindableTypedArray(g)||o("Binding a value as a blob requires","that it be a string, Uint8Array, Int8Array, or ArrayBuffer.");let $=s.alloc(g.byteLength||1);s.heap8().set(g.byteLength?g:[0],$),M=r.sqlite3_bind_blob(l.pointer,c,$,g.byteLength,r.SQLITE_WASM_DEALLOC);break}default:e.config.warn("Unsupported bind() argument type:",g),o("Unsupported bind() argument type: "+typeof g)}return M&&A.checkRc(l.db.pointer,M),l._mayGet=!1,l};w.prototype={finalize:function(){if(this.pointer){O(this,"finalize()");let d=r.sqlite3_finalize(this.pointer);return delete P.get(this.db)[this.pointer],m.delete(this),delete this._mayGet,delete this.parameterCount,delete this._lockedByExec,delete this.db,d}},clearBindings:function(){return O(z(this),"clearBindings()"),r.sqlite3_clear_bindings(this.pointer),this._mayGet=!1,this},reset:function(d){O(this,"reset()"),d&&this.clearBindings();let l=r.sqlite3_reset(z(this).pointer);return this._mayGet=!1,B(this.db,l),this},bind:function(){z(this);let d,l;switch(arguments.length){case 1:d=1,l=arguments[0];break;case 2:d=arguments[0],l=arguments[1];break;default:o("Invalid bind() arguments.")}return l===void 0?this:(this.parameterCount||o("This statement has no bindable parameters."),this._mayGet=!1,l===null?L(this,d,T.null,l):Array.isArray(l)?(arguments.length!==1&&o("When binding an array, an index argument is not permitted."),l.forEach((c,_)=>L(this,_+1,f(c),c)),this):(l instanceof ArrayBuffer&&(l=new Uint8Array(l)),typeof l=="object"&&!p.isBindableTypedArray(l)?(arguments.length!==1&&o("When binding an object, an index argument is not permitted."),Object.keys(l).forEach(c=>L(this,c,f(l[c]),l[c])),this):L(this,d,f(l),l)))},bindAsBlob:function(d,l){z(this),arguments.length===1&&(l=d,d=1);let c=f(l);return T.string!==c&&T.blob!==c&&T.null!==c&&o("Invalid value type for bindAsBlob()"),L(this,d,T.blob,l)},step:function(){O(this,"step()");let d=r.sqlite3_step(z(this).pointer);switch(d){case r.SQLITE_DONE:return this._mayGet=!1;case r.SQLITE_ROW:return this._mayGet=!0;default:this._mayGet=!1,e.config.warn("sqlite3_step() rc=",d,r.sqlite3_js_rc_str(d),"SQL =",r.sqlite3_sql(this.pointer)),A.checkRc(this.db.pointer,d)}},stepReset:function(){return this.step(),this.reset()},stepFinalize:function(){try{let d=this.step();return this.reset(),d}finally{try{this.finalize()}catch{}}},get:function(d,l){if(z(this)._mayGet||o("Stmt.step() has not (recently) returned true."),Array.isArray(d)){let c=0,_=this.columnCount;for(;c<_;)d[c]=this.get(c++);return d}else if(d&&typeof d=="object"){let c=0,_=this.columnCount;for(;c<_;)d[r.sqlite3_column_name(this.pointer,c)]=this.get(c++);return d}switch(k(this,d),l===void 0?r.sqlite3_column_type(this.pointer,d):l){case r.SQLITE_NULL:return null;case r.SQLITE_INTEGER:if(s.bigIntEnabled){let c=r.sqlite3_column_int64(this.pointer,d);return c>=Number.MIN_SAFE_INTEGER&&c<=Number.MAX_SAFE_INTEGER?Number(c).valueOf():c}else{let c=r.sqlite3_column_double(this.pointer,d);return(c>Number.MAX_SAFE_INTEGER||c<Number.MIN_SAFE_INTEGER)&&o("Integer is out of range for JS integer range: "+c),p.isInt32(c)?c|0:c}case r.SQLITE_FLOAT:return r.sqlite3_column_double(this.pointer,d);case r.SQLITE_TEXT:return r.sqlite3_column_text(this.pointer,d);case r.SQLITE_BLOB:{let c=r.sqlite3_column_bytes(this.pointer,d),_=r.sqlite3_column_blob(this.pointer,d),g=new Uint8Array(c);return c&&g.set(s.heap8u().slice(_,_+c),0),c&&this.db._blobXfer instanceof Array&&this.db._blobXfer.push(g.buffer),g}default:o("Don't know how to translate","type of result column #"+d+".")}o("Not reached.")},getInt:function(d){return this.get(d,r.SQLITE_INTEGER)},getFloat:function(d){return this.get(d,r.SQLITE_FLOAT)},getString:function(d){return this.get(d,r.SQLITE_TEXT)},getBlob:function(d){return this.get(d,r.SQLITE_BLOB)},getJSON:function(d){let l=this.get(d,r.SQLITE_STRING);return l===null?l:JSON.parse(l)},getColumnName:function(d){return r.sqlite3_column_name(k(z(this),d).pointer,d)},getColumnNames:function(d=[]){k(z(this),0);let l=this.columnCount;for(let c=0;c<l;++c)d.push(r.sqlite3_column_name(this.pointer,c));return d},getParamIndex:function(d){return z(this).parameterCount?r.sqlite3_bind_parameter_index(this.pointer,d):void 0}};{let d={enumerable:!0,get:function(){return m.get(this)},set:()=>o("The pointer property is read-only.")};Object.defineProperty(w.prototype,"pointer",d),Object.defineProperty(A.prototype,"pointer",d)}if(Object.defineProperty(w.prototype,"columnCount",{enumerable:!1,get:function(){return r.sqlite3_column_count(this.pointer)},set:()=>o("The columnCount property is read-only.")}),e.oo1={DB:A,Stmt:w},p.isUIThread()){e.oo1.JsStorageDb=function(l="session"){let c=S.normalizeArgs(...arguments);l=c.filename,l!=="session"&&l!=="local"&&o("JsStorageDb db name must be one of 'session' or 'local'."),c.vfs="kvvfs",S.call(this,c)};let d=e.oo1.JsStorageDb;d.prototype=Object.create(A.prototype),d.clearStorage=r.sqlite3_js_kvvfs_clear,d.prototype.clearStorage=function(){return d.clearStorage(q(this).filename)},d.storageSize=r.sqlite3_js_kvvfs_size,d.prototype.storageSize=function(){return d.storageSize(q(this).filename)}}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(e){let i=e.util;e.initWorker1API=function(){"use strict";let o=(...S)=>{throw new Error(S.join(" "))};globalThis.WorkerGlobalScope instanceof Function||o("initWorker1API() must be run from a Worker thread.");let r=this.sqlite3||o("Missing this.sqlite3 object."),s=r.oo1.DB,p=function(S){let A=m.idMap.get(S);return A||(A="db#"+ ++m.idSeq+"@"+S.pointer,m.idMap.set(S,A),A)},m={dbList:[],idSeq:0,idMap:new WeakMap,xfer:[],open:function(S){let A=new s(S);return this.dbs[p(A)]=A,this.dbList.indexOf(A)<0&&this.dbList.push(A),A},close:function(S,A){if(S){delete this.dbs[p(S)];let T=S.filename,w=i.sqlite3__wasm_db_vfs(S.pointer,0);S.close();let q=this.dbList.indexOf(S);q>=0&&this.dbList.splice(q,1),A&&T&&w&&i.sqlite3__wasm_vfs_unlink(w,T)}},post:function(S,A){A&&A.length?(globalThis.postMessage(S,Array.from(A)),A.length=0):globalThis.postMessage(S)},dbs:Object.create(null),getDb:function(S,A=!0){return this.dbs[S]||(A?o("Unknown (or closed) DB ID:",S):void 0)}},P=function(S=m.dbList[0]){return S&&S.pointer?S:o("DB is not opened.")},C=function(S,A=!0){let T=m.getDb(S.dbId,!1)||m.dbList[0];return A?P(T):T},B=function(){return m.dbList[0]&&p(m.dbList[0])},j=S=>S===""||S[0]===":",W={open:function(S){let A=Object.create(null),T=S.args||Object.create(null);T.simulateError&&o("Throwing because of simulateError flag.");let w=Object.create(null);A.vfs=T.vfs,A.filename=T.filename||"";let q=m.open(A);return w.filename=q.filename,w.persistent=!!r.capi.sqlite3_js_db_uses_vfs(q.pointer,"opfs"),w.dbId=p(q),w.vfs=q.dbVfsName(),w},close:function(S){let A=C(S,!1),T={filename:A&&A.filename};if(A){let w=S.args&&typeof S.args=="object"?!!S.args.unlink:!1;m.close(A,w)}return T},exec:function(S){let A=typeof S.args=="string"?{sql:S.args}:S.args||Object.create(null);A.rowMode==="stmt"?o("Invalid rowMode for 'exec': stmt mode","does not work in the Worker API."):A.sql||o("'exec' requires input SQL.");let T=C(S);(A.callback||Array.isArray(A.resultRows))&&(T._blobXfer=m.xfer);let w=A.callback,q=0,k=!!A.columnNames;typeof w=="string"&&(k||(A.columnNames=[]),A.callback=function(R,N){m.post({type:w,columnNames:A.columnNames,rowNumber:++q,row:R},m.xfer)});try{let R=A.countChanges?T.changes(!0,A.countChanges===64):void 0;T.exec(A),R!==void 0&&(A.changeCount=T.changes(!0,A.countChanges===64)-R),A.callback instanceof Function&&(A.callback=w,m.post({type:w,columnNames:A.columnNames,rowNumber:null,row:void 0}))}finally{delete T._blobXfer,A.callback&&(A.callback=w)}return A},"config-get":function(){let S=Object.create(null),A=r.config;return["bigIntEnabled"].forEach(function(T){Object.getOwnPropertyDescriptor(A,T)&&(S[T]=A[T])}),S.version=r.version,S.vfsList=r.capi.sqlite3_js_vfs_list(),S.opfsEnabled=!!r.opfs,S},export:function(S){let A=C(S),T={byteArray:r.capi.sqlite3_js_db_export(A.pointer),filename:A.filename,mimetype:"application/x-sqlite3"};return m.xfer.push(T.byteArray.buffer),T},toss:function(S){o("Testing worker exception")},"opfs-tree":async function(S){return r.opfs||o("OPFS support is unavailable."),await r.opfs.treeList()}};globalThis.onmessage=async function(S){S=S.data;let A,T=S.dbId,w=S.type,q=performance.now();try{W.hasOwnProperty(w)&&W[w]instanceof Function?A=await W[w](S):o("Unknown db worker message type:",S.type)}catch(k){w="error",A={operation:S.type,message:k.message,errorClass:k.name,input:S},k.stack&&(A.stack=typeof k.stack=="string"?k.stack.split(/\n\s*/):k.stack)}T||(T=A.dbId||B()),m.post({type:w,dbId:T,messageId:S.messageId,workerReceivedTime:q,workerRespondTime:performance.now(),departureTime:S.departureTime,result:A},m.xfer)},globalThis.postMessage({type:"sqlite3-api",result:"worker1-ready"})}.bind({sqlite3:e})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(e){let i=e.wasm,o=e.capi,r=e.util.toss3,s=Object.create(null);e.vfs=s,o.sqlite3_vfs.prototype.registerVfs=function(p=!1){this instanceof e.capi.sqlite3_vfs||r("Expecting a sqlite3_vfs-type argument.");let m=o.sqlite3_vfs_register(this,p?1:0);return m&&r("sqlite3_vfs_register(",this,") failed with rc",m),this.pointer!==o.sqlite3_vfs_find(this.$zName)&&r("BUG: sqlite3_vfs_find(vfs.$zName) failed for just-installed VFS",this),this},s.installVfs=function(p){let m=0,P=["io","vfs"];for(let C of P){let B=p[C];B&&(++m,B.struct.installMethods(B.methods,!!B.applyArgcCheck),C==="vfs"&&(!B.struct.$zName&&typeof B.name=="string"&&B.struct.addOnDispose(B.struct.$zName=i.allocCString(B.name)),B.struct.registerVfs(!!B.asDefault)))}return m||r("Misuse: installVfs() options object requires at least","one of:",P),this}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(e){let i=e.wasm,o=e.capi,r=e.util.toss3,s=Object.create(null);e.vtab=s;let p=o.sqlite3_index_info;p.prototype.nthConstraint=function(C,B=!1){if(C<0||C>=this.$nConstraint)return!1;let j=this.$aConstraint+p.sqlite3_index_constraint.structInfo.sizeof*C;return B?j:new p.sqlite3_index_constraint(j)},p.prototype.nthConstraintUsage=function(C,B=!1){if(C<0||C>=this.$nConstraint)return!1;let j=this.$aConstraintUsage+p.sqlite3_index_constraint_usage.structInfo.sizeof*C;return B?j:new p.sqlite3_index_constraint_usage(j)},p.prototype.nthOrderBy=function(C,B=!1){if(C<0||C>=this.$nOrderBy)return!1;let j=this.$aOrderBy+p.sqlite3_index_orderby.structInfo.sizeof*C;return B?j:new p.sqlite3_index_orderby(j)};let m=function(C,B){return function(j,W=!1){if(arguments.length===0&&(j=new B),j instanceof B)return this.set(j.pointer,j),j;i.isPtr(j)||e.SQLite3Error.toss("Invalid argument to",C+"()");let S=this.get(j);return W&&this.delete(j),S}.bind(new Map)},P=function(C,B){let j=m(C,B);return Object.assign(Object.create(null),{StructType:B,create:W=>{let S=j();return i.pokePtr(W,S.pointer),S},get:W=>j(W),unget:W=>j(W,!0),dispose:W=>{let S=j(W,!0);S&&S.dispose()}})};s.xVtab=P("xVtab",o.sqlite3_vtab),s.xCursor=P("xCursor",o.sqlite3_vtab_cursor),s.xIndexInfo=C=>new o.sqlite3_index_info(C),s.xError=function C(B,j,W){if(C.errorReporter instanceof Function)try{C.errorReporter("sqlite3_module::"+B+"(): "+j.message)}catch{}let S;return j instanceof e.WasmAllocError?S=o.SQLITE_NOMEM:arguments.length>2?S=W:j instanceof e.SQLite3Error&&(S=j.resultCode),S||o.SQLITE_ERROR},s.xError.errorReporter=console.error.bind(console),s.xRowid=(C,B)=>i.poke(C,B,"i64"),s.setupModule=function(C){let B=!1,j=this instanceof o.sqlite3_module?this:C.struct||(B=new o.sqlite3_module);try{let W=C.methods||r("Missing 'methods' object.");for(let S of Object.entries({xConnect:"xCreate",xDisconnect:"xDestroy"})){let A=S[0],T=S[1];W[A]===!0?W[A]=W[T]:W[T]===!0&&(W[T]=W[A])}if(C.catchExceptions){let S=function(w,q){return["xConnect","xCreate"].indexOf(w)>=0?function(k,R,N,y,z,u){try{return q(...arguments)||0}catch(f){return f instanceof e.WasmAllocError||(i.dealloc(i.peekPtr(u)),i.pokePtr(u,i.allocCString(f.message))),s.xError(w,f)}}:function(...k){try{return q(...k)||0}catch(R){return s.xError(w,R)}}},A=["xCreate","xConnect","xBestIndex","xDisconnect","xDestroy","xOpen","xClose","xFilter","xNext","xEof","xColumn","xRowid","xUpdate","xBegin","xSync","xCommit","xRollback","xFindFunction","xRename","xSavepoint","xRelease","xRollbackTo","xShadowName"],T=Object.create(null);for(let w of A){let q=W[w];if(q instanceof Function)w==="xConnect"&&W.xCreate===q?T[w]=W.xCreate:w==="xCreate"&&W.xConnect===q?T[w]=W.xConnect:T[w]=S(w,q);else continue}j.installMethods(T,!1)}else j.installMethods(W,!!C.applyArgcCheck);if(j.$iVersion===0){let S;typeof C.iVersion=="number"?S=C.iVersion:j.$xShadowName?S=3:j.$xSavePoint||j.$xRelease||j.$xRollbackTo?S=2:S=1,j.$iVersion=S}}catch(W){throw B&&B.dispose(),W}return j},o.sqlite3_module.prototype.setupModule=function(C){return s.setupModule.call(this,C)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(e){let i=function o(r){if(!globalThis.SharedArrayBuffer||!globalThis.Atomics)return Promise.reject(new Error("Cannot install OPFS: Missing SharedArrayBuffer and/or Atomics. The server must emit the COOP/COEP response headers to enable those. See https://sqlite.org/wasm/doc/trunk/persistence.md#coop-coep"));if(typeof WorkerGlobalScope>"u")return Promise.reject(new Error("The OPFS sqlite3_vfs cannot run in the main thread because it requires Atomics.wait()."));if(!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory)return Promise.reject(new Error("Missing required OPFS APIs."));(!r||typeof r!="object")&&(r=Object.create(null));let s=new URL(globalThis.location.href).searchParams;return s.has("opfs-disable")?Promise.resolve(e):(r.verbose===void 0&&(r.verbose=s.has("opfs-verbose")?+s.get("opfs-verbose")||2:1),r.sanityChecks===void 0&&(r.sanityChecks=s.has("opfs-sanity-check")),r.proxyUri===void 0&&(r.proxyUri=o.defaultProxyUri),typeof r.proxyUri=="function"&&(r.proxyUri=r.proxyUri()),new Promise(function(m,P){let C=[e.config.error,e.config.warn,e.config.log],B=(h,...x)=>{r.verbose>h&&C[h]("OPFS syncer:",...x)},j=(...h)=>B(2,...h),W=(...h)=>B(1,...h),S=(...h)=>B(0,...h),A=e.util.toss,T=e.capi,w=e.util,q=e.wasm,k=T.sqlite3_vfs,R=T.sqlite3_file,N=T.sqlite3_io_methods,y=Object.create(null),z=()=>globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle&&globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle&&navigator?.storage?.getDirectory;y.metrics={dump:function(){let h,x=0,F=0,V=0;for(h in _.opIds){let U=g[h];x+=U.count,F+=U.time,V+=U.wait,U.avgTime=U.count&&U.time?U.time/U.count:0,U.avgWait=U.count&&U.wait?U.wait/U.count:0}e.config.log(globalThis.location.href,"metrics for",globalThis.location.href,":",g,`
Total of`,x,"op(s) for",F,"ms (incl. "+V+" ms of waiting on the async side)"),e.config.log("Serialization metrics:",g.s11n),d.postMessage({type:"opfs-async-metrics"})},reset:function(){let h,x=V=>V.count=V.time=V.wait=0;for(h in _.opIds)x(g[h]=Object.create(null));let F=g.s11n=Object.create(null);F=F.serialize=Object.create(null),F.count=F.time=0,F=g.s11n.deserialize=Object.create(null),F.count=F.time=0}};let u=new N,f=new k().addOnDispose(()=>u.dispose()),E,O=h=>(E=!0,f.dispose(),P(h)),L=()=>(E=!1,m(e)),d=new Worker(new URL("sqlite3-opfs-async-proxy.js",import.meta.url));setTimeout(()=>{E===void 0&&O(new Error("Timeout while waiting for OPFS async proxy worker."))},4e3),d._originalOnError=d.onerror,d.onerror=function(h){S("Error initializing OPFS asyncer:",h),O(new Error("Loading OPFS async Worker failed for unknown reasons."))};let l=T.sqlite3_vfs_find(null),c=l?new k(l):null;u.$iVersion=1,f.$iVersion=2,f.$szOsFile=T.sqlite3_file.structInfo.sizeof,f.$mxPathname=1024,f.$zName=q.allocCString("opfs"),f.$xDlOpen=f.$xDlError=f.$xDlSym=f.$xDlClose=null,f.addOnDispose("$zName",f.$zName,"cleanup default VFS wrapper",()=>c?c.dispose():null);let _=Object.create(null);_.verbose=r.verbose,_.littleEndian=(()=>{let h=new ArrayBuffer(2);return new DataView(h).setInt16(0,256,!0),new Int16Array(h)[0]===256})(),_.asyncIdleWaitTime=150,_.asyncS11nExceptions=1,_.fileBufferSize=1024*64,_.sabS11nOffset=_.fileBufferSize,_.sabS11nSize=f.$mxPathname*2,_.sabIO=new SharedArrayBuffer(_.fileBufferSize+_.sabS11nSize),_.opIds=Object.create(null);let g=Object.create(null);{let h=0;_.opIds.whichOp=h++,_.opIds.rc=h++,_.opIds.xAccess=h++,_.opIds.xClose=h++,_.opIds.xDelete=h++,_.opIds.xDeleteNoWait=h++,_.opIds.xFileSize=h++,_.opIds.xLock=h++,_.opIds.xOpen=h++,_.opIds.xRead=h++,_.opIds.xSleep=h++,_.opIds.xSync=h++,_.opIds.xTruncate=h++,_.opIds.xUnlock=h++,_.opIds.xWrite=h++,_.opIds.mkdir=h++,_.opIds["opfs-async-metrics"]=h++,_.opIds["opfs-async-shutdown"]=h++,_.opIds.retry=h++,_.sabOP=new SharedArrayBuffer(h*4),y.metrics.reset()}_.sq3Codes=Object.create(null),["SQLITE_ACCESS_EXISTS","SQLITE_ACCESS_READWRITE","SQLITE_BUSY","SQLITE_CANTOPEN","SQLITE_ERROR","SQLITE_IOERR","SQLITE_IOERR_ACCESS","SQLITE_IOERR_CLOSE","SQLITE_IOERR_DELETE","SQLITE_IOERR_FSYNC","SQLITE_IOERR_LOCK","SQLITE_IOERR_READ","SQLITE_IOERR_SHORT_READ","SQLITE_IOERR_TRUNCATE","SQLITE_IOERR_UNLOCK","SQLITE_IOERR_WRITE","SQLITE_LOCK_EXCLUSIVE","SQLITE_LOCK_NONE","SQLITE_LOCK_PENDING","SQLITE_LOCK_RESERVED","SQLITE_LOCK_SHARED","SQLITE_LOCKED","SQLITE_MISUSE","SQLITE_NOTFOUND","SQLITE_OPEN_CREATE","SQLITE_OPEN_DELETEONCLOSE","SQLITE_OPEN_MAIN_DB","SQLITE_OPEN_READONLY"].forEach(h=>{(_.sq3Codes[h]=T[h])===void 0&&A("Maintenance required: not found:",h)}),_.opfsFlags=Object.assign(Object.create(null),{OPFS_UNLOCK_ASAP:1,OPFS_UNLINK_BEFORE_OPEN:2,defaultUnlockAsap:!1});let M=(h,...x)=>{let F=_.opIds[h]||A("Invalid op ID:",h);_.s11n.serialize(...x),Atomics.store(_.sabOPView,_.opIds.rc,-1),Atomics.store(_.sabOPView,_.opIds.whichOp,F),Atomics.notify(_.sabOPView,_.opIds.whichOp);let V=performance.now();for(;Atomics.wait(_.sabOPView,_.opIds.rc,-1)!=="not-equal";);let U=Atomics.load(_.sabOPView,_.opIds.rc);if(g[h].wait+=performance.now()-V,U&&_.asyncS11nExceptions){let Z=_.s11n.deserialize();Z&&S(h+"() async error:",...Z)}return U};y.debug={asyncShutdown:()=>{W("Shutting down OPFS async listener. The OPFS VFS will no longer work."),M("opfs-async-shutdown")},asyncRestart:()=>{W("Attempting to restart OPFS VFS async listener. Might work, might not."),d.postMessage({type:"opfs-async-restart"})}};let $=()=>{if(_.s11n)return _.s11n;let h=new TextDecoder,x=new TextEncoder("utf-8"),F=new Uint8Array(_.sabIO,_.sabS11nOffset,_.sabS11nSize),V=new DataView(_.sabIO,_.sabS11nOffset,_.sabS11nSize);_.s11n=Object.create(null);let U=Object.create(null);U.number={id:1,size:8,getter:"getFloat64",setter:"setFloat64"},U.bigint={id:2,size:8,getter:"getBigInt64",setter:"setBigInt64"},U.boolean={id:3,size:4,getter:"getInt32",setter:"setInt32"},U.string={id:4};let Z=X=>U[typeof X]||A("Maintenance required: this value type cannot be serialized.",X),te=X=>{switch(X){case U.number.id:return U.number;case U.bigint.id:return U.bigint;case U.boolean.id:return U.boolean;case U.string.id:return U.string;default:A("Invalid type ID:",X)}};return _.s11n.deserialize=function(X=!1){++g.s11n.deserialize.count;let Ee=performance.now(),we=F[0],I=we?[]:null;if(we){let G=[],K=1,J,de,he;for(J=0;J<we;++J,++K)G.push(te(F[K]));for(J=0;J<we;++J){let me=G[J];me.getter?(he=V[me.getter](K,_.littleEndian),K+=me.size):(de=V.getInt32(K,_.littleEndian),K+=4,he=h.decode(F.slice(K,K+de)),K+=de),I.push(he)}}return X&&(F[0]=0),g.s11n.deserialize.time+=performance.now()-Ee,I},_.s11n.serialize=function(...X){let Ee=performance.now();if(++g.s11n.serialize.count,X.length){let we=[],I=0,G=1;for(F[0]=X.length&255;I<X.length;++I,++G)we.push(Z(X[I])),F[G]=we[I].id;for(I=0;I<X.length;++I){let K=we[I];if(K.setter)V[K.setter](G,X[I],_.littleEndian),G+=K.size;else{let J=x.encode(X[I]);V.setInt32(G,J.byteLength,_.littleEndian),G+=4,F.set(J,G),G+=J.byteLength}}}else F[0]=0;g.s11n.serialize.time+=performance.now()-Ee},_.s11n},re=function h(x=16){h._chars||(h._chars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ012346789",h._n=h._chars.length);let F=[],V=0;for(;V<x;++V){let U=Math.random()*(h._n*64)%h._n|0;F[V]=h._chars[U]}return F.join("")},Y=Object.create(null),oe=Object.create(null);oe.op=void 0,oe.start=void 0;let ce=h=>{oe.start=performance.now(),oe.op=h,++g[h].count},_e=()=>g[oe.op].time+=performance.now()-oe.start,H={xCheckReservedLock:function(h,x){return q.poke(x,0,"i32"),0},xClose:function(h){ce("xClose");let x=0,F=Y[h];return F&&(delete Y[h],x=M("xClose",h),F.sq3File&&F.sq3File.dispose()),_e(),x},xDeviceCharacteristics:function(h){return T.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(h,x,F){return T.SQLITE_NOTFOUND},xFileSize:function(h,x){ce("xFileSize");let F=M("xFileSize",h);if(F==0)try{let V=_.s11n.deserialize()[0];q.poke(x,V,"i64")}catch(V){S("Unexpected error reading xFileSize() result:",V),F=_.sq3Codes.SQLITE_IOERR}return _e(),F},xLock:function(h,x){ce("xLock");let F=Y[h],V=0;return F.lockType?F.lockType=x:(V=M("xLock",h,x),V===0&&(F.lockType=x)),_e(),V},xRead:function(h,x,F,V){ce("xRead");let U=Y[h],Z;try{Z=M("xRead",h,F,Number(V)),(Z===0||T.SQLITE_IOERR_SHORT_READ===Z)&&q.heap8u().set(U.sabView.subarray(0,F),x)}catch(te){S("xRead(",arguments,") failed:",te,U),Z=T.SQLITE_IOERR_READ}return _e(),Z},xSync:function(h,x){ce("xSync"),++g.xSync.count;let F=M("xSync",h,x);return _e(),F},xTruncate:function(h,x){ce("xTruncate");let F=M("xTruncate",h,Number(x));return _e(),F},xUnlock:function(h,x){ce("xUnlock");let F=Y[h],V=0;return T.SQLITE_LOCK_NONE===x&&F.lockType&&(V=M("xUnlock",h,x)),V===0&&(F.lockType=x),_e(),V},xWrite:function(h,x,F,V){ce("xWrite");let U=Y[h],Z;try{U.sabView.set(q.heap8u().subarray(x,x+F)),Z=M("xWrite",h,F,Number(V))}catch(te){S("xWrite(",arguments,") failed:",te,U),Z=T.SQLITE_IOERR_WRITE}return _e(),Z}},b={xAccess:function(h,x,F,V){ce("xAccess");let U=M("xAccess",q.cstrToJs(x));return q.poke(V,U?0:1,"i32"),_e(),0},xCurrentTime:function(h,x){return q.poke(x,24405875e-1+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(h,x){return q.poke(x,24405875e-1*864e5+new Date().getTime(),"i64"),0},xDelete:function(h,x,F){ce("xDelete");let V=M("xDelete",q.cstrToJs(x),F,!1);return _e(),V},xFullPathname:function(h,x,F,V){return q.cstrncpy(V,x,F)<F?0:T.SQLITE_CANTOPEN},xGetLastError:function(h,x,F){return W("OPFS xGetLastError() has nothing sensible to return."),0},xOpen:function(x,F,V,U,Z){ce("xOpen");let te=0;F===0?F=re():q.isPtr(F)&&(T.sqlite3_uri_boolean(F,"opfs-unlock-asap",0)&&(te|=_.opfsFlags.OPFS_UNLOCK_ASAP),T.sqlite3_uri_boolean(F,"delete-before-open",0)&&(te|=_.opfsFlags.OPFS_UNLINK_BEFORE_OPEN),F=q.cstrToJs(F));let X=Object.create(null);X.fid=V,X.filename=F,X.sab=new SharedArrayBuffer(_.fileBufferSize),X.flags=U;let Ee=M("xOpen",V,F,U,te);return Ee||(X.readOnly&&q.poke(Z,T.SQLITE_OPEN_READONLY,"i32"),Y[V]=X,X.sabView=_.sabFileBufView,X.sq3File=new R(V),X.sq3File.$pMethods=u.pointer,X.lockType=T.SQLITE_LOCK_NONE),_e(),Ee}};c&&(f.$xRandomness=c.$xRandomness,f.$xSleep=c.$xSleep),f.$xRandomness||(b.xRandomness=function(h,x,F){let V=q.heap8u(),U=0;for(;U<x;++U)V[F+U]=Math.random()*255e3&255;return U}),f.$xSleep||(b.xSleep=function(h,x){return Atomics.wait(_.sabOPView,_.opIds.xSleep,0,x),0}),y.getResolvedPath=function(h,x){let F=new URL(h,"file://irrelevant").pathname;return x?F.split("/").filter(V=>!!V):F},y.getDirForFilename=async function(x,F=!1){let V=y.getResolvedPath(x,!0),U=V.pop(),Z=y.rootDirectory;for(let te of V)te&&(Z=await Z.getDirectoryHandle(te,{create:!!F}));return[Z,U]},y.mkdir=async function(h){try{return await y.getDirForFilename(h+"/filepart",!0),!0}catch{return!1}},y.entryExists=async function(h){try{let[x,F]=await y.getDirForFilename(h);return await x.getFileHandle(F),!0}catch{return!1}},y.randomFilename=re,y.treeList=async function(){let h=async function F(V,U){U.name=V.name,U.dirs=[],U.files=[];for await(let Z of V.values())if(Z.kind==="directory"){let te=Object.create(null);U.dirs.push(te),await F(Z,te)}else U.files.push(Z.name)},x=Object.create(null);return await h(y.rootDirectory,x),x},y.rmfr=async function(){let h=y.rootDirectory,x={recurse:!0};for await(let F of h.values())h.removeEntry(F.name,x)},y.unlink=async function(h,x=!1,F=!1){try{let[V,U]=await y.getDirForFilename(h,!1);return await V.removeEntry(U,{recursive:x}),!0}catch(V){if(F)throw new Error("unlink(",arguments[0],") failed: "+V.message,{cause:V});return!1}},y.traverse=async function(h){let x={recursive:!0,directory:y.rootDirectory};typeof h=="function"&&(h={callback:h}),h=Object.assign(x,h||{}),async function V(U,Z){for await(let te of U.values()){if(h.callback(te,U,Z)===!1)return!1;if(h.recursive&&te.kind==="directory"&&await V(te,Z+1)===!1)break}}(h.directory,0)};let D=async function(h,x){let[F,V]=await y.getDirForFilename(h,!0),Z=await(await F.getFileHandle(V,{create:!0})).createSyncAccessHandle(),te=0,X,Ee=!1,we=!1;try{for(Z.truncate(0);(X=await x())!==void 0;)X instanceof ArrayBuffer&&(X=new Uint8Array(X)),te===0&&X.byteLength>=15&&(w.affirmDbHeader(X),Ee=!0),Z.write(X,{at:te}),te+=X.byteLength;if((te<512||te%512!==0)&&A("Input size",te,"is not correct for an SQLite database."),!Ee){let I=new Uint8Array(20);Z.read(I,{at:0}),w.affirmDbHeader(I)}return Z.write(new Uint8Array([1,1]),{at:18}),te}catch(I){throw await Z.close(),Z=void 0,await F.removeEntry(V).catch(()=>{}),I}finally{Z&&await Z.close()}};if(y.importDb=async function(h,x){if(x instanceof Function)return D(h,x);x instanceof ArrayBuffer&&(x=new Uint8Array(x)),w.affirmIsDb(x);let F=x.byteLength,[V,U]=await y.getDirForFilename(h,!0),Z,te,X=0;try{return Z=await(await V.getFileHandle(U,{create:!0})).createSyncAccessHandle(),Z.truncate(0),X=Z.write(x,{at:0}),X!=F&&A("Expected to write "+F+" bytes but wrote "+X+"."),Z.write(new Uint8Array([1,1]),{at:18}),X}catch(Ee){throw Z&&(await Z.close(),Z=void 0),await V.removeEntry(U).catch(()=>{}),Ee}finally{Z&&await Z.close()}},e.oo1){let h=function(...x){let F=e.oo1.DB.dbCtorHelper.normalizeArgs(...x);F.vfs=f.$zName,e.oo1.DB.dbCtorHelper.call(this,F)};h.prototype=Object.create(e.oo1.DB.prototype),e.oo1.OpfsDb=h,h.importDb=y.importDb,e.oo1.DB.dbCtorHelper.setVfsPostOpenSql(f.pointer,function(x,F){F.capi.sqlite3_busy_timeout(x,1e4),F.capi.sqlite3_exec(x,["pragma journal_mode=DELETE;","pragma cache_size=-16384;"],0,0,0)})}let Q=function(){let h=q.scopedAllocPush(),x=new R;try{let F=x.pointer,V=T.SQLITE_OPEN_CREATE|T.SQLITE_OPEN_READWRITE|T.SQLITE_OPEN_MAIN_DB,U=q.scopedAlloc(8),Z="/sanity/check/file"+re(8),te=q.scopedAllocCString(Z),X;if(_.s11n.serialize("This is \xE4 string."),X=_.s11n.deserialize(),j("deserialize() says:",X),X[0]!=="This is \xE4 string."&&A("String d13n error."),b.xAccess(f.pointer,te,0,U),X=q.peek(U,"i32"),j("xAccess(",Z,") exists ?=",X),X=b.xOpen(f.pointer,te,F,V,U),j("open rc =",X,"state.sabOPView[xOpen] =",_.sabOPView[_.opIds.xOpen]),X!==0){S("open failed with code",X);return}b.xAccess(f.pointer,te,0,U),X=q.peek(U,"i32"),X||A("xAccess() failed to detect file."),X=H.xSync(x.pointer,0),X&&A("sync failed w/ rc",X),X=H.xTruncate(x.pointer,1024),X&&A("truncate failed w/ rc",X),q.poke(U,0,"i64"),X=H.xFileSize(x.pointer,U),X&&A("xFileSize failed w/ rc",X),j("xFileSize says:",q.peek(U,"i64")),X=H.xWrite(x.pointer,te,10,1),X&&A("xWrite() failed!");let Ee=q.scopedAlloc(16);X=H.xRead(x.pointer,Ee,6,2),q.poke(Ee+6,0);let we=q.cstrToJs(Ee);j("xRead() got:",we),we!=="sanity"&&A("Unexpected xRead() value."),b.xSleep&&(j("xSleep()ing before close()ing..."),b.xSleep(f.pointer,2e3),j("waking up from xSleep()")),X=H.xClose(F),j("xClose rc =",X,"sabOPView =",_.sabOPView),j("Deleting file:",Z),b.xDelete(f.pointer,te,4660),b.xAccess(f.pointer,te,0,U),X=q.peek(U,"i32"),X&&A("Expecting 0 from xAccess(",Z,") after xDelete()."),W("End of OPFS sanity checks.")}finally{x.dispose(),q.scopedAllocPop(h)}};d.onmessage=function({data:h}){switch(h.type){case"opfs-unavailable":O(new Error(h.payload.join(" ")));break;case"opfs-async-loaded":d.postMessage({type:"opfs-async-init",args:_});break;case"opfs-async-inited":{if(E===!0)break;try{e.vfs.installVfs({io:{struct:u,methods:H},vfs:{struct:f,methods:b}}),_.sabOPView=new Int32Array(_.sabOP),_.sabFileBufView=new Uint8Array(_.sabIO,0,_.fileBufferSize),_.sabS11nView=new Uint8Array(_.sabIO,_.sabS11nOffset,_.sabS11nSize),$(),r.sanityChecks&&(W("Running sanity checks because of opfs-sanity-check URL arg..."),Q()),z()?navigator.storage.getDirectory().then(x=>{d.onerror=d._originalOnError,delete d._originalOnError,e.opfs=y,y.rootDirectory=x,j("End of OPFS sqlite3_vfs setup.",f),L()}).catch(O):L()}catch(x){S(x),O(x)}break}default:{let x="Unexpected message from the OPFS async worker: "+JSON.stringify(h);S(x),O(new Error(x));break}}}}))};i.defaultProxyUri="sqlite3-opfs-async-proxy.js",globalThis.sqlite3ApiBootstrap.initializersAsync.push(async o=>{try{let r=i.defaultProxyUri;return o.scriptInfo.sqlite3Dir&&(i.defaultProxyUri=o.scriptInfo.sqlite3Dir+r),i().catch(s=>{o.config.warn("Ignoring inability to install OPFS sqlite3_vfs:",s.message)})}catch(r){return o.config.error("installOpfsVfs() exception:",r),Promise.reject(r)}})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(e){"use strict";let i=e.util.toss,o=e.util.toss3,r=Object.create(null),s=e.capi,p=e.util,m=e.wasm,P=4096,C=512,B=4,j=8,W=C+B,S=C,A=W,T=P,w=s.SQLITE_OPEN_MAIN_DB|s.SQLITE_OPEN_MAIN_JOURNAL|s.SQLITE_OPEN_SUPER_JOURNAL|s.SQLITE_OPEN_WAL,q=".opaque",k=()=>Math.random().toString(36).slice(2),R=new TextDecoder,N=new TextEncoder,y=Object.assign(Object.create(null),{name:"opfs-sahpool",directory:void 0,initialCapacity:6,clearOnInit:!1,verbosity:2}),z=[e.config.error,e.config.warn,e.config.log],u=e.config.log,f=e.config.warn,E=e.config.error,O=new Map,L=H=>O.get(H),d=(H,b)=>{b?O.set(H,b):O.delete(H)},l=new Map,c=H=>l.get(H),_=(H,b)=>{b?l.set(H,b):l.delete(H)},g={xCheckReservedLock:function(H,b){let D=c(H);return D.log("xCheckReservedLock"),D.storeErr(),m.poke32(b,1),0},xClose:function(H){let b=c(H);b.storeErr();let D=b.getOFileForS3File(H);if(D)try{b.log(`xClose ${D.path}`),b.mapS3FileToOFile(H,!1),D.sah.flush(),D.flags&s.SQLITE_OPEN_DELETEONCLOSE&&b.deletePath(D.path)}catch(Q){return b.storeErr(Q,s.SQLITE_IOERR)}return 0},xDeviceCharacteristics:function(H){return s.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(H,b,D){return s.SQLITE_NOTFOUND},xFileSize:function(H,b){let D=c(H);D.log("xFileSize");let h=D.getOFileForS3File(H).sah.getSize()-T;return m.poke64(b,BigInt(h)),0},xLock:function(H,b){let D=c(H);D.log(`xLock ${b}`),D.storeErr();let Q=D.getOFileForS3File(H);return Q.lockType=b,0},xRead:function(H,b,D,Q){let h=c(H);h.storeErr();let x=h.getOFileForS3File(H);h.log(`xRead ${x.path} ${D} @ ${Q}`);try{let F=x.sah.read(m.heap8u().subarray(b,b+D),{at:T+Number(Q)});return F<D?(m.heap8u().fill(0,b+F,b+D),s.SQLITE_IOERR_SHORT_READ):0}catch(F){return h.storeErr(F,s.SQLITE_IOERR)}},xSectorSize:function(H){return P},xSync:function(H,b){let D=c(H);D.log(`xSync ${b}`),D.storeErr();let Q=D.getOFileForS3File(H);try{return Q.sah.flush(),0}catch(h){return D.storeErr(h,s.SQLITE_IOERR)}},xTruncate:function(H,b){let D=c(H);D.log(`xTruncate ${b}`),D.storeErr();let Q=D.getOFileForS3File(H);try{return Q.sah.truncate(T+Number(b)),0}catch(h){return D.storeErr(h,s.SQLITE_IOERR)}},xUnlock:function(H,b){let D=c(H);D.log("xUnlock");let Q=D.getOFileForS3File(H);return Q.lockType=b,0},xWrite:function(H,b,D,Q){let h=c(H);h.storeErr();let x=h.getOFileForS3File(H);h.log(`xWrite ${x.path} ${D} ${Q}`);try{let F=x.sah.write(m.heap8u().subarray(b,b+D),{at:T+Number(Q)});return D===F?0:i("Unknown write() failure.")}catch(F){return h.storeErr(F,s.SQLITE_IOERR)}}},M=new s.sqlite3_io_methods;M.$iVersion=1,e.vfs.installVfs({io:{struct:M,methods:g}});let $={xAccess:function(H,b,D,Q){let h=L(H);h.storeErr();try{let x=h.getPath(b);m.poke32(Q,h.hasFilename(x)?1:0)}catch{m.poke32(Q,0)}return 0},xCurrentTime:function(H,b){return m.poke(b,24405875e-1+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(H,b){return m.poke(b,24405875e-1*864e5+new Date().getTime(),"i64"),0},xDelete:function(H,b,D){let Q=L(H);Q.log(`xDelete ${m.cstrToJs(b)}`),Q.storeErr();try{return Q.deletePath(Q.getPath(b)),0}catch(h){return Q.storeErr(h),s.SQLITE_IOERR_DELETE}},xFullPathname:function(H,b,D,Q){return m.cstrncpy(Q,b,D)<D?0:s.SQLITE_CANTOPEN},xGetLastError:function(H,b,D){let Q=L(H),h=Q.popErr();if(Q.log(`xGetLastError ${b} e =`,h),h){let x=m.scopedAllocPush();try{let[F,V]=m.scopedAllocCString(h.message,!0);m.cstrncpy(D,F,b),V>b&&m.poke8(D+b-1,0)}catch{return s.SQLITE_NOMEM}finally{m.scopedAllocPop(x)}}return h?h.sqlite3Rc||s.SQLITE_IOERR:0},xOpen:function(b,D,Q,h,x){let F=L(b);try{F.log(`xOpen ${m.cstrToJs(D)} ${h}`);let V=D&&m.peek8(D)?F.getPath(D):k(),U=F.getSAHForPath(V);!U&&h&s.SQLITE_OPEN_CREATE&&(F.getFileCount()<F.getCapacity()?(U=F.nextAvailableSAH(),F.setAssociatedPath(U,V,h)):i("SAH pool is full. Cannot create file",V)),U||i("file not found:",V);let Z={path:V,flags:h,sah:U};F.mapS3FileToOFile(Q,Z),Z.lockType=s.SQLITE_LOCK_NONE;let te=new s.sqlite3_file(Q);return te.$pMethods=M.pointer,te.dispose(),m.poke32(x,h),0}catch(V){return F.storeErr(V),s.SQLITE_CANTOPEN}}},re=function(H){e.capi.sqlite3_vfs_find(H)&&o("VFS name is already registered:",H);let b=new s.sqlite3_vfs,D=s.sqlite3_vfs_find(null),Q=D?new s.sqlite3_vfs(D):null;return b.$iVersion=2,b.$szOsFile=s.sqlite3_file.structInfo.sizeof,b.$mxPathname=C,b.addOnDispose(b.$zName=m.allocCString(H),()=>d(b.pointer,0)),Q&&(b.$xRandomness=Q.$xRandomness,b.$xSleep=Q.$xSleep,Q.dispose()),!b.$xRandomness&&!$.xRandomness&&($.xRandomness=function(h,x,F){let V=m.heap8u(),U=0;for(;U<x;++U)V[F+U]=Math.random()*255e3&255;return U}),!b.$xSleep&&!$.xSleep&&($.xSleep=(h,x)=>0),e.vfs.installVfs({vfs:{struct:b,methods:$}}),b};class Y{vfsDir;#e;#i;#a;#r=new Map;#t=new Map;#s=new Set;#l=new Map;#n=new Uint8Array(W);#c;#o;#u;constructor(b=Object.create(null)){this.#u=b.verbosity??y.verbosity,this.vfsName=b.name||y.name,this.#o=re(this.vfsName),d(this.#o.pointer,this),this.vfsDir=b.directory||"."+this.vfsName,this.#c=new DataView(this.#n.buffer,this.#n.byteOffset),this.isReady=this.reset(!!(b.clearOnInit??y.clearOnInit)).then(()=>{if(this.$error)throw this.$error;return this.getCapacity()?Promise.resolve(void 0):this.addCapacity(b.initialCapacity||y.initialCapacity)})}#_(b,...D){this.#u>b&&z[b](this.vfsName+":",...D)}log(...b){this.#_(2,...b)}warn(...b){this.#_(1,...b)}error(...b){this.#_(0,...b)}getVfs(){return this.#o}getCapacity(){return this.#r.size}getFileCount(){return this.#t.size}getFileNames(){let b=[],D=this.#t.keys();for(let Q of D)b.push(Q);return b}async addCapacity(b){for(let D=0;D<b;++D){let Q=k(),x=await(await this.#i.getFileHandle(Q,{create:!0})).createSyncAccessHandle();this.#r.set(x,Q),this.setAssociatedPath(x,"",0)}return this.getCapacity()}async reduceCapacity(b){let D=0;for(let Q of Array.from(this.#s)){if(D===b||this.getFileCount()===this.getCapacity())break;let h=this.#r.get(Q);Q.close(),await this.#i.removeEntry(h),this.#r.delete(Q),this.#s.delete(Q),++D}return D}releaseAccessHandles(){for(let b of this.#r.keys())b.close();this.#r.clear(),this.#t.clear(),this.#s.clear()}async acquireAccessHandles(b){let D=[];for await(let[Q,h]of this.#i)h.kind==="file"&&D.push([Q,h]);return Promise.all(D.map(async([Q,h])=>{try{let x=await h.createSyncAccessHandle();if(this.#r.set(x,Q),b)x.truncate(T),this.setAssociatedPath(x,"",0);else{let F=this.getAssociatedPath(x);F?this.#t.set(F,x):this.#s.add(x)}}catch(x){throw this.storeErr(x),this.releaseAccessHandles(),x}}))}getAssociatedPath(b){b.read(this.#n,{at:0});let D=this.#c.getUint32(S);if(this.#n[0]&&(D&s.SQLITE_OPEN_DELETEONCLOSE||!(D&w)))return f(`Removing file with unexpected flags ${D.toString(16)}`,this.#n),this.setAssociatedPath(b,"",0),"";let Q=new Uint32Array(j/4);b.read(Q,{at:A});let h=this.computeDigest(this.#n);if(Q.every((x,F)=>x===h[F])){let x=this.#n.findIndex(F=>F===0);return x===0&&b.truncate(T),x?R.decode(this.#n.subarray(0,x)):""}else return f("Disassociating file with bad digest."),this.setAssociatedPath(b,"",0),""}setAssociatedPath(b,D,Q){let h=N.encodeInto(D,this.#n);C<=h.written+1&&i("Path too long:",D),this.#n.fill(0,h.written,C),this.#c.setUint32(S,Q);let x=this.computeDigest(this.#n);b.write(this.#n,{at:0}),b.write(x,{at:A}),b.flush(),D?(this.#t.set(D,b),this.#s.delete(b)):(b.truncate(T),this.#s.add(b))}computeDigest(b){let D=3735928559,Q=1103547991;for(let h of b)D=31*D+h*307,Q=31*Q+h*307;return new Uint32Array([D>>>0,Q>>>0])}async reset(b){await this.isReady;let D=await navigator.storage.getDirectory(),Q,h;for(let x of this.vfsDir.split("/"))x&&(Q=D,D=await D.getDirectoryHandle(x,{create:!0}));return this.#e=D,this.#a=Q,this.#i=await this.#e.getDirectoryHandle(q,{create:!0}),this.releaseAccessHandles(),this.acquireAccessHandles(b)}getPath(b){return m.isPtr(b)&&(b=m.cstrToJs(b)),(b instanceof URL?b:new URL(b,"file://localhost/")).pathname}deletePath(b){let D=this.#t.get(b);return D&&(this.#t.delete(b),this.setAssociatedPath(D,"",0)),!!D}storeErr(b,D){return b&&(b.sqlite3Rc=D||s.SQLITE_IOERR,this.error(b)),this.$error=b,D}popErr(){let b=this.$error;return this.$error=void 0,b}nextAvailableSAH(){let[b]=this.#s.keys();return b}getOFileForS3File(b){return this.#l.get(b)}mapS3FileToOFile(b,D){D?(this.#l.set(b,D),_(b,this)):(this.#l.delete(b),_(b,!1))}hasFilename(b){return this.#t.has(b)}getSAHForPath(b){return this.#t.get(b)}async removeVfs(){if(!this.#o.pointer||!this.#i)return!1;s.sqlite3_vfs_unregister(this.#o.pointer),this.#o.dispose();try{this.releaseAccessHandles(),await this.#e.removeEntry(q,{recursive:!0}),this.#i=void 0,await this.#a.removeEntry(this.#e.name,{recursive:!0}),this.#e=this.#a=void 0}catch(b){e.config.error(this.vfsName,"removeVfs() failed:",b)}return!0}exportFile(b){let D=this.#t.get(b)||i("File not found:",b),Q=D.getSize()-T,h=new Uint8Array(Q>0?Q:0);if(Q>0){let x=D.read(h,{at:T});x!=Q&&i("Expected to read "+Q+" bytes but read "+x+".")}return h}async importDbChunked(b,D){let Q=this.#t.get(b)||this.nextAvailableSAH()||i("No available handles to import to.");Q.truncate(0);let h=0,x,F=!1,V=!1;try{for(;(x=await D())!==void 0;)x instanceof ArrayBuffer&&(x=new Uint8Array(x)),h===0&&x.byteLength>=15&&(p.affirmDbHeader(x),F=!0),Q.write(x,{at:T+h}),h+=x.byteLength;if((h<512||h%512!==0)&&i("Input size",h,"is not correct for an SQLite database."),!F){let U=new Uint8Array(20);Q.read(U,{at:0}),p.affirmDbHeader(U)}Q.write(new Uint8Array([1,1]),{at:T+18})}catch(U){throw this.setAssociatedPath(Q,"",0),U}return this.setAssociatedPath(Q,b,s.SQLITE_OPEN_MAIN_DB),h}importDb(b,D){if(D instanceof ArrayBuffer)D=new Uint8Array(D);else if(D instanceof Function)return this.importDbChunked(b,D);let Q=this.#t.get(b)||this.nextAvailableSAH()||i("No available handles to import to."),h=D.byteLength;(h<512||h%512!=0)&&i("Byte array size is invalid for an SQLite db.");let x="SQLite format 3";for(let V=0;V<x.length;++V)x.charCodeAt(V)!==D[V]&&i("Input does not contain an SQLite database header.");let F=Q.write(D,{at:T});return F!=h?(this.setAssociatedPath(Q,"",0),i("Expected to write "+h+" bytes but wrote "+F+".")):(Q.write(new Uint8Array([1,1]),{at:T+18}),this.setAssociatedPath(Q,b,s.SQLITE_OPEN_MAIN_DB)),F}}class oe{#e;constructor(b){this.#e=b,this.vfsName=b.vfsName}async addCapacity(b){return this.#e.addCapacity(b)}async reduceCapacity(b){return this.#e.reduceCapacity(b)}getCapacity(){return this.#e.getCapacity(this.#e)}getFileCount(){return this.#e.getFileCount()}getFileNames(){return this.#e.getFileNames()}async reserveMinimumCapacity(b){let D=this.#e.getCapacity();return D<b?this.#e.addCapacity(b-D):D}exportFile(b){return this.#e.exportFile(b)}importDb(b,D){return this.#e.importDb(b,D)}async wipeFiles(){return this.#e.reset(!0)}unlink(b){return this.#e.deletePath(b)}async removeVfs(){return this.#e.removeVfs()}}let ce=async()=>{let H=await navigator.storage.getDirectory(),b=".opfs-sahpool-sync-check-"+k(),h=(await(await H.getFileHandle(b,{create:!0})).createSyncAccessHandle()).close();return await h,await H.removeEntry(b),h?.then&&i("The local OPFS API is too old for opfs-sahpool:","it has an async FileSystemSyncAccessHandle.close() method."),!0},_e=0;e.installOpfsSAHPoolVfs=async function(H=Object.create(null)){let b=H.name||y.name;return r[b]?r[b]:!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory?r[b]=Promise.reject(new Error("Missing required OPFS APIs.")):r[b]=ce().then(async function(){if(H.$testThrowInInit)throw H.$testThrowInInit;let D=new Y(H);return D.isReady.then(async()=>{let Q=new oe(D);if(e.oo1){let h=e.oo1,x=D.getVfs(),F=function(...V){let U=h.DB.dbCtorHelper.normalizeArgs(...V);U.vfs=x.$zName,h.DB.dbCtorHelper.call(this,U)};F.prototype=Object.create(h.DB.prototype),Q.OpfsSAHPoolDb=F,h.DB.dbCtorHelper.setVfsPostOpenSql(x.pointer,function(V,U){U.capi.sqlite3_exec(V,["pragma journal_mode=DELETE;","pragma cache_size=-16384;"],0,0,0)})}return D.log("VFS initialized."),Q}).catch(async Q=>{throw await D.removeVfs().catch(()=>{}),Q})}).catch(D=>r[b]=Promise.reject(D))}}),typeof n<"u"){let e=Object.assign(Object.create(null),{exports:typeof wasmExports>"u"?n.asm:wasmExports,memory:n.wasmMemory},globalThis.sqlite3ApiConfig||{});globalThis.sqlite3ApiConfig=e;let i;try{i=globalThis.sqlite3ApiBootstrap()}catch(o){throw console.error("sqlite3ApiBootstrap() error:",o),o}finally{delete globalThis.sqlite3ApiBootstrap,delete globalThis.sqlite3ApiConfig}n.sqlite3=i}else console.warn("This is not running in an Emscripten module context, so","globalThis.sqlite3ApiBootstrap() is _not_ being called due to lack","of config info for the WASM environment.","It must be called manually.")}),ue.ready}})(),Ma=function(){let pe=mt;if(!pe)throw new Error("Expecting globalThis.sqlite3InitModule to be defined by the Emscripten build.");let se=globalThis.sqlite3InitModuleState=Object.assign(Object.create(null),{moduleScript:globalThis?.document?.currentScript,isWorker:typeof WorkerGlobalScope<"u",location:globalThis.location,urlParams:globalThis?.location?.href?new URL(globalThis.location.href).searchParams:new URLSearchParams});if(se.debugModule=se.urlParams.has("sqlite3.debugModule")?(...ue)=>console.warn("sqlite3.debugModule:",...ue):()=>{},se.urlParams.has("sqlite3.dir"))se.sqlite3Dir=se.urlParams.get("sqlite3.dir")+"/";else if(se.moduleScript){let ue=se.moduleScript.src.split("/");ue.pop(),se.sqlite3Dir=ue.join("/")+"/"}if(globalThis.sqlite3InitModule=function ue(...t){return pe(...t).then(be=>{let xe=be.sqlite3;xe.scriptInfo=se,ue.__isUnderTest&&(xe.__isUnderTest=!0);let Me=xe.asyncPostInit;return delete xe.asyncPostInit,Me()}).catch(be=>{throw console.error("Exception loading sqlite3 module:",be),be})},globalThis.sqlite3InitModule.ready=pe.ready,globalThis.sqlite3InitModuleState.moduleScript){let ue=globalThis.sqlite3InitModuleState,t=ue.moduleScript.src.split("/");t.pop(),ue.scriptDir=t.join("/")+"/"}return se.debugModule("sqlite3InitModuleState =",se),globalThis.sqlite3InitModule}();mt=Ma;var Ut=mt;globalThis.sqlite3Worker1Promiser=function pe(se=pe.defaultConfig){if(arguments.length===1&&typeof arguments[0]=="function"){let ee=se;se=Object.assign(Object.create(null),pe.defaultConfig),se.onready=ee}else se=Object.assign(Object.create(null),pe.defaultConfig,se);let ue=Object.create(null),t=function(){},be=se.onerror||t,xe=se.debug||t,Me=se.generateMessageId?void 0:Object.create(null),Je=se.generateMessageId||function(ee){return ee.type+"#"+(Me[ee.type]=(Me[ee.type]||0)+1)},We=(...ee)=>{throw new Error(ee.join(" "))};se.worker||(se.worker=pe.defaultConfig.worker),typeof se.worker=="function"&&(se.worker=se.worker());let Oe,Qe;return se.worker.onmessage=function(ee){ee=ee.data,xe("worker1.onmessage",ee);let ve=ue[ee.messageId];if(!ve){if(ee&&ee.type==="sqlite3-api"&&ee.result==="worker1-ready"){se.onready&&se.onready(Qe);return}if(ve=ue[ee.type],ve&&ve.onrow){ve.onrow(ee);return}se.onunhandled?se.onunhandled(arguments[0]):be("sqlite3Worker1Promiser() unhandled worker message:",ee);return}switch(delete ue[ee.messageId],ee.type){case"error":ve.reject(ee);return;case"open":Oe||(Oe=ee.dbId);break;case"close":ee.dbId===Oe&&(Oe=void 0);break;default:break}try{ve.resolve(ee)}catch(Ie){ve.reject(Ie)}},Qe=function(){let ee;arguments.length===1?ee=arguments[0]:arguments.length===2?(ee=Object.create(null),ee.type=arguments[0],ee.args=arguments[1],ee.dbId=ee.args.dbId):We("Invalid arguments for sqlite3Worker1Promiser()-created factory."),!ee.dbId&&ee.type!=="open"&&(ee.dbId=Oe),ee.messageId=Je(ee),ee.departureTime=performance.now();let ve=Object.create(null);ve.message=ee;let Ie;ee.type==="exec"&&ee.args&&(typeof ee.args.callback=="function"?(Ie=ee.messageId+":row",ve.onrow=ee.args.callback,ee.args.callback=Ie,ue[Ie]=ve):typeof ee.args.callback=="string"&&We("exec callback may not be a string when using the Promise interface."));let He=new Promise(function(gt,ke){ve.resolve=gt,ve.reject=ke,ue[ee.messageId]=ve,xe("Posting",ee.type,"message to Worker dbId="+(Oe||"default")+":",ee),se.worker.postMessage(ee)});return Ie&&(He=He.finally(()=>delete ue[Ie])),He}};globalThis.sqlite3Worker1Promiser.defaultConfig={worker:function(){return new Worker(new URL("sqlite3-worker1-bundler-friendly.mjs",import.meta.url),{type:"module"})},onerror:(...pe)=>console.error("worker1 promiser error",...pe)};sqlite3Worker1Promiser.v2=function(pe){let se;typeof pe=="function"?(se=pe,pe={}):typeof pe?.onready=="function"&&(se=pe.onready,delete pe.onready);let ue=Object.create(null);pe=Object.assign(pe||Object.create(null),{onready:async function(be){try{se&&await se(be),ue.resolve(be)}catch(xe){ue.reject(xe)}}});let t=new Promise(function(be,xe){ue.resolve=be,ue.reject=xe});try{this.original(pe)}catch(be){ue.reject(be)}return t}.bind({original:sqlite3Worker1Promiser});var nl=sqlite3Worker1Promiser.v2;var ol=self.sqlite3Worker1Promiser,Wt=Ut;var ht=class{db;runQuery(se){return new Promise((ue,t)=>{this.db&&this.db.exec({sql:se,rowMode:"array",callback:function(be){ue(be),console.log(be)}})})}async connectDb(se){try{let ue=await Wt(),t="opfs"in ue;console.log("opfs available : ",!!t),ue.initWorker1API(),t?this.db=new ue.oo1.OpfsDb(se):this.db=new ue.oo1.OpfsDb(se,"c")}catch(ue){console.error(ue)}}},Qt=new ht;addEventListener("message",async({data:pe})=>{pe.action==="connect"&&await Qt.connectDb(pe.data.dbName),pe.action=="fetch"&&Qt.runQuery(pe.data)});
